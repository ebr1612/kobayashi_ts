!function(Z){"function"==typeof define&&define.amd?define(Z):Z()}((function(){"use strict";const Z=function(){if(!window.navigator)return{isMobileDevice:!1,isIOSDevice:!1,browserName:"Node",webGLSupported:!1,gpuDesc:null,deviceCategory:"High"};const Z=null!=(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Pixel/i)||navigator.userAgent.match(/Windows Phone/i)),l=function(){const Z=navigator.userAgent;let l,b,d,m=navigator.appName,c=""+parseFloat(navigator.appVersion),G=parseInt(navigator.appVersion,10);return navigator.brave?(m="Brave",b=Z.indexOf("Chrome"),c=Z.substring(b+7,Z.indexOf(" ",b+7))):-1!=(b=Z.indexOf("Opera"))?(m="Opera",c=Z.substring(b+6),-1!=(b=Z.indexOf("Version"))&&(c=Z.substring(b+8))):-1!=(b=Z.indexOf("MSIE"))?(m="Microsoft Internet Explorer",c=Z.substring(b+5)):-1!=(b=Z.indexOf("Edge"))?(m="Edge",c=Z.substring(b+4)):-1!=(b=Z.indexOf("Chrome"))?(m="Chrome",c=Z.substring(b+7,Z.indexOf(" ",b+7))):-1!=(b=Z.indexOf("Safari"))?(m="Safari",c=Z.substring(b+7),-1!=(b=Z.indexOf("Version"))&&(c=Z.substring(b+8))):-1!=(b=Z.indexOf("Firefox"))?(m="Firefox",c=Z.substring(b+8)):(l=Z.lastIndexOf(" ")+1)<(b=Z.lastIndexOf("/"))&&(m=Z.substring(l,b),c=Z.substring(b+1),m.toLowerCase()==m.toUpperCase()&&(m=navigator.appName)),-1!=(d=c.indexOf(";"))&&(c=c.substring(0,d)),-1!=(d=c.indexOf(" "))&&(c=c.substring(0,d)),G=parseInt(""+c,10),isNaN(G)&&(c=""+parseFloat(navigator.appVersion),G=parseInt(navigator.appVersion,10)),{browserName:m,fullVersion:c,majorVersion:G,appName:navigator.appName,userAgent:navigator.userAgent}}(),b=function(){let Z,l;try{Z=document.createElement("canvas").getContext("webgl")}catch(Z){}if(!Z)return;try{l=document.createElement("canvas").getContext("webgl2")}catch(Z){}const b=Z.getExtension("WEBGL_debug_renderer_info");if(!b)return console.warn("Unable to determine GPU Info:"),{vendor:"Unknown",renderer:"Unknown",gpuVendor:"Unknown",maxTextureSize:"Unknown",supportsWebGL2:null!=l};const d=Z.getParameter(b.UNMASKED_VENDOR_WEBGL),m=Z.getParameter(b.UNMASKED_RENDERER_WEBGL),c=Z.getParameter(Z.MAX_TEXTURE_SIZE);let G;return m.match(/NVIDIA/i)?G="NVidia":m.match(/AMD/i)||m.match(/Radeon/i)?G="AMD":m.match(/Intel/i)?G="Intel":m.match(/Mali/i)?G="ARM":m.match(/Apple/i)?G="Apple":m.match(/Adreno/i)?G="Adreno":m.match(/Google Swiftshader/i)?G="Google":console.warn("Unable to determine GPU vendor:",m),{vendor:d,renderer:m,gpuVendor:G,maxTextureSize:c,supportsWebGL2:null!=l}}();let d="Low";if(b)if(Z)d="Low";else{const Z=b.renderer.replace(/[()]/g,"").split(" ");if("NVidia"==b.gpuVendor){const l=Z.indexOf("GTX");if(-1!=l){const b=Z[l+1];if(b.endsWith("M")){d=parseInt(b.substring(0,b.length-2))>=900?"Medium":"Low"}else{d=parseInt(b)>=1030?"High":"Medium"}}else d=Z.includes("RTX")||Z.includes("TITAN")||Z.includes("Quadro")?"High":"Low"}else if("AMD"==b.gpuVendor){const l=Z.indexOf("Radeon");if(-1!=l){const b=Z.indexOf("RX");if(-1!=b)if("Vega"==Z[b+1])d="High";else{const l=Z[b+1];let m;l.endsWith("X")?(m=parseInt(l.substring(0,l.length-2)),d="High"):m=parseInt(l),d=m>=480?"High":"Medium"}else if("Pro"==Z[l+1]){d=parseInt(Z[b+1])>=450?"Medium":"Low"}else if("Sky"==Z[l+1]){d=parseInt(Z[b+1])>=700?"Medium":"Low"}else d="Low"}else d=Z.includes("FirePro")||Z.includes("Quadro")?"High":"Low"}else("Adreno"==b.gpuVendor||"Intel"==b.gpuVendor||"Google"==b.gpuVendor)&&(d="Low")}return{isMobileDevice:Z,isIOSDevice:null!=(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)),browserName:l.browserName,fullVersion:l.fullVersion,majorVersion:l.majorVersion,appName:l.appName,userAgent:l.userAgent,webGLSupported:null!=b,gpuDesc:b,deviceCategory:d}}();window.ZeaSystemDesc||(window.ZeaSystemDesc=Z);var l=null;try{var b="undefined"!=typeof module&&"function"==typeof module.require&&module.require("worker_threads")||"function"==typeof __non_webpack_require__&&__non_webpack_require__("worker_threads")||"function"==typeof require&&require("worker_threads");l=b.Worker}catch(Z){}function d(Z,b,d){var m=void 0===b?null:b,c=function(Z,l){return Buffer.from(Z,"base64").toString(l?"utf16":"utf8")}(Z,void 0!==d&&d),G=c.indexOf("\n",10)+1,X=c.substring(G)+(m?"//# sourceMappingURL="+m:"");return function(Z){return new l(X,Object.assign({},Z,{eval:!0}))}}function m(Z,l,b){var d=void 0===l?null:l,m=function(Z,l){var b=atob(Z);if(l){for(var d=new Uint8Array(b.length),m=0,c=b.length;m<c;++m)d[m]=b.charCodeAt(m);return String.fromCharCode.apply(null,new Uint16Array(d.buffer))}return b}(Z,void 0!==b&&b),c=m.indexOf("\n",10)+1,G=m.substring(c)+(d?"//# sourceMappingURL="+d:""),X=new Blob([G],{type:"application/javascript"});return URL.createObjectURL(X)}var c="[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0);var G,X,V,W=(G="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwp2YXIgd29ya2VyX2NvZGU9ZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gZShlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSwiZGVmYXVsdCIpP2UuZGVmYXVsdDplfWZ1bmN0aW9uIHQoZSl7aWYoZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7cmV0dXJuIE9iamVjdC5rZXlzKGUpLmZvckVhY2goKGZ1bmN0aW9uKHIpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxyKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxyLG4uZ2V0P246e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGVbcl19fSl9KSksdH1mdW5jdGlvbiByKCl7dGhyb3cgbmV3IEVycm9yKCJEeW5hbWljIHJlcXVpcmVzIGFyZSBub3QgY3VycmVudGx5IHN1cHBvcnRlZCBieSBAcm9sbHVwL3BsdWdpbi1jb21tb25qcyIpfXZhciBuLG8saT10KE9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGRlZmF1bHQ6e319KSk7cmV0dXJuIGUoKGZ1bmN0aW9uKGUpe2NvbnN0IHQ9e307dmFyIHI7KHI9dCkudW5wYWNrQnJpZGdlPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD17fTtmdW5jdGlvbiByKG4pe2lmKHRbbl0pcmV0dXJuIHRbbl0uZXhwb3J0czt2YXIgbz10W25dPXtpOm4sbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gZVtuXS5jYWxsKG8uZXhwb3J0cyxvLG8uZXhwb3J0cyxyKSxvLmw9ITAsby5leHBvcnRzfXJldHVybiByLm09ZSxyLmM9dCxyLmQ9ZnVuY3Rpb24oZSx0LG4pe3IubyhlLHQpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDpufSl9LHIucj1mdW5jdGlvbihlKXsidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOiJNb2R1bGUifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pfSxyLnQ9ZnVuY3Rpb24oZSx0KXtpZigxJnQmJihlPXIoZSkpLDgmdClyZXR1cm4gZTtpZig0JnQmJiJvYmplY3QiPT10eXBlb2YgZSYmZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciBuPU9iamVjdC5jcmVhdGUobnVsbCk7aWYoci5yKG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJkZWZhdWx0Iix7ZW51bWVyYWJsZTohMCx2YWx1ZTplfSksMiZ0JiYic3RyaW5nIiE9dHlwZW9mIGUpZm9yKHZhciBvIGluIGUpci5kKG4sbyxmdW5jdGlvbih0KXtyZXR1cm4gZVt0XX0uYmluZChudWxsLG8pKTtyZXR1cm4gbn0sci5uPWZ1bmN0aW9uKGUpe3ZhciB0PWUmJmUuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiBlLmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIGV9O3JldHVybiByLmQodCwiYSIsdCksdH0sci5vPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfSxyLnA9IiIscihyLnM9Mil9KFtmdW5jdGlvbihlLHQscil7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO2NvbnN0IG49cigxKSxpPXswOiJFUkFSX1NVQ0NFU1MiLDEwOiJFUkFSX0VORF9BUkNISVZFIiwxMToiRVJBUl9OT19NRU1PUlkiLDEyOiJFUkFSX0JBRF9EQVRBIiwxMzoiRVJBUl9CQURfQVJDSElWRSIsMTQ6IkVSQVJfVU5LTk9XTl9GT1JNQVQiLDE1OiJFUkFSX0VPUEVOIiwxNjoiRVJBUl9FQ1JFQVRFIiwxNzoiRVJBUl9FQ0xPU0UiLDE4OiJFUkFSX0VSRUFEIiwxOToiRVJBUl9FV1JJVEUiLDIwOiJFUkFSX1NNQUxMX0JVRiIsMjE6IkVSQVJfVU5LTk9XTiIsMjI6IkVSQVJfTUlTU0lOR19QQVNTV09SRCIsMjM6IkVSQVJfRVJFRkVSRU5DRSIsMjQ6IkVSQVJfQkFEX1BBU1NXT1JEIn0sYT17MDoiU3VjY2VzcyIsMTE6Ik5vdCBlbm91Z2ggbWVtb3J5IiwxMjoiQXJjaGl2ZSBoZWFkZXIgb3IgZGF0YSBhcmUgZGFtYWdlZCIsMTM6IkZpbGUgaXMgbm90IFJBUiBhcmNoaXZlIiwxNDoiVW5rbm93biBhcmNoaXZlIGZvcm1hdCIsMTU6IkZpbGUgb3BlbiBlcnJvciIsMTY6IkZpbGUgY3JlYXRlIGVycm9yIiwxNzoiRmlsZSBjbG9zZSBlcnJvciIsMTg6IkZpbGUgcmVhZCBlcnJvciIsMTk6IkZpbGUgd3JpdGUgZXJyb3IiLDIwOiJCdWZmZXIgZm9yIGFyY2hpdmUgY29tbWVudCBpcyB0b28gc21hbGwsIGNvbW1lbnQgdHJ1bmNhdGVkIiwyMToiVW5rbm93biBlcnJvciIsMjI6IlBhc3N3b3JkIGZvciBlbmNyeXB0ZWQgZmlsZSBvciBoZWFkZXIgaXMgbm90IHNwZWNpZmllZCIsMjM6IkNhbm5vdCBvcGVuIGZpbGUgc291cmNlIGZvciByZWZlcmVuY2UgcmVjb3JkIiwyNDoiV3JvbmcgcGFzc3dvcmQgaXMgc3BlY2lmaWVkIn07Y2xhc3Mgc3tjb25zdHJ1Y3RvcihlPSIiKXt0aGlzLl9wYXNzd29yZD1lLHRoaXMuX2FyY2hpdmU9bnVsbH1nZXRGaWxlTGlzdCgpe2xldCBlLFt0LHJdPXRoaXMub3BlbkFyYyghMCk7aWYoIlNVQ0NFU1MiIT09dC5zdGF0ZSllPVt0LG51bGxdO2Vsc2V7bGV0IHQsbixvPVtdO2Zvcig7W3Qsbl09dGhpcy5wcm9jZXNzTmV4dEZpbGUoKCgpPT4hMCkpLCJTVUNDRVNTIj09PXQuc3RhdGU7KW8ucHVzaChuLmZpbGVIZWFkZXIpO2U9IkVSQVJfRU5EX0FSQ0hJVkUiIT09dC5yZWFzb24/W3QsbnVsbF06W3tzdGF0ZToiU1VDQ0VTUyJ9LHthcmNIZWFkZXI6cixmaWxlSGVhZGVyczpvfV19cmV0dXJuIHRoaXMuY2xvc2VBcmMoKSxlfWV4dHJhY3RBbGwoKXtsZXQgZSxbdCxyXT10aGlzLm9wZW5BcmMoITEpO2lmKCJTVUNDRVNTIiE9PXQuc3RhdGUpZT1bdCxudWxsXTtlbHNle2xldCB0LG4sbz1bXTtmb3IoO1t0LG5dPXRoaXMucHJvY2Vzc05leHRGaWxlKCgoKT0+ITEpKSwiU1VDQ0VTUyI9PT10LnN0YXRlOylvLnB1c2gobik7ZT0iRVJBUl9FTkRfQVJDSElWRSIhPT10LnJlYXNvbj9bdCxudWxsXTpbe3N0YXRlOiJTVUNDRVNTIn0se2FyY0hlYWRlcjpyLGZpbGVzOm99XX1yZXR1cm4gdGhpcy5jbG9zZUFyYygpLGV9ZXh0cmFjdEZpbGVzKGUsdCl7bGV0IHIsW24sb109dGhpcy5vcGVuQXJjKCExLHQpLGk9e307Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDsrK3QpaVtlW3RdXT10O2lmKCJTVUNDRVNTIiE9PW4uc3RhdGUpcj1bbixudWxsXTtlbHNle2xldCB0LG4sYT1BcnJheShlLmxlbmd0aCkuZmlsbChudWxsKSxzPTA7Zm9yKDs7KXtsZXQgcj0hMSxvPW51bGw7aWYoW3Qsbl09dGhpcy5wcm9jZXNzTmV4dEZpbGUoKGU9PmUgaW4gaT8obz1pW2VdLCExKToocj0hMCwhMCkpKSwiU1VDQ0VTUyIhPT10LnN0YXRlKWJyZWFrO2lmKCFyJiYoYVtvXT1uLCsrcz09PWUubGVuZ3RoKSl7dC5yZWFzb249IkVSQVJfRU5EX0FSQ0hJVkUiO2JyZWFrfX1yPSJFUkFSX0VORF9BUkNISVZFIiE9PXQucmVhc29uP1t0LG51bGxdOlt7c3RhdGU6IlNVQ0NFU1MifSx7YXJjSGVhZGVyOm8sZmlsZXM6YX1dfXJldHVybiB0aGlzLmNsb3NlQXJjKCkscn1maWxlQ3JlYXRlZChlKXt9Y2xvc2UoZSl7dGhpcy5fbGFzdEZpbGVDb250ZW50PXRoaXMuY2xvc2VGaWxlKGUpfW9wZW5BcmMoZSx0KXtuLkV4dC5jdXJyZW50PXRoaXMsdGhpcy5fYXJjaGl2ZT1uZXcgby5SYXJBcmNoaXZlO2xldCByLGk9dGhpcy5fYXJjaGl2ZS5vcGVuKHRoaXMuX2ZpbGVQYXRoLHR8fHRoaXMuX3Bhc3N3b3JkLGUpO3JldHVybiByPTAhPT1pLnN0YXRlLmVyckNvZGU/W3RoaXMuZ2V0RmFpbEluZm8oaS5zdGF0ZS5lcnJDb2RlLGkuc3RhdGUuZXJyVHlwZSksbnVsbF06W3tzdGF0ZToiU1VDQ0VTUyJ9LHtjb21tZW50OmkuY29tbWVudCxmbGFnczp7dm9sdW1lOjAhPSgxJmkuZmxhZ3MpLGxvY2s6MCE9KDQmaS5mbGFncyksc29saWQ6MCE9KDgmaS5mbGFncyksYXV0aEluZm86MCE9KDMyJmkuZmxhZ3MpLHJlY292ZXJ5UmVjb3JkOjAhPSg2NCZpLmZsYWdzKSxoZWFkZXJFbmNyeXB0ZWQ6MCE9KDEyOCZpLmZsYWdzKX19XSxuLkV4dC5jdXJyZW50PW51bGwscn1wcm9jZXNzTmV4dEZpbGUoZSl7bGV0IHQ7bi5FeHQuY3VycmVudD10aGlzO2xldCByPXRoaXMuX2FyY2hpdmUuZ2V0RmlsZUhlYWRlcigpLG89W3tzdGF0ZToiU1VDQ0VTUyJ9LG51bGxdO2lmKDA9PT1yLnN0YXRlLmVyckNvZGUpe2xldCB0PWUoci5uYW1lKTt0aGlzLl9sYXN0RmlsZUNvbnRlbnQ9bnVsbDtsZXQgbj10aGlzLl9hcmNoaXZlLnJlYWRGaWxlKHQpOzA9PT1uLmVyckNvZGV8fHR8fChvWzBdPXRoaXMuZ2V0RmFpbEluZm8obi5lcnJDb2RlLG4uZXJyVHlwZSksMjI9PT1uLmVyckNvZGU/bj10aGlzLl9hcmNoaXZlLnJlYWRGaWxlKCEwKTpuLmVyckNvZGU9MCksMD09PW4uZXJyQ29kZT9vWzFdPXRoaXMuX2xhc3RGaWxlQ29udGVudDooci5zdGF0ZS5lcnJDb2RlPW4uZXJyQ29kZSxyLnN0YXRlLmVyclR5cGU9bi5lcnJUeXBlKSx0aGlzLl9sYXN0RmlsZUNvbnRlbnQ9bnVsbH1yZXR1cm4gdD0wIT09ci5zdGF0ZS5lcnJDb2RlP1t0aGlzLmdldEZhaWxJbmZvKHIuc3RhdGUuZXJyQ29kZSxyLnN0YXRlLmVyclR5cGUpLG51bGxdOlt7c3RhdGU6IlNVQ0NFU1MifSx7ZmlsZUhlYWRlcjp7bmFtZTpyLm5hbWUsZmxhZ3M6e2VuY3J5cHRlZDowIT0oNCZyLmZsYWdzKSxzb2xpZDowIT0oMTYmci5mbGFncyksZGlyZWN0b3J5OjAhPSgzMiZyLmZsYWdzKX0scGFja1NpemU6ci5wYWNrU2l6ZSx1bnBTaXplOnIudW5wU2l6ZSxjcmM6ci5jcmMsdGltZTpmdW5jdGlvbihlKXtjb25zdCB0PVs1LDYsNSw1LDQsN107bGV0IHI9W107Zm9yKGxldCBuIG9mIHQpci5wdXNoKGUmKDE8PG4pLTEpLGU+Pj1uO2xldCBuPWU9PmU8MTA/IjAiK2U6IiIrZTtyZXR1cm5gJHsxOTgwKyhyPXIucmV2ZXJzZSgpKVswXX0tJHtuKHJbMV0pfS0ke24oclsyXSl9VCR7bihyWzNdKX06JHtuKHJbNF0pfToke24oMipyWzVdKX0uMDAwYH0oci50aW1lKSx1bnBWZXI6YCR7TWF0aC5mbG9vcihyLnVucFZlci8xMCl9LiR7ci51bnBWZXIlMTB9YCxtZXRob2Q6ZnVuY3Rpb24oZSl7cmV0dXJuezQ4OiJTdG9yaW5nIiw0OToiRmFzdGVzdCIsNTA6IkZhc3QiLDUxOiJOb3JtYWwiLDUyOiJHb29kIiw1MzoiQmVzdCJ9W2VdfHwiVW5rbm93biJ9KHIubWV0aG9kKX0sZXh0cmFjdDpvfV0sbi5FeHQuY3VycmVudD1udWxsLHR9Y2xvc2VBcmMoKXtuLkV4dC5jdXJyZW50PXRoaXMsdGhpcy5fYXJjaGl2ZS5kZWxldGUoKSxuLkV4dC5jdXJyZW50PW51bGwsdGhpcy5fYXJjaGl2ZT1udWxsfWdldEZhaWxJbmZvKGUsdCl7cmV0dXJue3N0YXRlOiJGQUlMIixyZWFzb246aVtlXSxtc2c6YVtlXX19fXMuX2N1cnJlbnQ9bnVsbCx0LkV4dHJhY3Rvcj1zfSxmdW5jdGlvbihlLHQscil7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuRXh0PXtjdXJyZW50Om51bGx9fSxmdW5jdGlvbihlLHQscil7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGZ1bmN0aW9uKGUpe2Zvcih2YXIgciBpbiBlKXQuaGFzT3duUHJvcGVydHkocil8fCh0W3JdPWVbcl0pfShyKDMpKTt2YXIgbj1yKDEpO3QuRXh0PW4uRXh0fSxmdW5jdGlvbihlLHQscil7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO2NvbnN0IG49cig0KSxvPXIoNik7dC5jcmVhdGVFeHRyYWN0b3JGcm9tRGF0YT1mdW5jdGlvbihlLHQ9IiIpe3JldHVybiBuZXcgbi5EYXRhRXh0cmFjdG9yKGUsdCl9LHQuY3JlYXRlRXh0cmFjdG9yRnJvbUZpbGU9ZnVuY3Rpb24oZSx0PSIiLHI9IiIpe3JldHVybiBuZXcgby5GaWxlRXh0cmFjdG9yKGUsdCxyKX19LGZ1bmN0aW9uKGUsdCxyKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7Y29uc3Qgbj1yKDUpLGk9cigwKTt0LkRhdGFFeHRyYWN0b3I9Y2xhc3MgZXh0ZW5kcyBpLkV4dHJhY3Rvcntjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKHQpLHRoaXMuZGF0YUZpbGVzPXt9LHRoaXMuZGF0YUZpbGVNYXA9e30sdGhpcy5jdXJyZW50RmQ9MTtsZXQgcj17ZmlsZTpuZXcgbi5EYXRhRmlsZShuZXcgVWludDhBcnJheShlKSksZmQ6dGhpcy5jdXJyZW50RmQrK307dGhpcy5fZmlsZVBhdGg9Il9kZWZhdWx0VW5yYXJKU18ucmFyIix0aGlzLmRhdGFGaWxlc1t0aGlzLl9maWxlUGF0aF09cix0aGlzLmRhdGFGaWxlTWFwW3IuZmRdPXRoaXMuX2ZpbGVQYXRofW9wZW4oZSl7bGV0IHQ9dGhpcy5kYXRhRmlsZXNbZV07cmV0dXJuIHQ/dC5mZDowfWNyZWF0ZShlKXtsZXQgdD10aGlzLmN1cnJlbnRGZCsrO3JldHVybiB0aGlzLmRhdGFGaWxlc1tlXT17ZmlsZTpuZXcgbi5EYXRhRmlsZSxmZDp0aGlzLmN1cnJlbnRGZCsrfSx0aGlzLmRhdGFGaWxlTWFwW3RdPWUsdH1jbG9zZUZpbGUoZSl7bGV0IHQ9dGhpcy5kYXRhRmlsZXNbdGhpcy5kYXRhRmlsZU1hcFtlXV07aWYoIXQpcmV0dXJuIG51bGw7bGV0IHI9dC5maWxlLnJlYWRBbGwoKTtyZXR1cm4gMSE9PWU/KGRlbGV0ZSB0aGlzLmRhdGFGaWxlc1t0aGlzLmRhdGFGaWxlTWFwW2VdXSxkZWxldGUgdGhpcy5kYXRhRmlsZU1hcFtlXSk6dC5maWxlLnNlZWsoMCwiU0VUIikscn1yZWFkKGUsdCxyKXtsZXQgbj10aGlzLmRhdGFGaWxlc1t0aGlzLmRhdGFGaWxlTWFwW2VdXTtpZighbilyZXR1cm4tMTtsZXQgaT1uLmZpbGUucmVhZChyKTtyZXR1cm4gbnVsbD09PWk/LTE6KG8uSEVBUFU4LnNldChpLHQpLGkuYnl0ZUxlbmd0aCl9d3JpdGUoZSx0LHIpe2xldCBuPXRoaXMuZGF0YUZpbGVzW3RoaXMuZGF0YUZpbGVNYXBbZV1dO3JldHVybiEhbiYmKG4uZmlsZS53cml0ZShvLkhFQVBVOC5zbGljZSh0LHQrcikpLCEwKX10ZWxsKGUpe2xldCB0PXRoaXMuZGF0YUZpbGVzW3RoaXMuZGF0YUZpbGVNYXBbZV1dO3JldHVybiB0P3QuZmlsZS50ZWxsKCk6LTF9c2VlayhlLHQscil7bGV0IG49dGhpcy5kYXRhRmlsZXNbdGhpcy5kYXRhRmlsZU1hcFtlXV07cmV0dXJuISFuJiZuLmZpbGUuc2Vlayh0LHIpfX19LGZ1bmN0aW9uKGUsdCxyKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5EYXRhRmlsZT1jbGFzc3tjb25zdHJ1Y3RvcihlKXt0aGlzLmJ1ZmZlcnM9W10sdGhpcy5wb3M9MCx0aGlzLnNpemU9MCxlJiYodGhpcy5idWZmZXJzLnB1c2goZSksdGhpcy5zaXplPWUuYnl0ZUxlbmd0aCx0aGlzLnBvcz0wKX1yZWFkKGUpe2lmKHRoaXMuZmxhdHRlbigpLGUrdGhpcy5wb3M+dGhpcy5zaXplKXJldHVybiBudWxsO2xldCB0PXRoaXMucG9zO3JldHVybiB0aGlzLnBvcys9ZSx0aGlzLmJ1ZmZlcnNbMF0uc2xpY2UodCx0aGlzLnBvcyl9cmVhZEFsbCgpe3JldHVybiB0aGlzLmZsYXR0ZW4oKSx0aGlzLmJ1ZmZlcnNbMF19d3JpdGUoZSl7cmV0dXJuIHRoaXMuYnVmZmVycy5wdXNoKGUpLHRoaXMuc2l6ZSs9ZS5ieXRlTGVuZ3RoLHRoaXMucG9zKz1lLmJ5dGVMZW5ndGgsITB9dGVsbCgpe3JldHVybiB0aGlzLnBvc31zZWVrKGUsdCl7bGV0IHI9dGhpcy5wb3M7cmV0dXJuIlNFVCI9PT10P3I9ZToiQ1VSIj09PXQ/cis9ZTpyPXRoaXMuc2l6ZS1lLCEocjwwfHxyPnRoaXMuc2l6ZXx8KHRoaXMucG9zPXIsMCkpfWZsYXR0ZW4oKXtpZih0aGlzLmJ1ZmZlcnMubGVuZ3RoPD0xKXJldHVybjtsZXQgZT1uZXcgVWludDhBcnJheSh0aGlzLnNpemUpLHQ9MDtmb3IobGV0IHIgb2YgdGhpcy5idWZmZXJzKWUuc2V0KHIsdCksdCs9ci5ieXRlTGVuZ3RoO3RoaXMuYnVmZmVycz1bZV19fX0sZnVuY3Rpb24oZSx0LHIpeyhmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7Y29uc3Qgbj1yKDEyKSxpPXIoMTMpLGE9cigwKTt0LkZpbGVFeHRyYWN0b3I9Y2xhc3MgZXh0ZW5kcyBhLkV4dHJhY3Rvcntjb25zdHJ1Y3RvcihlLHQscil7c3VwZXIociksdGhpcy5fZmlsZVBhdGg9ZSx0aGlzLmZpbGVNYXA9e30sdGhpcy5fdGFyZ2V0PXR9b3BlbihlKXtsZXQgdD1uLm9wZW5TeW5jKGUsInIiKTtyZXR1cm4gdGhpcy5maWxlTWFwW3RdPXtzaXplOm4uZnN0YXRTeW5jKHQpLnNpemUscG9zOjAsbmFtZTplfSx0fWNyZWF0ZShlKXtsZXQgdD1pLmpvaW4odGhpcy5fdGFyZ2V0LGUpO2kucGFyc2UodCkuZGlyLnNwbGl0KCIvIikucmVkdWNlKCgoZSx0KT0+KGUrPXQrIi8iLG4uZXhpc3RzU3luYyhlKXx8bi5ta2RpclN5bmMoZSksZSkpLCIiKTtsZXQgcj1uLm9wZW5TeW5jKHQsInciKTtyZXR1cm4gdGhpcy5maWxlTWFwW3JdPXtzaXplOjAscG9zOjAsbmFtZTplfSxyfWNsb3NlRmlsZShlKXtyZXR1cm4gZGVsZXRlIHRoaXMuZmlsZU1hcFtlXSxuLmNsb3NlU3luYyhlKSxudWxsfXJlYWQodCxyLGkpe2xldCBhPXRoaXMuZmlsZU1hcFt0XSxzPW5ldyBlKGkpLHU9bi5yZWFkU3luYyh0LHMsMCxpLGEucG9zKTtyZXR1cm4gby5IRUFQVTguc2V0KHMsciksYS5wb3MrPXUsdX13cml0ZSh0LHIsaSl7bGV0IGE9dGhpcy5maWxlTWFwW3RdLHM9bi53cml0ZVN5bmModCxuZXcgZShvLkhFQVBVOC5zdWJhcnJheShyLHIraSkpLDAsaSk7cmV0dXJuIGEucG9zKz1zLGEuc2l6ZSs9cyxzPT09aX10ZWxsKGUpe3JldHVybiB0aGlzLmZpbGVNYXBbZV0ucG9zfXNlZWsoZSx0LHIpe2xldCBuPXRoaXMuZmlsZU1hcFtlXSxvPW4ucG9zO3JldHVybiJTRVQiPT09cj9vPTA6IkVORCI9PT1yJiYobz1uLnNpemUpLCEoKG8rPXQpPDB8fG8+bi5zaXplfHwobi5wb3M9bywwKSl9fX0pLmNhbGwodGhpcyxyKDcpLkJ1ZmZlcil9LGZ1bmN0aW9uKGUsdCxyKXsoZnVuY3Rpb24oZSl7Ci8qIQoJICogVGhlIGJ1ZmZlciBtb2R1bGUgZnJvbSBub2RlLmpzLCBmb3IgdGhlIGJyb3dzZXIuCgkgKgoJICogQGF1dGhvciAgIEZlcm9zcyBBYm91a2hhZGlqZWggPGZlcm9zc0BmZXJvc3Mub3JnPiA8aHR0cDovL2Zlcm9zcy5vcmc+CgkgKiBAbGljZW5zZSAgTUlUCgkgKi8KdmFyIG49cig5KSxvPXIoMTApLGk9cigxMSk7ZnVuY3Rpb24gYSgpe3JldHVybiB1LlRZUEVEX0FSUkFZX1NVUFBPUlQ/MjE0NzQ4MzY0NzoxMDczNzQxODIzfWZ1bmN0aW9uIHMoZSx0KXtpZihhKCk8dCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW52YWxpZCB0eXBlZCBhcnJheSBsZW5ndGgiKTtyZXR1cm4gdS5UWVBFRF9BUlJBWV9TVVBQT1JUPyhlPW5ldyBVaW50OEFycmF5KHQpKS5fX3Byb3RvX189dS5wcm90b3R5cGU6KG51bGw9PT1lJiYoZT1uZXcgdSh0KSksZS5sZW5ndGg9dCksZX1mdW5jdGlvbiB1KGUsdCxyKXtpZighKHUuVFlQRURfQVJSQVlfU1VQUE9SVHx8dGhpcyBpbnN0YW5jZW9mIHUpKXJldHVybiBuZXcgdShlLHQscik7aWYoIm51bWJlciI9PXR5cGVvZiBlKXtpZigic3RyaW5nIj09dHlwZW9mIHQpdGhyb3cgbmV3IEVycm9yKCJJZiBlbmNvZGluZyBpcyBzcGVjaWZpZWQgdGhlbiB0aGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIHN0cmluZyIpO3JldHVybiBmKHRoaXMsZSl9cmV0dXJuIGModGhpcyxlLHQscil9ZnVuY3Rpb24gYyhlLHQscixuKXtpZigibnVtYmVyIj09dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcignInZhbHVlIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBhIG51bWJlcicpO3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgQXJyYXlCdWZmZXImJnQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9mdW5jdGlvbihlLHQscixuKXtpZih0LmJ5dGVMZW5ndGgscjwwfHx0LmJ5dGVMZW5ndGg8cil0aHJvdyBuZXcgUmFuZ2VFcnJvcigiJ29mZnNldCcgaXMgb3V0IG9mIGJvdW5kcyIpO2lmKHQuYnl0ZUxlbmd0aDxyKyhufHwwKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiJ2xlbmd0aCcgaXMgb3V0IG9mIGJvdW5kcyIpO3JldHVybiB0PXZvaWQgMD09PXImJnZvaWQgMD09PW4/bmV3IFVpbnQ4QXJyYXkodCk6dm9pZCAwPT09bj9uZXcgVWludDhBcnJheSh0LHIpOm5ldyBVaW50OEFycmF5KHQscixuKSx1LlRZUEVEX0FSUkFZX1NVUFBPUlQ/KGU9dCkuX19wcm90b19fPXUucHJvdG90eXBlOmU9ZChlLHQpLGV9KGUsdCxyLG4pOiJzdHJpbmciPT10eXBlb2YgdD9mdW5jdGlvbihlLHQscil7aWYoInN0cmluZyI9PXR5cGVvZiByJiYiIiE9PXJ8fChyPSJ1dGY4IiksIXUuaXNFbmNvZGluZyhyKSl0aHJvdyBuZXcgVHlwZUVycm9yKCciZW5jb2RpbmciIG11c3QgYmUgYSB2YWxpZCBzdHJpbmcgZW5jb2RpbmcnKTt2YXIgbj0wfHAodCxyKSxvPShlPXMoZSxuKSkud3JpdGUodCxyKTtyZXR1cm4gbyE9PW4mJihlPWUuc2xpY2UoMCxvKSksZX0oZSx0LHIpOmZ1bmN0aW9uKGUsdCl7aWYodS5pc0J1ZmZlcih0KSl7dmFyIHI9MHxoKHQubGVuZ3RoKTtyZXR1cm4gMD09PShlPXMoZSxyKSkubGVuZ3RofHx0LmNvcHkoZSwwLDAsciksZX1pZih0KXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIEFycmF5QnVmZmVyJiZ0LmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfHwibGVuZ3RoImluIHQpcmV0dXJuIm51bWJlciIhPXR5cGVvZiB0Lmxlbmd0aHx8ZnVuY3Rpb24oZSl7cmV0dXJuIGUhPWV9KHQubGVuZ3RoKT9zKGUsMCk6ZChlLHQpO2lmKCJCdWZmZXIiPT09dC50eXBlJiZpKHQuZGF0YSkpcmV0dXJuIGQoZSx0LmRhdGEpfXRocm93IG5ldyBUeXBlRXJyb3IoIkZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmcsIEJ1ZmZlciwgQXJyYXlCdWZmZXIsIEFycmF5LCBvciBhcnJheS1saWtlIG9iamVjdC4iKX0oZSx0KX1mdW5jdGlvbiBsKGUpe2lmKCJudW1iZXIiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCcic2l6ZSIgYXJndW1lbnQgbXVzdCBiZSBhIG51bWJlcicpO2lmKGU8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcignInNpemUiIGFyZ3VtZW50IG11c3Qgbm90IGJlIG5lZ2F0aXZlJyl9ZnVuY3Rpb24gZihlLHQpe2lmKGwodCksZT1zKGUsdDwwPzA6MHxoKHQpKSwhdS5UWVBFRF9BUlJBWV9TVVBQT1JUKWZvcih2YXIgcj0wO3I8dDsrK3IpZVtyXT0wO3JldHVybiBlfWZ1bmN0aW9uIGQoZSx0KXt2YXIgcj10Lmxlbmd0aDwwPzA6MHxoKHQubGVuZ3RoKTtlPXMoZSxyKTtmb3IodmFyIG49MDtuPHI7bis9MSllW25dPTI1NSZ0W25dO3JldHVybiBlfWZ1bmN0aW9uIGgoZSl7aWYoZT49YSgpKXRocm93IG5ldyBSYW5nZUVycm9yKCJBdHRlbXB0IHRvIGFsbG9jYXRlIEJ1ZmZlciBsYXJnZXIgdGhhbiBtYXhpbXVtIHNpemU6IDB4IithKCkudG9TdHJpbmcoMTYpKyIgYnl0ZXMiKTtyZXR1cm4gMHxlfWZ1bmN0aW9uIHAoZSx0KXtpZih1LmlzQnVmZmVyKGUpKXJldHVybiBlLmxlbmd0aDtpZigidW5kZWZpbmVkIiE9dHlwZW9mIEFycmF5QnVmZmVyJiYiZnVuY3Rpb24iPT10eXBlb2YgQXJyYXlCdWZmZXIuaXNWaWV3JiYoQXJyYXlCdWZmZXIuaXNWaWV3KGUpfHxlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpKXJldHVybiBlLmJ5dGVMZW5ndGg7InN0cmluZyIhPXR5cGVvZiBlJiYoZT0iIitlKTt2YXIgcj1lLmxlbmd0aDtpZigwPT09cilyZXR1cm4gMDtmb3IodmFyIG49ITE7Oylzd2l0Y2godCl7Y2FzZSJhc2NpaSI6Y2FzZSJsYXRpbjEiOmNhc2UiYmluYXJ5IjpyZXR1cm4gcjtjYXNlInV0ZjgiOmNhc2UidXRmLTgiOmNhc2Ugdm9pZCAwOnJldHVybiBVKGUpLmxlbmd0aDtjYXNlInVjczIiOmNhc2UidWNzLTIiOmNhc2UidXRmMTZsZSI6Y2FzZSJ1dGYtMTZsZSI6cmV0dXJuIDIqcjtjYXNlImhleCI6cmV0dXJuIHI+Pj4xO2Nhc2UiYmFzZTY0IjpyZXR1cm4geihlKS5sZW5ndGg7ZGVmYXVsdDppZihuKXJldHVybiBVKGUpLmxlbmd0aDt0PSgiIit0KS50b0xvd2VyQ2FzZSgpLG49ITB9fWZ1bmN0aW9uIG0oZSx0LHIpe3ZhciBuPWVbdF07ZVt0XT1lW3JdLGVbcl09bn1mdW5jdGlvbiB5KGUsdCxyLG4sbyl7aWYoMD09PWUubGVuZ3RoKXJldHVybi0xO2lmKCJzdHJpbmciPT10eXBlb2Ygcj8obj1yLHI9MCk6cj4yMTQ3NDgzNjQ3P3I9MjE0NzQ4MzY0NzpyPC0yMTQ3NDgzNjQ4JiYocj0tMjE0NzQ4MzY0OCkscj0rcixpc05hTihyKSYmKHI9bz8wOmUubGVuZ3RoLTEpLHI8MCYmKHI9ZS5sZW5ndGgrcikscj49ZS5sZW5ndGgpe2lmKG8pcmV0dXJuLTE7cj1lLmxlbmd0aC0xfWVsc2UgaWYocjwwKXtpZighbylyZXR1cm4tMTtyPTB9aWYoInN0cmluZyI9PXR5cGVvZiB0JiYodD11LmZyb20odCxuKSksdS5pc0J1ZmZlcih0KSlyZXR1cm4gMD09PXQubGVuZ3RoPy0xOkUoZSx0LHIsbixvKTtpZigibnVtYmVyIj09dHlwZW9mIHQpcmV0dXJuIHQmPTI1NSx1LlRZUEVEX0FSUkFZX1NVUFBPUlQmJiJmdW5jdGlvbiI9PXR5cGVvZiBVaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mP28/VWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGUsdCxyKTpVaW50OEFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZi5jYWxsKGUsdCxyKTpFKGUsW3RdLHIsbixvKTt0aHJvdyBuZXcgVHlwZUVycm9yKCJ2YWwgbXVzdCBiZSBzdHJpbmcsIG51bWJlciBvciBCdWZmZXIiKX1mdW5jdGlvbiBFKGUsdCxyLG4sbyl7dmFyIGksYT0xLHM9ZS5sZW5ndGgsdT10Lmxlbmd0aDtpZih2b2lkIDAhPT1uJiYoInVjczIiPT09KG49U3RyaW5nKG4pLnRvTG93ZXJDYXNlKCkpfHwidWNzLTIiPT09bnx8InV0ZjE2bGUiPT09bnx8InV0Zi0xNmxlIj09PW4pKXtpZihlLmxlbmd0aDwyfHx0Lmxlbmd0aDwyKXJldHVybi0xO2E9MixzLz0yLHUvPTIsci89Mn1mdW5jdGlvbiBjKGUsdCl7cmV0dXJuIDE9PT1hP2VbdF06ZS5yZWFkVUludDE2QkUodCphKX1pZihvKXt2YXIgbD0tMTtmb3IoaT1yO2k8cztpKyspaWYoYyhlLGkpPT09Yyh0LC0xPT09bD8wOmktbCkpe2lmKC0xPT09bCYmKGw9aSksaS1sKzE9PT11KXJldHVybiBsKmF9ZWxzZS0xIT09bCYmKGktPWktbCksbD0tMX1lbHNlIGZvcihyK3U+cyYmKHI9cy11KSxpPXI7aT49MDtpLS0pe2Zvcih2YXIgZj0hMCxkPTA7ZDx1O2QrKylpZihjKGUsaStkKSE9PWModCxkKSl7Zj0hMTticmVha31pZihmKXJldHVybiBpfXJldHVybi0xfWZ1bmN0aW9uIHYoZSx0LHIsbil7cj1OdW1iZXIocil8fDA7dmFyIG89ZS5sZW5ndGgtcjtuPyhuPU51bWJlcihuKSk+byYmKG49byk6bj1vO3ZhciBpPXQubGVuZ3RoO2lmKGklMiE9MCl0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGhleCBzdHJpbmciKTtuPmkvMiYmKG49aS8yKTtmb3IodmFyIGE9MDthPG47KythKXt2YXIgcz1wYXJzZUludCh0LnN1YnN0cigyKmEsMiksMTYpO2lmKGlzTmFOKHMpKXJldHVybiBhO2VbcithXT1zfXJldHVybiBhfWZ1bmN0aW9uIGcoZSx0LHIsbil7cmV0dXJuICQoVSh0LGUubGVuZ3RoLXIpLGUscixuKX1mdW5jdGlvbiB3KGUsdCxyLG4pe3JldHVybiAkKGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPTA7cjxlLmxlbmd0aDsrK3IpdC5wdXNoKDI1NSZlLmNoYXJDb2RlQXQocikpO3JldHVybiB0fSh0KSxlLHIsbil9ZnVuY3Rpb24gXyhlLHQscixuKXtyZXR1cm4gdyhlLHQscixuKX1mdW5jdGlvbiBiKGUsdCxyLG4pe3JldHVybiAkKHoodCksZSxyLG4pfWZ1bmN0aW9uIEEoZSx0LHIsbil7cmV0dXJuICQoZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIsbixvLGk9W10sYT0wO2E8ZS5sZW5ndGgmJiEoKHQtPTIpPDApOysrYSluPShyPWUuY2hhckNvZGVBdChhKSk+Pjgsbz1yJTI1NixpLnB1c2gobyksaS5wdXNoKG4pO3JldHVybiBpfSh0LGUubGVuZ3RoLXIpLGUscixuKX1mdW5jdGlvbiBUKGUsdCxyKXtyZXR1cm4gMD09PXQmJnI9PT1lLmxlbmd0aD9uLmZyb21CeXRlQXJyYXkoZSk6bi5mcm9tQnl0ZUFycmF5KGUuc2xpY2UodCxyKSl9ZnVuY3Rpb24gUyhlLHQscil7cj1NYXRoLm1pbihlLmxlbmd0aCxyKTtmb3IodmFyIG49W10sbz10O288cjspe3ZhciBpLGEscyx1LGM9ZVtvXSxsPW51bGwsZj1jPjIzOT80OmM+MjIzPzM6Yz4xOTE/MjoxO2lmKG8rZjw9cilzd2l0Y2goZil7Y2FzZSAxOmM8MTI4JiYobD1jKTticmVhaztjYXNlIDI6MTI4PT0oMTkyJihpPWVbbysxXSkpJiYodT0oMzEmYyk8PDZ8NjMmaSk+MTI3JiYobD11KTticmVhaztjYXNlIDM6aT1lW28rMV0sYT1lW28rMl0sMTI4PT0oMTkyJmkpJiYxMjg9PSgxOTImYSkmJih1PSgxNSZjKTw8MTJ8KDYzJmkpPDw2fDYzJmEpPjIwNDcmJih1PDU1Mjk2fHx1PjU3MzQzKSYmKGw9dSk7YnJlYWs7Y2FzZSA0Omk9ZVtvKzFdLGE9ZVtvKzJdLHM9ZVtvKzNdLDEyOD09KDE5MiZpKSYmMTI4PT0oMTkyJmEpJiYxMjg9PSgxOTImcykmJih1PSgxNSZjKTw8MTh8KDYzJmkpPDwxMnwoNjMmYSk8PDZ8NjMmcyk+NjU1MzUmJnU8MTExNDExMiYmKGw9dSl9bnVsbD09PWw/KGw9NjU1MzMsZj0xKTpsPjY1NTM1JiYobC09NjU1MzYsbi5wdXNoKGw+Pj4xMCYxMDIzfDU1Mjk2KSxsPTU2MzIwfDEwMjMmbCksbi5wdXNoKGwpLG8rPWZ9cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PWUubGVuZ3RoO2lmKHQ8PWspcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLGUpO2Zvcih2YXIgcj0iIixuPTA7bjx0OylyKz1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxlLnNsaWNlKG4sbis9aykpO3JldHVybiByfShuKX10LkJ1ZmZlcj11LHQuU2xvd0J1ZmZlcj1mdW5jdGlvbihlKXtyZXR1cm4rZSE9ZSYmKGU9MCksdS5hbGxvYygrZSl9LHQuSU5TUEVDVF9NQVhfQllURVM9NTAsdS5UWVBFRF9BUlJBWV9TVVBQT1JUPXZvaWQgMCE9PWUuVFlQRURfQVJSQVlfU1VQUE9SVD9lLlRZUEVEX0FSUkFZX1NVUFBPUlQ6ZnVuY3Rpb24oKXt0cnl7dmFyIGU9bmV3IFVpbnQ4QXJyYXkoMSk7cmV0dXJuIGUuX19wcm90b19fPXtfX3Byb3RvX186VWludDhBcnJheS5wcm90b3R5cGUsZm9vOmZ1bmN0aW9uKCl7cmV0dXJuIDQyfX0sNDI9PT1lLmZvbygpJiYiZnVuY3Rpb24iPT10eXBlb2YgZS5zdWJhcnJheSYmMD09PWUuc3ViYXJyYXkoMSwxKS5ieXRlTGVuZ3RofWNhdGNoKGUpe3JldHVybiExfX0oKSx0LmtNYXhMZW5ndGg9YSgpLHUucG9vbFNpemU9ODE5Mix1Ll9hdWdtZW50PWZ1bmN0aW9uKGUpe3JldHVybiBlLl9fcHJvdG9fXz11LnByb3RvdHlwZSxlfSx1LmZyb209ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBjKG51bGwsZSx0LHIpfSx1LlRZUEVEX0FSUkFZX1NVUFBPUlQmJih1LnByb3RvdHlwZS5fX3Byb3RvX189VWludDhBcnJheS5wcm90b3R5cGUsdS5fX3Byb3RvX189VWludDhBcnJheSwidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnNwZWNpZXMmJnVbU3ltYm9sLnNwZWNpZXNdPT09dSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHUsU3ltYm9sLnNwZWNpZXMse3ZhbHVlOm51bGwsY29uZmlndXJhYmxlOiEwfSkpLHUuYWxsb2M9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBmdW5jdGlvbihlLHQscixuKXtyZXR1cm4gbCh0KSx0PD0wP3MoZSx0KTp2b2lkIDAhPT1yPyJzdHJpbmciPT10eXBlb2Ygbj9zKGUsdCkuZmlsbChyLG4pOnMoZSx0KS5maWxsKHIpOnMoZSx0KX0obnVsbCxlLHQscil9LHUuYWxsb2NVbnNhZmU9ZnVuY3Rpb24oZSl7cmV0dXJuIGYobnVsbCxlKX0sdS5hbGxvY1Vuc2FmZVNsb3c9ZnVuY3Rpb24oZSl7cmV0dXJuIGYobnVsbCxlKX0sdS5pc0J1ZmZlcj1mdW5jdGlvbihlKXtyZXR1cm4hKG51bGw9PWV8fCFlLl9pc0J1ZmZlcil9LHUuY29tcGFyZT1mdW5jdGlvbihlLHQpe2lmKCF1LmlzQnVmZmVyKGUpfHwhdS5pc0J1ZmZlcih0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJBcmd1bWVudHMgbXVzdCBiZSBCdWZmZXJzIik7aWYoZT09PXQpcmV0dXJuIDA7Zm9yKHZhciByPWUubGVuZ3RoLG49dC5sZW5ndGgsbz0wLGk9TWF0aC5taW4ocixuKTtvPGk7KytvKWlmKGVbb10hPT10W29dKXtyPWVbb10sbj10W29dO2JyZWFrfXJldHVybiByPG4/LTE6bjxyPzE6MH0sdS5pc0VuY29kaW5nPWZ1bmN0aW9uKGUpe3N3aXRjaChTdHJpbmcoZSkudG9Mb3dlckNhc2UoKSl7Y2FzZSJoZXgiOmNhc2UidXRmOCI6Y2FzZSJ1dGYtOCI6Y2FzZSJhc2NpaSI6Y2FzZSJsYXRpbjEiOmNhc2UiYmluYXJ5IjpjYXNlImJhc2U2NCI6Y2FzZSJ1Y3MyIjpjYXNlInVjcy0yIjpjYXNlInV0ZjE2bGUiOmNhc2UidXRmLTE2bGUiOnJldHVybiEwO2RlZmF1bHQ6cmV0dXJuITF9fSx1LmNvbmNhdD1mdW5jdGlvbihlLHQpe2lmKCFpKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoJyJsaXN0IiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKTtpZigwPT09ZS5sZW5ndGgpcmV0dXJuIHUuYWxsb2MoMCk7dmFyIHI7aWYodm9pZCAwPT09dClmb3IodD0wLHI9MDtyPGUubGVuZ3RoOysrcil0Kz1lW3JdLmxlbmd0aDt2YXIgbj11LmFsbG9jVW5zYWZlKHQpLG89MDtmb3Iocj0wO3I8ZS5sZW5ndGg7KytyKXt2YXIgYT1lW3JdO2lmKCF1LmlzQnVmZmVyKGEpKXRocm93IG5ldyBUeXBlRXJyb3IoJyJsaXN0IiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKTthLmNvcHkobixvKSxvKz1hLmxlbmd0aH1yZXR1cm4gbn0sdS5ieXRlTGVuZ3RoPXAsdS5wcm90b3R5cGUuX2lzQnVmZmVyPSEwLHUucHJvdG90eXBlLnN3YXAxNj1mdW5jdGlvbigpe3ZhciBlPXRoaXMubGVuZ3RoO2lmKGUlMiE9MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDE2LWJpdHMiKTtmb3IodmFyIHQ9MDt0PGU7dCs9MiltKHRoaXMsdCx0KzEpO3JldHVybiB0aGlzfSx1LnByb3RvdHlwZS5zd2FwMzI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmxlbmd0aDtpZihlJTQhPTApdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAzMi1iaXRzIik7Zm9yKHZhciB0PTA7dDxlO3QrPTQpbSh0aGlzLHQsdCszKSxtKHRoaXMsdCsxLHQrMik7cmV0dXJuIHRoaXN9LHUucHJvdG90eXBlLnN3YXA2ND1mdW5jdGlvbigpe3ZhciBlPXRoaXMubGVuZ3RoO2lmKGUlOCE9MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDY0LWJpdHMiKTtmb3IodmFyIHQ9MDt0PGU7dCs9OCltKHRoaXMsdCx0KzcpLG0odGhpcyx0KzEsdCs2KSxtKHRoaXMsdCsyLHQrNSksbSh0aGlzLHQrMyx0KzQpO3JldHVybiB0aGlzfSx1LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3ZhciBlPTB8dGhpcy5sZW5ndGg7cmV0dXJuIDA9PT1lPyIiOjA9PT1hcmd1bWVudHMubGVuZ3RoP1ModGhpcywwLGUpOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj0hMTtpZigodm9pZCAwPT09dHx8dDwwKSYmKHQ9MCksdD50aGlzLmxlbmd0aClyZXR1cm4iIjtpZigodm9pZCAwPT09cnx8cj50aGlzLmxlbmd0aCkmJihyPXRoaXMubGVuZ3RoKSxyPD0wKXJldHVybiIiO2lmKChyPj4+PTApPD0odD4+Pj0wKSlyZXR1cm4iIjtmb3IoZXx8KGU9InV0ZjgiKTs7KXN3aXRjaChlKXtjYXNlImhleCI6cmV0dXJuIE8odGhpcyx0LHIpO2Nhc2UidXRmOCI6Y2FzZSJ1dGYtOCI6cmV0dXJuIFModGhpcyx0LHIpO2Nhc2UiYXNjaWkiOnJldHVybiBQKHRoaXMsdCxyKTtjYXNlImxhdGluMSI6Y2FzZSJiaW5hcnkiOnJldHVybiBEKHRoaXMsdCxyKTtjYXNlImJhc2U2NCI6cmV0dXJuIFQodGhpcyx0LHIpO2Nhc2UidWNzMiI6Y2FzZSJ1Y3MtMiI6Y2FzZSJ1dGYxNmxlIjpjYXNlInV0Zi0xNmxlIjpyZXR1cm4gUih0aGlzLHQscik7ZGVmYXVsdDppZihuKXRocm93IG5ldyBUeXBlRXJyb3IoIlVua25vd24gZW5jb2Rpbmc6ICIrZSk7ZT0oZSsiIikudG9Mb3dlckNhc2UoKSxuPSEwfX0uYXBwbHkodGhpcyxhcmd1bWVudHMpfSx1LnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24oZSl7aWYoIXUuaXNCdWZmZXIoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlciIpO3JldHVybiB0aGlzPT09ZXx8MD09PXUuY29tcGFyZSh0aGlzLGUpfSx1LnByb3RvdHlwZS5pbnNwZWN0PWZ1bmN0aW9uKCl7dmFyIGU9IiIscj10LklOU1BFQ1RfTUFYX0JZVEVTO3JldHVybiB0aGlzLmxlbmd0aD4wJiYoZT10aGlzLnRvU3RyaW5nKCJoZXgiLDAscikubWF0Y2goLy57Mn0vZykuam9pbigiICIpLHRoaXMubGVuZ3RoPnImJihlKz0iIC4uLiAiKSksIjxCdWZmZXIgIitlKyI+In0sdS5wcm90b3R5cGUuY29tcGFyZT1mdW5jdGlvbihlLHQscixuLG8pe2lmKCF1LmlzQnVmZmVyKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoIkFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXIiKTtpZih2b2lkIDA9PT10JiYodD0wKSx2b2lkIDA9PT1yJiYocj1lP2UubGVuZ3RoOjApLHZvaWQgMD09PW4mJihuPTApLHZvaWQgMD09PW8mJihvPXRoaXMubGVuZ3RoKSx0PDB8fHI+ZS5sZW5ndGh8fG48MHx8bz50aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigib3V0IG9mIHJhbmdlIGluZGV4Iik7aWYobj49byYmdD49cilyZXR1cm4gMDtpZihuPj1vKXJldHVybi0xO2lmKHQ+PXIpcmV0dXJuIDE7aWYodGhpcz09PWUpcmV0dXJuIDA7Zm9yKHZhciBpPShvPj4+PTApLShuPj4+PTApLGE9KHI+Pj49MCktKHQ+Pj49MCkscz1NYXRoLm1pbihpLGEpLGM9dGhpcy5zbGljZShuLG8pLGw9ZS5zbGljZSh0LHIpLGY9MDtmPHM7KytmKWlmKGNbZl0hPT1sW2ZdKXtpPWNbZl0sYT1sW2ZdO2JyZWFrfXJldHVybiBpPGE/LTE6YTxpPzE6MH0sdS5wcm90b3R5cGUuaW5jbHVkZXM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybi0xIT09dGhpcy5pbmRleE9mKGUsdCxyKX0sdS5wcm90b3R5cGUuaW5kZXhPZj1mdW5jdGlvbihlLHQscil7cmV0dXJuIHkodGhpcyxlLHQsciwhMCl9LHUucHJvdG90eXBlLmxhc3RJbmRleE9mPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4geSh0aGlzLGUsdCxyLCExKX0sdS5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSx0LHIsbil7aWYodm9pZCAwPT09dCluPSJ1dGY4IixyPXRoaXMubGVuZ3RoLHQ9MDtlbHNlIGlmKHZvaWQgMD09PXImJiJzdHJpbmciPT10eXBlb2YgdCluPXQscj10aGlzLmxlbmd0aCx0PTA7ZWxzZXtpZighaXNGaW5pdGUodCkpdGhyb3cgbmV3IEVycm9yKCJCdWZmZXIud3JpdGUoc3RyaW5nLCBlbmNvZGluZywgb2Zmc2V0WywgbGVuZ3RoXSkgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZCIpO3R8PTAsaXNGaW5pdGUocik/KHJ8PTAsdm9pZCAwPT09biYmKG49InV0ZjgiKSk6KG49cixyPXZvaWQgMCl9dmFyIG89dGhpcy5sZW5ndGgtdDtpZigodm9pZCAwPT09cnx8cj5vKSYmKHI9byksZS5sZW5ndGg+MCYmKHI8MHx8dDwwKXx8dD50aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiQXR0ZW1wdCB0byB3cml0ZSBvdXRzaWRlIGJ1ZmZlciBib3VuZHMiKTtufHwobj0idXRmOCIpO2Zvcih2YXIgaT0hMTs7KXN3aXRjaChuKXtjYXNlImhleCI6cmV0dXJuIHYodGhpcyxlLHQscik7Y2FzZSJ1dGY4IjpjYXNlInV0Zi04IjpyZXR1cm4gZyh0aGlzLGUsdCxyKTtjYXNlImFzY2lpIjpyZXR1cm4gdyh0aGlzLGUsdCxyKTtjYXNlImxhdGluMSI6Y2FzZSJiaW5hcnkiOnJldHVybiBfKHRoaXMsZSx0LHIpO2Nhc2UiYmFzZTY0IjpyZXR1cm4gYih0aGlzLGUsdCxyKTtjYXNlInVjczIiOmNhc2UidWNzLTIiOmNhc2UidXRmMTZsZSI6Y2FzZSJ1dGYtMTZsZSI6cmV0dXJuIEEodGhpcyxlLHQscik7ZGVmYXVsdDppZihpKXRocm93IG5ldyBUeXBlRXJyb3IoIlVua25vd24gZW5jb2Rpbmc6ICIrbik7bj0oIiIrbikudG9Mb3dlckNhc2UoKSxpPSEwfX0sdS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6IkJ1ZmZlciIsZGF0YTpBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzLl9hcnJ8fHRoaXMsMCl9fTt2YXIgaz00MDk2O2Z1bmN0aW9uIFAoZSx0LHIpe3ZhciBuPSIiO3I9TWF0aC5taW4oZS5sZW5ndGgscik7Zm9yKHZhciBvPXQ7bzxyOysrbyluKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDEyNyZlW29dKTtyZXR1cm4gbn1mdW5jdGlvbiBEKGUsdCxyKXt2YXIgbj0iIjtyPU1hdGgubWluKGUubGVuZ3RoLHIpO2Zvcih2YXIgbz10O288cjsrK28pbis9U3RyaW5nLmZyb21DaGFyQ29kZShlW29dKTtyZXR1cm4gbn1mdW5jdGlvbiBPKGUsdCxyKXt2YXIgbj1lLmxlbmd0aDsoIXR8fHQ8MCkmJih0PTApLCghcnx8cjwwfHxyPm4pJiYocj1uKTtmb3IodmFyIG89IiIsaT10O2k8cjsrK2kpbys9aihlW2ldKTtyZXR1cm4gb31mdW5jdGlvbiBSKGUsdCxyKXtmb3IodmFyIG49ZS5zbGljZSh0LHIpLG89IiIsaT0wO2k8bi5sZW5ndGg7aSs9MilvKz1TdHJpbmcuZnJvbUNoYXJDb2RlKG5baV0rMjU2Km5baSsxXSk7cmV0dXJuIG99ZnVuY3Rpb24gQyhlLHQscil7aWYoZSUxIT0wfHxlPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoIm9mZnNldCBpcyBub3QgdWludCIpO2lmKGUrdD5yKXRocm93IG5ldyBSYW5nZUVycm9yKCJUcnlpbmcgdG8gYWNjZXNzIGJleW9uZCBidWZmZXIgbGVuZ3RoIil9ZnVuY3Rpb24gTihlLHQscixuLG8saSl7aWYoIXUuaXNCdWZmZXIoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcignImJ1ZmZlciIgYXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlciBpbnN0YW5jZScpO2lmKHQ+b3x8dDxpKXRocm93IG5ldyBSYW5nZUVycm9yKCcidmFsdWUiIGFyZ3VtZW50IGlzIG91dCBvZiBib3VuZHMnKTtpZihyK24+ZS5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4IG91dCBvZiByYW5nZSIpfWZ1bmN0aW9uIEYoZSx0LHIsbil7dDwwJiYodD02NTUzNSt0KzEpO2Zvcih2YXIgbz0wLGk9TWF0aC5taW4oZS5sZW5ndGgtciwyKTtvPGk7KytvKWVbcitvXT0odCYyNTU8PDgqKG4/bzoxLW8pKT4+PjgqKG4/bzoxLW8pfWZ1bmN0aW9uIE0oZSx0LHIsbil7dDwwJiYodD00Mjk0OTY3Mjk1K3QrMSk7Zm9yKHZhciBvPTAsaT1NYXRoLm1pbihlLmxlbmd0aC1yLDQpO288aTsrK28pZVtyK29dPXQ+Pj44KihuP286My1vKSYyNTV9ZnVuY3Rpb24gSShlLHQscixuLG8saSl7aWYocituPmUubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UiKTtpZihyPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4IG91dCBvZiByYW5nZSIpfWZ1bmN0aW9uIEIoZSx0LHIsbixpKXtyZXR1cm4gaXx8SShlLDAsciw0KSxvLndyaXRlKGUsdCxyLG4sMjMsNCkscis0fWZ1bmN0aW9uIEwoZSx0LHIsbixpKXtyZXR1cm4gaXx8SShlLDAsciw4KSxvLndyaXRlKGUsdCxyLG4sNTIsOCkscis4fXUucHJvdG90eXBlLnNsaWNlPWZ1bmN0aW9uKGUsdCl7dmFyIHIsbj10aGlzLmxlbmd0aDtpZigoZT1+fmUpPDA/KGUrPW4pPDAmJihlPTApOmU+biYmKGU9biksKHQ9dm9pZCAwPT09dD9uOn5+dCk8MD8odCs9bik8MCYmKHQ9MCk6dD5uJiYodD1uKSx0PGUmJih0PWUpLHUuVFlQRURfQVJSQVlfU1VQUE9SVCkocj10aGlzLnN1YmFycmF5KGUsdCkpLl9fcHJvdG9fXz11LnByb3RvdHlwZTtlbHNle3ZhciBvPXQtZTtyPW5ldyB1KG8sdm9pZCAwKTtmb3IodmFyIGk9MDtpPG87KytpKXJbaV09dGhpc1tpK2VdfXJldHVybiByfSx1LnByb3RvdHlwZS5yZWFkVUludExFPWZ1bmN0aW9uKGUsdCxyKXtlfD0wLHR8PTAscnx8QyhlLHQsdGhpcy5sZW5ndGgpO2Zvcih2YXIgbj10aGlzW2VdLG89MSxpPTA7KytpPHQmJihvKj0yNTYpOyluKz10aGlzW2UraV0qbztyZXR1cm4gbn0sdS5wcm90b3R5cGUucmVhZFVJbnRCRT1mdW5jdGlvbihlLHQscil7ZXw9MCx0fD0wLHJ8fEMoZSx0LHRoaXMubGVuZ3RoKTtmb3IodmFyIG49dGhpc1tlKy0tdF0sbz0xO3Q+MCYmKG8qPTI1Nik7KW4rPXRoaXNbZSstLXRdKm87cmV0dXJuIG59LHUucHJvdG90eXBlLnJlYWRVSW50OD1mdW5jdGlvbihlLHQpe3JldHVybiB0fHxDKGUsMSx0aGlzLmxlbmd0aCksdGhpc1tlXX0sdS5wcm90b3R5cGUucmVhZFVJbnQxNkxFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fEMoZSwyLHRoaXMubGVuZ3RoKSx0aGlzW2VdfHRoaXNbZSsxXTw8OH0sdS5wcm90b3R5cGUucmVhZFVJbnQxNkJFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fEMoZSwyLHRoaXMubGVuZ3RoKSx0aGlzW2VdPDw4fHRoaXNbZSsxXX0sdS5wcm90b3R5cGUucmVhZFVJbnQzMkxFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fEMoZSw0LHRoaXMubGVuZ3RoKSwodGhpc1tlXXx0aGlzW2UrMV08PDh8dGhpc1tlKzJdPDwxNikrMTY3NzcyMTYqdGhpc1tlKzNdfSx1LnByb3RvdHlwZS5yZWFkVUludDMyQkU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8QyhlLDQsdGhpcy5sZW5ndGgpLDE2Nzc3MjE2KnRoaXNbZV0rKHRoaXNbZSsxXTw8MTZ8dGhpc1tlKzJdPDw4fHRoaXNbZSszXSl9LHUucHJvdG90eXBlLnJlYWRJbnRMRT1mdW5jdGlvbihlLHQscil7ZXw9MCx0fD0wLHJ8fEMoZSx0LHRoaXMubGVuZ3RoKTtmb3IodmFyIG49dGhpc1tlXSxvPTEsaT0wOysraTx0JiYobyo9MjU2KTspbis9dGhpc1tlK2ldKm87cmV0dXJuIG4+PShvKj0xMjgpJiYobi09TWF0aC5wb3coMiw4KnQpKSxufSx1LnByb3RvdHlwZS5yZWFkSW50QkU9ZnVuY3Rpb24oZSx0LHIpe2V8PTAsdHw9MCxyfHxDKGUsdCx0aGlzLmxlbmd0aCk7Zm9yKHZhciBuPXQsbz0xLGk9dGhpc1tlKy0tbl07bj4wJiYobyo9MjU2KTspaSs9dGhpc1tlKy0tbl0qbztyZXR1cm4gaT49KG8qPTEyOCkmJihpLT1NYXRoLnBvdygyLDgqdCkpLGl9LHUucHJvdG90eXBlLnJlYWRJbnQ4PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fEMoZSwxLHRoaXMubGVuZ3RoKSwxMjgmdGhpc1tlXT8tMSooMjU1LXRoaXNbZV0rMSk6dGhpc1tlXX0sdS5wcm90b3R5cGUucmVhZEludDE2TEU9ZnVuY3Rpb24oZSx0KXt0fHxDKGUsMix0aGlzLmxlbmd0aCk7dmFyIHI9dGhpc1tlXXx0aGlzW2UrMV08PDg7cmV0dXJuIDMyNzY4JnI/NDI5NDkwMTc2MHxyOnJ9LHUucHJvdG90eXBlLnJlYWRJbnQxNkJFPWZ1bmN0aW9uKGUsdCl7dHx8QyhlLDIsdGhpcy5sZW5ndGgpO3ZhciByPXRoaXNbZSsxXXx0aGlzW2VdPDw4O3JldHVybiAzMjc2OCZyPzQyOTQ5MDE3NjB8cjpyfSx1LnByb3RvdHlwZS5yZWFkSW50MzJMRT1mdW5jdGlvbihlLHQpe3JldHVybiB0fHxDKGUsNCx0aGlzLmxlbmd0aCksdGhpc1tlXXx0aGlzW2UrMV08PDh8dGhpc1tlKzJdPDwxNnx0aGlzW2UrM108PDI0fSx1LnByb3RvdHlwZS5yZWFkSW50MzJCRT1mdW5jdGlvbihlLHQpe3JldHVybiB0fHxDKGUsNCx0aGlzLmxlbmd0aCksdGhpc1tlXTw8MjR8dGhpc1tlKzFdPDwxNnx0aGlzW2UrMl08PDh8dGhpc1tlKzNdfSx1LnByb3RvdHlwZS5yZWFkRmxvYXRMRT1mdW5jdGlvbihlLHQpe3JldHVybiB0fHxDKGUsNCx0aGlzLmxlbmd0aCksby5yZWFkKHRoaXMsZSwhMCwyMyw0KX0sdS5wcm90b3R5cGUucmVhZEZsb2F0QkU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8QyhlLDQsdGhpcy5sZW5ndGgpLG8ucmVhZCh0aGlzLGUsITEsMjMsNCl9LHUucHJvdG90eXBlLnJlYWREb3VibGVMRT1mdW5jdGlvbihlLHQpe3JldHVybiB0fHxDKGUsOCx0aGlzLmxlbmd0aCksby5yZWFkKHRoaXMsZSwhMCw1Miw4KX0sdS5wcm90b3R5cGUucmVhZERvdWJsZUJFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fEMoZSw4LHRoaXMubGVuZ3RoKSxvLnJlYWQodGhpcyxlLCExLDUyLDgpfSx1LnByb3RvdHlwZS53cml0ZVVJbnRMRT1mdW5jdGlvbihlLHQscixuKXtlPStlLHR8PTAscnw9MCxufHxOKHRoaXMsZSx0LHIsTWF0aC5wb3coMiw4KnIpLTEsMCk7dmFyIG89MSxpPTA7Zm9yKHRoaXNbdF09MjU1JmU7KytpPHImJihvKj0yNTYpOyl0aGlzW3QraV09ZS9vJjI1NTtyZXR1cm4gdCtyfSx1LnByb3RvdHlwZS53cml0ZVVJbnRCRT1mdW5jdGlvbihlLHQscixuKXtlPStlLHR8PTAscnw9MCxufHxOKHRoaXMsZSx0LHIsTWF0aC5wb3coMiw4KnIpLTEsMCk7dmFyIG89ci0xLGk9MTtmb3IodGhpc1t0K29dPTI1NSZlOy0tbz49MCYmKGkqPTI1Nik7KXRoaXNbdCtvXT1lL2kmMjU1O3JldHVybiB0K3J9LHUucHJvdG90eXBlLndyaXRlVUludDg9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPStlLHR8PTAscnx8Tih0aGlzLGUsdCwxLDI1NSwwKSx1LlRZUEVEX0FSUkFZX1NVUFBPUlR8fChlPU1hdGguZmxvb3IoZSkpLHRoaXNbdF09MjU1JmUsdCsxfSx1LnByb3RvdHlwZS53cml0ZVVJbnQxNkxFPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZT0rZSx0fD0wLHJ8fE4odGhpcyxlLHQsMiw2NTUzNSwwKSx1LlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbdF09MjU1JmUsdGhpc1t0KzFdPWU+Pj44KTpGKHRoaXMsZSx0LCEwKSx0KzJ9LHUucHJvdG90eXBlLndyaXRlVUludDE2QkU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPStlLHR8PTAscnx8Tih0aGlzLGUsdCwyLDY1NTM1LDApLHUuVFlQRURfQVJSQVlfU1VQUE9SVD8odGhpc1t0XT1lPj4+OCx0aGlzW3QrMV09MjU1JmUpOkYodGhpcyxlLHQsITEpLHQrMn0sdS5wcm90b3R5cGUud3JpdGVVSW50MzJMRT1mdW5jdGlvbihlLHQscil7cmV0dXJuIGU9K2UsdHw9MCxyfHxOKHRoaXMsZSx0LDQsNDI5NDk2NzI5NSwwKSx1LlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbdCszXT1lPj4+MjQsdGhpc1t0KzJdPWU+Pj4xNix0aGlzW3QrMV09ZT4+PjgsdGhpc1t0XT0yNTUmZSk6TSh0aGlzLGUsdCwhMCksdCs0fSx1LnByb3RvdHlwZS53cml0ZVVJbnQzMkJFPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZT0rZSx0fD0wLHJ8fE4odGhpcyxlLHQsNCw0Mjk0OTY3Mjk1LDApLHUuVFlQRURfQVJSQVlfU1VQUE9SVD8odGhpc1t0XT1lPj4+MjQsdGhpc1t0KzFdPWU+Pj4xNix0aGlzW3QrMl09ZT4+PjgsdGhpc1t0KzNdPTI1NSZlKTpNKHRoaXMsZSx0LCExKSx0KzR9LHUucHJvdG90eXBlLndyaXRlSW50TEU9ZnVuY3Rpb24oZSx0LHIsbil7aWYoZT0rZSx0fD0wLCFuKXt2YXIgbz1NYXRoLnBvdygyLDgqci0xKTtOKHRoaXMsZSx0LHIsby0xLC1vKX12YXIgaT0wLGE9MSxzPTA7Zm9yKHRoaXNbdF09MjU1JmU7KytpPHImJihhKj0yNTYpOyllPDAmJjA9PT1zJiYwIT09dGhpc1t0K2ktMV0mJihzPTEpLHRoaXNbdCtpXT0oZS9hPj4wKS1zJjI1NTtyZXR1cm4gdCtyfSx1LnByb3RvdHlwZS53cml0ZUludEJFPWZ1bmN0aW9uKGUsdCxyLG4pe2lmKGU9K2UsdHw9MCwhbil7dmFyIG89TWF0aC5wb3coMiw4KnItMSk7Tih0aGlzLGUsdCxyLG8tMSwtbyl9dmFyIGk9ci0xLGE9MSxzPTA7Zm9yKHRoaXNbdCtpXT0yNTUmZTstLWk+PTAmJihhKj0yNTYpOyllPDAmJjA9PT1zJiYwIT09dGhpc1t0K2krMV0mJihzPTEpLHRoaXNbdCtpXT0oZS9hPj4wKS1zJjI1NTtyZXR1cm4gdCtyfSx1LnByb3RvdHlwZS53cml0ZUludDg9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPStlLHR8PTAscnx8Tih0aGlzLGUsdCwxLDEyNywtMTI4KSx1LlRZUEVEX0FSUkFZX1NVUFBPUlR8fChlPU1hdGguZmxvb3IoZSkpLGU8MCYmKGU9MjU1K2UrMSksdGhpc1t0XT0yNTUmZSx0KzF9LHUucHJvdG90eXBlLndyaXRlSW50MTZMRT1mdW5jdGlvbihlLHQscil7cmV0dXJuIGU9K2UsdHw9MCxyfHxOKHRoaXMsZSx0LDIsMzI3NjcsLTMyNzY4KSx1LlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbdF09MjU1JmUsdGhpc1t0KzFdPWU+Pj44KTpGKHRoaXMsZSx0LCEwKSx0KzJ9LHUucHJvdG90eXBlLndyaXRlSW50MTZCRT1mdW5jdGlvbihlLHQscil7cmV0dXJuIGU9K2UsdHw9MCxyfHxOKHRoaXMsZSx0LDIsMzI3NjcsLTMyNzY4KSx1LlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbdF09ZT4+PjgsdGhpc1t0KzFdPTI1NSZlKTpGKHRoaXMsZSx0LCExKSx0KzJ9LHUucHJvdG90eXBlLndyaXRlSW50MzJMRT1mdW5jdGlvbihlLHQscil7cmV0dXJuIGU9K2UsdHw9MCxyfHxOKHRoaXMsZSx0LDQsMjE0NzQ4MzY0NywtMjE0NzQ4MzY0OCksdS5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW3RdPTI1NSZlLHRoaXNbdCsxXT1lPj4+OCx0aGlzW3QrMl09ZT4+PjE2LHRoaXNbdCszXT1lPj4+MjQpOk0odGhpcyxlLHQsITApLHQrNH0sdS5wcm90b3R5cGUud3JpdGVJbnQzMkJFPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZT0rZSx0fD0wLHJ8fE4odGhpcyxlLHQsNCwyMTQ3NDgzNjQ3LC0yMTQ3NDgzNjQ4KSxlPDAmJihlPTQyOTQ5NjcyOTUrZSsxKSx1LlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbdF09ZT4+PjI0LHRoaXNbdCsxXT1lPj4+MTYsdGhpc1t0KzJdPWU+Pj44LHRoaXNbdCszXT0yNTUmZSk6TSh0aGlzLGUsdCwhMSksdCs0fSx1LnByb3RvdHlwZS53cml0ZUZsb2F0TEU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBCKHRoaXMsZSx0LCEwLHIpfSx1LnByb3RvdHlwZS53cml0ZUZsb2F0QkU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBCKHRoaXMsZSx0LCExLHIpfSx1LnByb3RvdHlwZS53cml0ZURvdWJsZUxFPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gTCh0aGlzLGUsdCwhMCxyKX0sdS5wcm90b3R5cGUud3JpdGVEb3VibGVCRT1mdW5jdGlvbihlLHQscil7cmV0dXJuIEwodGhpcyxlLHQsITEscil9LHUucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oZSx0LHIsbil7aWYocnx8KHI9MCksbnx8MD09PW58fChuPXRoaXMubGVuZ3RoKSx0Pj1lLmxlbmd0aCYmKHQ9ZS5sZW5ndGgpLHR8fCh0PTApLG4+MCYmbjxyJiYobj1yKSxuPT09cilyZXR1cm4gMDtpZigwPT09ZS5sZW5ndGh8fDA9PT10aGlzLmxlbmd0aClyZXR1cm4gMDtpZih0PDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoInRhcmdldFN0YXJ0IG91dCBvZiBib3VuZHMiKTtpZihyPDB8fHI+PXRoaXMubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJzb3VyY2VTdGFydCBvdXQgb2YgYm91bmRzIik7aWYobjwwKXRocm93IG5ldyBSYW5nZUVycm9yKCJzb3VyY2VFbmQgb3V0IG9mIGJvdW5kcyIpO24+dGhpcy5sZW5ndGgmJihuPXRoaXMubGVuZ3RoKSxlLmxlbmd0aC10PG4tciYmKG49ZS5sZW5ndGgtdCtyKTt2YXIgbyxpPW4tcjtpZih0aGlzPT09ZSYmcjx0JiZ0PG4pZm9yKG89aS0xO28+PTA7LS1vKWVbbyt0XT10aGlzW28rcl07ZWxzZSBpZihpPDFlM3x8IXUuVFlQRURfQVJSQVlfU1VQUE9SVClmb3Iobz0wO288aTsrK28pZVtvK3RdPXRoaXNbbytyXTtlbHNlIFVpbnQ4QXJyYXkucHJvdG90eXBlLnNldC5jYWxsKGUsdGhpcy5zdWJhcnJheShyLHIraSksdCk7cmV0dXJuIGl9LHUucHJvdG90eXBlLmZpbGw9ZnVuY3Rpb24oZSx0LHIsbil7aWYoInN0cmluZyI9PXR5cGVvZiBlKXtpZigic3RyaW5nIj09dHlwZW9mIHQ/KG49dCx0PTAscj10aGlzLmxlbmd0aCk6InN0cmluZyI9PXR5cGVvZiByJiYobj1yLHI9dGhpcy5sZW5ndGgpLDE9PT1lLmxlbmd0aCl7dmFyIG89ZS5jaGFyQ29kZUF0KDApO288MjU2JiYoZT1vKX1pZih2b2lkIDAhPT1uJiYic3RyaW5nIiE9dHlwZW9mIG4pdGhyb3cgbmV3IFR5cGVFcnJvcigiZW5jb2RpbmcgbXVzdCBiZSBhIHN0cmluZyIpO2lmKCJzdHJpbmciPT10eXBlb2YgbiYmIXUuaXNFbmNvZGluZyhuKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJVbmtub3duIGVuY29kaW5nOiAiK24pfWVsc2UibnVtYmVyIj09dHlwZW9mIGUmJihlJj0yNTUpO2lmKHQ8MHx8dGhpcy5sZW5ndGg8dHx8dGhpcy5sZW5ndGg8cil0aHJvdyBuZXcgUmFuZ2VFcnJvcigiT3V0IG9mIHJhbmdlIGluZGV4Iik7aWYocjw9dClyZXR1cm4gdGhpczt2YXIgaTtpZih0Pj4+PTAscj12b2lkIDA9PT1yP3RoaXMubGVuZ3RoOnI+Pj4wLGV8fChlPTApLCJudW1iZXIiPT10eXBlb2YgZSlmb3IoaT10O2k8cjsrK2kpdGhpc1tpXT1lO2Vsc2V7dmFyIGE9dS5pc0J1ZmZlcihlKT9lOlUobmV3IHUoZSxuKS50b1N0cmluZygpKSxzPWEubGVuZ3RoO2ZvcihpPTA7aTxyLXQ7KytpKXRoaXNbaSt0XT1hW2klc119cmV0dXJuIHRoaXN9O3ZhciB4PS9bXitcLzAtOUEtWmEtei1fXS9nO2Z1bmN0aW9uIGooZSl7cmV0dXJuIGU8MTY/IjAiK2UudG9TdHJpbmcoMTYpOmUudG9TdHJpbmcoMTYpfWZ1bmN0aW9uIFUoZSx0KXt2YXIgcjt0PXR8fDEvMDtmb3IodmFyIG49ZS5sZW5ndGgsbz1udWxsLGk9W10sYT0wO2E8bjsrK2Epe2lmKChyPWUuY2hhckNvZGVBdChhKSk+NTUyOTUmJnI8NTczNDQpe2lmKCFvKXtpZihyPjU2MzE5KXsodC09Myk+LTEmJmkucHVzaCgyMzksMTkxLDE4OSk7Y29udGludWV9aWYoYSsxPT09bil7KHQtPTMpPi0xJiZpLnB1c2goMjM5LDE5MSwxODkpO2NvbnRpbnVlfW89cjtjb250aW51ZX1pZihyPDU2MzIwKXsodC09Myk+LTEmJmkucHVzaCgyMzksMTkxLDE4OSksbz1yO2NvbnRpbnVlfXI9NjU1MzYrKG8tNTUyOTY8PDEwfHItNTYzMjApfWVsc2UgbyYmKHQtPTMpPi0xJiZpLnB1c2goMjM5LDE5MSwxODkpO2lmKG89bnVsbCxyPDEyOCl7aWYoKHQtPTEpPDApYnJlYWs7aS5wdXNoKHIpfWVsc2UgaWYocjwyMDQ4KXtpZigodC09Mik8MClicmVhaztpLnB1c2gocj4+NnwxOTIsNjMmcnwxMjgpfWVsc2UgaWYocjw2NTUzNil7aWYoKHQtPTMpPDApYnJlYWs7aS5wdXNoKHI+PjEyfDIyNCxyPj42JjYzfDEyOCw2MyZyfDEyOCl9ZWxzZXtpZighKHI8MTExNDExMikpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGNvZGUgcG9pbnQiKTtpZigodC09NCk8MClicmVhaztpLnB1c2gocj4+MTh8MjQwLHI+PjEyJjYzfDEyOCxyPj42JjYzfDEyOCw2MyZyfDEyOCl9fXJldHVybiBpfWZ1bmN0aW9uIHooZSl7cmV0dXJuIG4udG9CeXRlQXJyYXkoZnVuY3Rpb24oZSl7aWYoKGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUudHJpbT9lLnRyaW0oKTplLnJlcGxhY2UoL15ccyt8XHMrJC9nLCIiKX0oZSkucmVwbGFjZSh4LCIiKSkubGVuZ3RoPDIpcmV0dXJuIiI7Zm9yKDtlLmxlbmd0aCU0IT0wOyllKz0iPSI7cmV0dXJuIGV9KGUpKX1mdW5jdGlvbiAkKGUsdCxyLG4pe2Zvcih2YXIgbz0wO288biYmIShvK3I+PXQubGVuZ3RofHxvPj1lLmxlbmd0aCk7KytvKXRbbytyXT1lW29dO3JldHVybiBvfX0pLmNhbGwodGhpcyxyKDgpKX0sZnVuY3Rpb24oZSx0KXt2YXIgcjtyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCk7dHJ5e3I9cnx8RnVuY3Rpb24oInJldHVybiB0aGlzIikoKXx8KDAsZXZhbCkoInRoaXMiKX1jYXRjaChlKXsib2JqZWN0Ij09dHlwZW9mIHdpbmRvdyYmKHI9d2luZG93KX1lLmV4cG9ydHM9cn0sZnVuY3Rpb24oZSx0LHIpe3QuYnl0ZUxlbmd0aD1mdW5jdGlvbihlKXt2YXIgdD1jKGUpLHI9dFswXSxuPXRbMV07cmV0dXJuIDMqKHIrbikvNC1ufSx0LnRvQnl0ZUFycmF5PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPWMoZSksbj1yWzBdLGE9clsxXSxzPW5ldyBpKGZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gMyoodCtyKS80LXJ9KDAsbixhKSksdT0wLGw9YT4wP24tNDpuLGY9MDtmPGw7Zis9NCl0PW9bZS5jaGFyQ29kZUF0KGYpXTw8MTh8b1tlLmNoYXJDb2RlQXQoZisxKV08PDEyfG9bZS5jaGFyQ29kZUF0KGYrMildPDw2fG9bZS5jaGFyQ29kZUF0KGYrMyldLHNbdSsrXT10Pj4xNiYyNTUsc1t1KytdPXQ+PjgmMjU1LHNbdSsrXT0yNTUmdDtyZXR1cm4gMj09PWEmJih0PW9bZS5jaGFyQ29kZUF0KGYpXTw8MnxvW2UuY2hhckNvZGVBdChmKzEpXT4+NCxzW3UrK109MjU1JnQpLDE9PT1hJiYodD1vW2UuY2hhckNvZGVBdChmKV08PDEwfG9bZS5jaGFyQ29kZUF0KGYrMSldPDw0fG9bZS5jaGFyQ29kZUF0KGYrMildPj4yLHNbdSsrXT10Pj44JjI1NSxzW3UrK109MjU1JnQpLHN9LHQuZnJvbUJ5dGVBcnJheT1mdW5jdGlvbihlKXtmb3IodmFyIHQscj1lLmxlbmd0aCxvPXIlMyxpPVtdLGE9MCxzPXItbzthPHM7YSs9MTYzODMpaS5wdXNoKGYoZSxhLGErMTYzODM+cz9zOmErMTYzODMpKTtyZXR1cm4gMT09PW8/KHQ9ZVtyLTFdLGkucHVzaChuW3Q+PjJdK25bdDw8NCY2M10rIj09IikpOjI9PT1vJiYodD0oZVtyLTJdPDw4KStlW3ItMV0saS5wdXNoKG5bdD4+MTBdK25bdD4+NCY2M10rblt0PDwyJjYzXSsiPSIpKSxpLmpvaW4oIiIpfTtmb3IodmFyIG49W10sbz1bXSxpPSJ1bmRlZmluZWQiIT10eXBlb2YgVWludDhBcnJheT9VaW50OEFycmF5OkFycmF5LGE9IkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8iLHM9MCx1PWEubGVuZ3RoO3M8dTsrK3MpbltzXT1hW3NdLG9bYS5jaGFyQ29kZUF0KHMpXT1zO2Z1bmN0aW9uIGMoZSl7dmFyIHQ9ZS5sZW5ndGg7aWYodCU0PjApdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHN0cmluZy4gTGVuZ3RoIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA0Iik7dmFyIHI9ZS5pbmRleE9mKCI9Iik7cmV0dXJuLTE9PT1yJiYocj10KSxbcixyPT09dD8wOjQtciU0XX1mdW5jdGlvbiBsKGUpe3JldHVybiBuW2U+PjE4JjYzXStuW2U+PjEyJjYzXStuW2U+PjYmNjNdK25bNjMmZV19ZnVuY3Rpb24gZihlLHQscil7Zm9yKHZhciBuLG89W10saT10O2k8cjtpKz0zKW49KGVbaV08PDE2JjE2NzExNjgwKSsoZVtpKzFdPDw4JjY1MjgwKSsoMjU1JmVbaSsyXSksby5wdXNoKGwobikpO3JldHVybiBvLmpvaW4oIiIpfW9bIi0iLmNoYXJDb2RlQXQoMCldPTYyLG9bIl8iLmNoYXJDb2RlQXQoMCldPTYzfSxmdW5jdGlvbihlLHQpe3QucmVhZD1mdW5jdGlvbihlLHQscixuLG8pe3ZhciBpLGEscz04Km8tbi0xLHU9KDE8PHMpLTEsYz11Pj4xLGw9LTcsZj1yP28tMTowLGQ9cj8tMToxLGg9ZVt0K2ZdO2ZvcihmKz1kLGk9aCYoMTw8LWwpLTEsaD4+PS1sLGwrPXM7bD4wO2k9MjU2KmkrZVt0K2ZdLGYrPWQsbC09OCk7Zm9yKGE9aSYoMTw8LWwpLTEsaT4+PS1sLGwrPW47bD4wO2E9MjU2KmErZVt0K2ZdLGYrPWQsbC09OCk7aWYoMD09PWkpaT0xLWM7ZWxzZXtpZihpPT09dSlyZXR1cm4gYT9OYU46MS8wKihoPy0xOjEpO2ErPU1hdGgucG93KDIsbiksaS09Y31yZXR1cm4oaD8tMToxKSphKk1hdGgucG93KDIsaS1uKX0sdC53cml0ZT1mdW5jdGlvbihlLHQscixuLG8saSl7dmFyIGEscyx1LGM9OCppLW8tMSxsPSgxPDxjKS0xLGY9bD4+MSxkPTIzPT09bz9NYXRoLnBvdygyLC0yNCktTWF0aC5wb3coMiwtNzcpOjAsaD1uPzA6aS0xLHA9bj8xOi0xLG09dDwwfHwwPT09dCYmMS90PDA/MTowO2Zvcih0PU1hdGguYWJzKHQpLGlzTmFOKHQpfHx0PT09MS8wPyhzPWlzTmFOKHQpPzE6MCxhPWwpOihhPU1hdGguZmxvb3IoTWF0aC5sb2codCkvTWF0aC5MTjIpLHQqKHU9TWF0aC5wb3coMiwtYSkpPDEmJihhLS0sdSo9MiksKHQrPWErZj49MT9kL3U6ZCpNYXRoLnBvdygyLDEtZikpKnU+PTImJihhKyssdS89MiksYStmPj1sPyhzPTAsYT1sKTphK2Y+PTE/KHM9KHQqdS0xKSpNYXRoLnBvdygyLG8pLGErPWYpOihzPXQqTWF0aC5wb3coMixmLTEpKk1hdGgucG93KDIsbyksYT0wKSk7bz49ODtlW3IraF09MjU1JnMsaCs9cCxzLz0yNTYsby09OCk7Zm9yKGE9YTw8b3xzLGMrPW87Yz4wO2VbcitoXT0yNTUmYSxoKz1wLGEvPTI1NixjLT04KTtlW3IraC1wXXw9MTI4Km19fSxmdW5jdGlvbihlLHQpe3ZhciByPXt9LnRvU3RyaW5nO2UuZXhwb3J0cz1BcnJheS5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm4iW29iamVjdCBBcnJheV0iPT1yLmNhbGwoZSl9fSxmdW5jdGlvbih0LHIpe3QuZXhwb3J0cz1lfSxmdW5jdGlvbihlLHQscil7KGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHIoZSx0KXtmb3IodmFyIHI9MCxuPWUubGVuZ3RoLTE7bj49MDtuLS0pe3ZhciBvPWVbbl07Ii4iPT09bz9lLnNwbGljZShuLDEpOiIuLiI9PT1vPyhlLnNwbGljZShuLDEpLHIrKyk6ciYmKGUuc3BsaWNlKG4sMSksci0tKX1pZih0KWZvcig7ci0tO3IpZS51bnNoaWZ0KCIuLiIpO3JldHVybiBlfXZhciBuPS9eKFwvP3wpKFtcc1xTXSo/KSgoPzpcLnsxLDJ9fFteXC9dKz98KShcLlteLlwvXSp8KSkoPzpbXC9dKikkLyxvPWZ1bmN0aW9uKGUpe3JldHVybiBuLmV4ZWMoZSkuc2xpY2UoMSl9O2Z1bmN0aW9uIGkoZSx0KXtpZihlLmZpbHRlcilyZXR1cm4gZS5maWx0ZXIodCk7Zm9yKHZhciByPVtdLG49MDtuPGUubGVuZ3RoO24rKyl0KGVbbl0sbixlKSYmci5wdXNoKGVbbl0pO3JldHVybiByfXQucmVzb2x2ZT1mdW5jdGlvbigpe2Zvcih2YXIgdD0iIixuPSExLG89YXJndW1lbnRzLmxlbmd0aC0xO28+PS0xJiYhbjtvLS0pe3ZhciBhPW8+PTA/YXJndW1lbnRzW29dOmUuY3dkKCk7aWYoInN0cmluZyIhPXR5cGVvZiBhKXRocm93IG5ldyBUeXBlRXJyb3IoIkFyZ3VtZW50cyB0byBwYXRoLnJlc29sdmUgbXVzdCBiZSBzdHJpbmdzIik7YSYmKHQ9YSsiLyIrdCxuPSIvIj09PWEuY2hhckF0KDApKX1yZXR1cm4obj8iLyI6IiIpKyh0PXIoaSh0LnNwbGl0KCIvIiksKGZ1bmN0aW9uKGUpe3JldHVybiEhZX0pKSwhbikuam9pbigiLyIpKXx8Ii4ifSx0Lm5vcm1hbGl6ZT1mdW5jdGlvbihlKXt2YXIgbj10LmlzQWJzb2x1dGUoZSksbz0iLyI9PT1hKGUsLTEpO3JldHVybihlPXIoaShlLnNwbGl0KCIvIiksKGZ1bmN0aW9uKGUpe3JldHVybiEhZX0pKSwhbikuam9pbigiLyIpKXx8bnx8KGU9Ii4iKSxlJiZvJiYoZSs9Ii8iKSwobj8iLyI6IiIpK2V9LHQuaXNBYnNvbHV0ZT1mdW5jdGlvbihlKXtyZXR1cm4iLyI9PT1lLmNoYXJBdCgwKX0sdC5qb2luPWZ1bmN0aW9uKCl7dmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApO3JldHVybiB0Lm5vcm1hbGl6ZShpKGUsKGZ1bmN0aW9uKGUsdCl7aWYoInN0cmluZyIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoIkFyZ3VtZW50cyB0byBwYXRoLmpvaW4gbXVzdCBiZSBzdHJpbmdzIik7cmV0dXJuIGV9KSkuam9pbigiLyIpKX0sdC5yZWxhdGl2ZT1mdW5jdGlvbihlLHIpe2Z1bmN0aW9uIG4oZSl7Zm9yKHZhciB0PTA7dDxlLmxlbmd0aCYmIiI9PT1lW3RdO3QrKyk7Zm9yKHZhciByPWUubGVuZ3RoLTE7cj49MCYmIiI9PT1lW3JdO3ItLSk7cmV0dXJuIHQ+cj9bXTplLnNsaWNlKHQsci10KzEpfWU9dC5yZXNvbHZlKGUpLnN1YnN0cigxKSxyPXQucmVzb2x2ZShyKS5zdWJzdHIoMSk7Zm9yKHZhciBvPW4oZS5zcGxpdCgiLyIpKSxpPW4oci5zcGxpdCgiLyIpKSxhPU1hdGgubWluKG8ubGVuZ3RoLGkubGVuZ3RoKSxzPWEsdT0wO3U8YTt1KyspaWYob1t1XSE9PWlbdV0pe3M9dTticmVha312YXIgYz1bXTtmb3IodT1zO3U8by5sZW5ndGg7dSsrKWMucHVzaCgiLi4iKTtyZXR1cm4oYz1jLmNvbmNhdChpLnNsaWNlKHMpKSkuam9pbigiLyIpfSx0LnNlcD0iLyIsdC5kZWxpbWl0ZXI9IjoiLHQuZGlybmFtZT1mdW5jdGlvbihlKXt2YXIgdD1vKGUpLHI9dFswXSxuPXRbMV07cmV0dXJuIHJ8fG4/KG4mJihuPW4uc3Vic3RyKDAsbi5sZW5ndGgtMSkpLHIrbik6Ii4ifSx0LmJhc2VuYW1lPWZ1bmN0aW9uKGUsdCl7dmFyIHI9byhlKVsyXTtyZXR1cm4gdCYmci5zdWJzdHIoLTEqdC5sZW5ndGgpPT09dCYmKHI9ci5zdWJzdHIoMCxyLmxlbmd0aC10Lmxlbmd0aCkpLHJ9LHQuZXh0bmFtZT1mdW5jdGlvbihlKXtyZXR1cm4gbyhlKVszXX07dmFyIGE9ImIiPT09ImFiIi5zdWJzdHIoLTEpP2Z1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZS5zdWJzdHIodCxyKX06ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0PDAmJih0PWUubGVuZ3RoK3QpLGUuc3Vic3RyKHQscil9fSkuY2FsbCh0aGlzLHIoMTQpKX0sZnVuY3Rpb24oZSx0KXt2YXIgcixuLG89ZS5leHBvcnRzPXt9O2Z1bmN0aW9uIGkoKXt0aHJvdyBuZXcgRXJyb3IoInNldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQiKX1mdW5jdGlvbiBhKCl7dGhyb3cgbmV3IEVycm9yKCJjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQiKX1mdW5jdGlvbiBzKGUpe2lmKHI9PT1zZXRUaW1lb3V0KXJldHVybiBzZXRUaW1lb3V0KGUsMCk7aWYoKHI9PT1pfHwhcikmJnNldFRpbWVvdXQpcmV0dXJuIHI9c2V0VGltZW91dCxzZXRUaW1lb3V0KGUsMCk7dHJ5e3JldHVybiByKGUsMCl9Y2F0Y2godCl7dHJ5e3JldHVybiByLmNhbGwobnVsbCxlLDApfWNhdGNoKHQpe3JldHVybiByLmNhbGwodGhpcyxlLDApfX19IWZ1bmN0aW9uKCl7dHJ5e3I9ImZ1bmN0aW9uIj09dHlwZW9mIHNldFRpbWVvdXQ/c2V0VGltZW91dDppfWNhdGNoKGUpe3I9aX10cnl7bj0iZnVuY3Rpb24iPT10eXBlb2YgY2xlYXJUaW1lb3V0P2NsZWFyVGltZW91dDphfWNhdGNoKGUpe249YX19KCk7dmFyIHUsYz1bXSxsPSExLGY9LTE7ZnVuY3Rpb24gZCgpe2wmJnUmJihsPSExLHUubGVuZ3RoP2M9dS5jb25jYXQoYyk6Zj0tMSxjLmxlbmd0aCYmaCgpKX1mdW5jdGlvbiBoKCl7aWYoIWwpe3ZhciBlPXMoZCk7bD0hMDtmb3IodmFyIHQ9Yy5sZW5ndGg7dDspe2Zvcih1PWMsYz1bXTsrK2Y8dDspdSYmdVtmXS5ydW4oKTtmPS0xLHQ9Yy5sZW5ndGh9dT1udWxsLGw9ITEsZnVuY3Rpb24oZSl7aWYobj09PWNsZWFyVGltZW91dClyZXR1cm4gY2xlYXJUaW1lb3V0KGUpO2lmKChuPT09YXx8IW4pJiZjbGVhclRpbWVvdXQpcmV0dXJuIG49Y2xlYXJUaW1lb3V0LGNsZWFyVGltZW91dChlKTt0cnl7bihlKX1jYXRjaCh0KXt0cnl7cmV0dXJuIG4uY2FsbChudWxsLGUpfWNhdGNoKHQpe3JldHVybiBuLmNhbGwodGhpcyxlKX19fShlKX19ZnVuY3Rpb24gcChlLHQpe3RoaXMuZnVuPWUsdGhpcy5hcnJheT10fWZ1bmN0aW9uIG0oKXt9by5uZXh0VGljaz1mdW5jdGlvbihlKXt2YXIgdD1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aC0xKTtpZihhcmd1bWVudHMubGVuZ3RoPjEpZm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl0W3ItMV09YXJndW1lbnRzW3JdO2MucHVzaChuZXcgcChlLHQpKSwxIT09Yy5sZW5ndGh8fGx8fHMoaCl9LHAucHJvdG90eXBlLnJ1bj1mdW5jdGlvbigpe3RoaXMuZnVuLmFwcGx5KG51bGwsdGhpcy5hcnJheSl9LG8udGl0bGU9ImJyb3dzZXIiLG8uYnJvd3Nlcj0hMCxvLmVudj17fSxvLmFyZ3Y9W10sby52ZXJzaW9uPSIiLG8udmVyc2lvbnM9e30sby5vbj1tLG8uYWRkTGlzdGVuZXI9bSxvLm9uY2U9bSxvLm9mZj1tLG8ucmVtb3ZlTGlzdGVuZXI9bSxvLnJlbW92ZUFsbExpc3RlbmVycz1tLG8uZW1pdD1tLG8ucHJlcGVuZExpc3RlbmVyPW0sby5wcmVwZW5kT25jZUxpc3RlbmVyPW0sby5saXN0ZW5lcnM9ZnVuY3Rpb24oZSl7cmV0dXJuW119LG8uYmluZGluZz1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoInByb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkIil9LG8uY3dkPWZ1bmN0aW9uKCl7cmV0dXJuIi8ifSxvLmNoZGlyPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcigicHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkIil9LG8udW1hc2s9ZnVuY3Rpb24oKXtyZXR1cm4gMH19XSl9KHIuZnMpO2NvbnN0IG49dC51bnBhY2tCcmlkZ2U7bGV0IG87dmFyIGE9ZnVuY3Rpb24oZSl7Y29uc3QgdD17fSxyPSJvbWl0Ijt2YXIgbyxhPXZvaWQgMCE9PXQ/dDp7fSxzPW4uRXh0LHU9e29wZW46ZnVuY3Rpb24oKXtyZXR1cm4gcy5jdXJyZW50Lm9wZW4uYXBwbHkocy5jdXJyZW50LGFyZ3VtZW50cyl9LGNsb3NlOmZ1bmN0aW9uKCl7cmV0dXJuIHMuY3VycmVudC5jbG9zZS5hcHBseShzLmN1cnJlbnQsYXJndW1lbnRzKX0scmVhZDpmdW5jdGlvbigpe3JldHVybiBzLmN1cnJlbnQucmVhZC5hcHBseShzLmN1cnJlbnQsYXJndW1lbnRzKX0sd3JpdGU6ZnVuY3Rpb24oKXtyZXR1cm4gcy5jdXJyZW50LndyaXRlLmFwcGx5KHMuY3VycmVudCxhcmd1bWVudHMpfSx0ZWxsOmZ1bmN0aW9uKCl7cmV0dXJuIHMuY3VycmVudC50ZWxsLmFwcGx5KHMuY3VycmVudCxhcmd1bWVudHMpfSxzZWVrOmZ1bmN0aW9uKCl7cmV0dXJuIHMuY3VycmVudC5zZWVrLmFwcGx5KHMuY3VycmVudCxhcmd1bWVudHMpfSxjcmVhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gcy5jdXJyZW50LmNyZWF0ZS5hcHBseShzLmN1cnJlbnQsYXJndW1lbnRzKX19LGM9e307Zm9yKG8gaW4gYSlhLmhhc093blByb3BlcnR5KG8pJiYoY1tvXT1hW29dKTthLmFyZ3VtZW50cz1bXSxhLnRoaXNQcm9ncmFtPSIuL3RoaXMucHJvZ3JhbSIsYS5xdWl0PWZ1bmN0aW9uKGUsdCl7dGhyb3cgdH0sYS5wcmVSdW49W10sYS5wb3N0UnVuPVtdO3ZhciBsPSExLGY9ITEsZD0hMTtpZihhLkVOVklST05NRU5UKXtpZigiV0VCIj09PWEuRU5WSVJPTk1FTlQpbD0hMDtlbHNlIGlmKCJXT1JLRVIiPT09YS5FTlZJUk9OTUVOVClmPSEwO2Vsc2UgaWYoIk5PREUiPT09YS5FTlZJUk9OTUVOVClkPSEwO2Vsc2UgaWYoIlNIRUxMIiE9PWEuRU5WSVJPTk1FTlQpdGhyb3cgbmV3IEVycm9yKCJNb2R1bGVbJ0VOVklST05NRU5UJ10gdmFsdWUgaXMgbm90IHZhbGlkLiBtdXN0IGJlIG9uZSBvZjogV0VCfFdPUktFUnxOT0RFfFNIRUxMLiIpfWVsc2UgbD0ib2JqZWN0Ij09dHlwZW9mIHdpbmRvdyxmPSJmdW5jdGlvbiI9PXR5cGVvZiBpbXBvcnRTY3JpcHRzLGQ9Im9iamVjdCI9PXR5cGVvZiBwcm9jZXNzJiYhbCYmIWY7Zm9yKG8gaW4obHx8ZikmJihhLnJlYWQ9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IFhNTEh0dHBSZXF1ZXN0O3JldHVybiB0Lm9wZW4oIkdFVCIsZSwhMSksdC5zZW5kKG51bGwpLHQucmVzcG9uc2VUZXh0fSxmJiYoYS5yZWFkQmluYXJ5PWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBYTUxIdHRwUmVxdWVzdDtyZXR1cm4gdC5vcGVuKCJHRVQiLGUsITEpLHQucmVzcG9uc2VUeXBlPSJhcnJheWJ1ZmZlciIsdC5zZW5kKG51bGwpLG5ldyBVaW50OEFycmF5KHQucmVzcG9uc2UpfSksYS5yZWFkQXN5bmM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPW5ldyBYTUxIdHRwUmVxdWVzdDtuLm9wZW4oIkdFVCIsZSwhMCksbi5yZXNwb25zZVR5cGU9ImFycmF5YnVmZmVyIixuLm9ubG9hZD1mdW5jdGlvbigpezIwMD09bi5zdGF0dXN8fDA9PW4uc3RhdHVzJiZuLnJlc3BvbnNlP3Qobi5yZXNwb25zZSk6cigpfSxuLm9uZXJyb3I9cixuLnNlbmQobnVsbCl9LGEuc2V0V2luZG93VGl0bGU9ZnVuY3Rpb24oZSl7ZG9jdW1lbnQudGl0bGU9ZX0pLGEucHJpbnQ9InVuZGVmaW5lZCIhPXR5cGVvZiBjb25zb2xlP2NvbnNvbGUubG9nLmJpbmQoY29uc29sZSk6InVuZGVmaW5lZCIhPXR5cGVvZiBwcmludD9wcmludDpudWxsLGEucHJpbnRFcnI9InVuZGVmaW5lZCIhPXR5cGVvZiBwcmludEVycj9wcmludEVycjoidW5kZWZpbmVkIiE9dHlwZW9mIGNvbnNvbGUmJmNvbnNvbGUud2Fybi5iaW5kKGNvbnNvbGUpfHxhLnByaW50LGEucHJpbnQ9YS5wcmludCxhLnByaW50RXJyPWEucHJpbnRFcnIsYyljLmhhc093blByb3BlcnR5KG8pJiYoYVtvXT1jW29dKTtmdW5jdGlvbiBoKGUpe3YoIVUpO3ZhciB0PWo7cmV0dXJuIGo9aitlKzE1Ji0xNix0fWZ1bmN0aW9uIHAoZSl7dihZKTt2YXIgdD1JW1k+PjJdLHI9dCtlKzE1Ji0xNjtyZXR1cm4gSVtZPj4yXT1yLHI+PVomJiFLKCk/KElbWT4+Ml09dCwwKTp0fWZ1bmN0aW9uIG0oZSx0KXtyZXR1cm4gdHx8KHQ9MTYpLGU9TWF0aC5jZWlsKGUvdCkqdH1mdW5jdGlvbiB5KGUpe3N3aXRjaChlKXtjYXNlImkxIjpjYXNlImk4IjpyZXR1cm4gMTtjYXNlImkxNiI6cmV0dXJuIDI7Y2FzZSJpMzIiOnJldHVybiA0O2Nhc2UiaTY0IjpyZXR1cm4gODtjYXNlImZsb2F0IjpyZXR1cm4gNDtjYXNlImRvdWJsZSI6cmV0dXJuIDg7ZGVmYXVsdDppZigiKiI9PT1lW2UubGVuZ3RoLTFdKXJldHVybiA0O2lmKCJpIj09PWVbMF0pe3ZhciB0PXBhcnNlSW50KGUuc3Vic3RyKDEpKTtyZXR1cm4gdih0JTg9PTApLHQvOH1yZXR1cm4gMH19Yz12b2lkIDAsbmV3IEFycmF5KDApO3ZhciBFPTA7ZnVuY3Rpb24gdihlLHQpe2V8fHVyKCJBc3NlcnRpb24gZmFpbGVkOiAiK3QpfWZ1bmN0aW9uIGcoZSx0LHIsbil7c3dpdGNoKCIqIj09PShyPXJ8fCJpOCIpLmNoYXJBdChyLmxlbmd0aC0xKSYmKHI9ImkzMiIpLHIpe2Nhc2UiaTEiOmNhc2UiaTgiOkNbZT4+MF09dDticmVhaztjYXNlImkxNiI6RltlPj4xXT10O2JyZWFrO2Nhc2UiaTMyIjpJW2U+PjJdPXQ7YnJlYWs7Y2FzZSJpNjQiOnRlbXBJNjQ9W3Q+Pj4wLCh0ZW1wRG91YmxlPXQsK3NlKHRlbXBEb3VibGUpPj0xP3RlbXBEb3VibGU+MD8oMHxsZSgrY2UodGVtcERvdWJsZS80Mjk0OTY3Mjk2KSw0Mjk0OTY3Mjk1KSk+Pj4wOn5+K3VlKCh0ZW1wRG91YmxlLSsofn50ZW1wRG91YmxlPj4+MCkpLzQyOTQ5NjcyOTYpPj4+MDowKV0sSVtlPj4yXT10ZW1wSTY0WzBdLElbZSs0Pj4yXT10ZW1wSTY0WzFdO2JyZWFrO2Nhc2UiZmxvYXQiOkxbZT4+Ml09dDticmVhaztjYXNlImRvdWJsZSI6eFtlPj4zXT10O2JyZWFrO2RlZmF1bHQ6dXIoImludmFsaWQgdHlwZSBmb3Igc2V0VmFsdWU6ICIrcil9fWZ1bmN0aW9uIHcoZSx0LHIsbil7dmFyIG8saTsibnVtYmVyIj09dHlwZW9mIGU/KG89ITAsaT1lKToobz0hMSxpPWUubGVuZ3RoKTt2YXIgYSxzPSJzdHJpbmciPT10eXBlb2YgdD90Om51bGw7aWYoYT00PT1yP246WyJmdW5jdGlvbiI9PXR5cGVvZiBucj9ucjpoLGlyLGgscF1bdm9pZCAwPT09cj8yOnJdKE1hdGgubWF4KGkscz8xOnQubGVuZ3RoKSksbyl7dmFyIHU7Zm9yKG49YSx2KDA9PSgzJmEpKSx1PWErKC00JmkpO248dTtuKz00KUlbbj4+Ml09MDtmb3IodT1hK2k7bjx1OylDW24rKz4+MF09MDtyZXR1cm4gYX1pZigiaTgiPT09cylyZXR1cm4gZS5zdWJhcnJheXx8ZS5zbGljZT9OLnNldChlLGEpOk4uc2V0KG5ldyBVaW50OEFycmF5KGUpLGEpLGE7Zm9yKHZhciBjLGwsZixkPTA7ZDxpOyl7dmFyIG09ZVtkXTswIT09KGM9c3x8dFtkXSk/KCJpNjQiPT1jJiYoYz0iaTMyIiksZyhhK2QsbSxjKSxmIT09YyYmKGw9eShjKSxmPWMpLGQrPWwpOmQrK31yZXR1cm4gYX1mdW5jdGlvbiBfKGUsdCl7aWYoMD09PXR8fCFlKXJldHVybiIiO2Zvcih2YXIgcixuPTAsbz0wO258PXI9TltlK28+PjBdLCgwIT1yfHx0KSYmKG8rKywhdHx8byE9dCk7KTt0fHwodD1vKTt2YXIgaT0iIjtpZihuPDEyOCl7Zm9yKHZhciBhLHM9MTAyNDt0PjA7KWE9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsTi5zdWJhcnJheShlLGUrTWF0aC5taW4odCxzKSkpLGk9aT9pK2E6YSxlKz1zLHQtPXM7cmV0dXJuIGl9cmV0dXJuIFQoZSl9dmFyIGI9InVuZGVmaW5lZCIhPXR5cGVvZiBUZXh0RGVjb2Rlcj9uZXcgVGV4dERlY29kZXIoInV0ZjgiKTp2b2lkIDA7ZnVuY3Rpb24gQShlLHQpe2Zvcih2YXIgcj10O2Vbcl07KSsrcjtpZihyLXQ+MTYmJmUuc3ViYXJyYXkmJmIpcmV0dXJuIGIuZGVjb2RlKGUuc3ViYXJyYXkodCxyKSk7Zm9yKHZhciBuLG8saSxhLHMsdT0iIjs7KXtpZighKG49ZVt0KytdKSlyZXR1cm4gdTtpZigxMjgmbilpZihvPTYzJmVbdCsrXSwxOTIhPSgyMjQmbikpaWYoaT02MyZlW3QrK10sMjI0PT0oMjQwJm4pP249KDE1Jm4pPDwxMnxvPDw2fGk6KGE9NjMmZVt0KytdLDI0MD09KDI0OCZuKT9uPSg3Jm4pPDwxOHxvPDwxMnxpPDw2fGE6KHM9NjMmZVt0KytdLG49MjQ4PT0oMjUyJm4pPygzJm4pPDwyNHxvPDwxOHxpPDwxMnxhPDw2fHM6KDEmbik8PDMwfG88PDI0fGk8PDE4fGE8PDEyfHM8PDZ8NjMmZVt0KytdKSksbjw2NTUzNil1Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKG4pO2Vsc2V7dmFyIGM9bi02NTUzNjt1Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKDU1Mjk2fGM+PjEwLDU2MzIwfDEwMjMmYyl9ZWxzZSB1Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKCgzMSZuKTw8NnxvKTtlbHNlIHUrPVN0cmluZy5mcm9tQ2hhckNvZGUobil9fWZ1bmN0aW9uIFQoZSl7cmV0dXJuIEEoTixlKX1mdW5jdGlvbiBTKGUsdCxyLG4pe2lmKCEobj4wKSlyZXR1cm4gMDtmb3IodmFyIG89cixpPXIrbi0xLGE9MDthPGUubGVuZ3RoOysrYSl7dmFyIHM9ZS5jaGFyQ29kZUF0KGEpO2lmKHM+PTU1Mjk2JiZzPD01NzM0MyYmKHM9NjU1MzYrKCgxMDIzJnMpPDwxMCl8MTAyMyZlLmNoYXJDb2RlQXQoKythKSksczw9MTI3KXtpZihyPj1pKWJyZWFrO3RbcisrXT1zfWVsc2UgaWYoczw9MjA0Nyl7aWYocisxPj1pKWJyZWFrO3RbcisrXT0xOTJ8cz4+Nix0W3IrK109MTI4fDYzJnN9ZWxzZSBpZihzPD02NTUzNSl7aWYocisyPj1pKWJyZWFrO3RbcisrXT0yMjR8cz4+MTIsdFtyKytdPTEyOHxzPj42JjYzLHRbcisrXT0xMjh8NjMmc31lbHNlIGlmKHM8PTIwOTcxNTEpe2lmKHIrMz49aSlicmVhazt0W3IrK109MjQwfHM+PjE4LHRbcisrXT0xMjh8cz4+MTImNjMsdFtyKytdPTEyOHxzPj42JjYzLHRbcisrXT0xMjh8NjMmc31lbHNlIGlmKHM8PTY3MTA4ODYzKXtpZihyKzQ+PWkpYnJlYWs7dFtyKytdPTI0OHxzPj4yNCx0W3IrK109MTI4fHM+PjE4JjYzLHRbcisrXT0xMjh8cz4+MTImNjMsdFtyKytdPTEyOHxzPj42JjYzLHRbcisrXT0xMjh8NjMmc31lbHNle2lmKHIrNT49aSlicmVhazt0W3IrK109MjUyfHM+PjMwLHRbcisrXT0xMjh8cz4+MjQmNjMsdFtyKytdPTEyOHxzPj4xOCY2Myx0W3IrK109MTI4fHM+PjEyJjYzLHRbcisrXT0xMjh8cz4+NiY2Myx0W3IrK109MTI4fDYzJnN9fXJldHVybiB0W3JdPTAsci1vfWZ1bmN0aW9uIGsoZSx0LHIpe3JldHVybiBTKGUsTix0LHIpfWZ1bmN0aW9uIFAoZSl7Zm9yKHZhciB0PTAscj0wO3I8ZS5sZW5ndGg7KytyKXt2YXIgbj1lLmNoYXJDb2RlQXQocik7bj49NTUyOTYmJm48PTU3MzQzJiYobj02NTUzNisoKDEwMjMmbik8PDEwKXwxMDIzJmUuY2hhckNvZGVBdCgrK3IpKSxuPD0xMjc/Kyt0OnQrPW48PTIwNDc/MjpuPD02NTUzNT8zOm48PTIwOTcxNTE/NDpuPD02NzEwODg2Mz81OjZ9cmV0dXJuIHR9ZnVuY3Rpb24gRChlKXtmb3IodmFyIHQ9MCxyPSIiOzspe3ZhciBuPUlbZSs0KnQ+PjJdO2lmKDA9PW4pcmV0dXJuIHI7aWYoKyt0LG4+PTY1NTM2KXt2YXIgbz1uLTY1NTM2O3IrPVN0cmluZy5mcm9tQ2hhckNvZGUoNTUyOTZ8bz4+MTAsNTYzMjB8MTAyMyZvKX1lbHNlIHIrPVN0cmluZy5mcm9tQ2hhckNvZGUobil9fWZ1bmN0aW9uIE8oKXt2YXIgZT1mdW5jdGlvbigpe3ZhciBlPW5ldyBFcnJvcjtpZighZS5zdGFjayl7dHJ5e3Rocm93IG5ldyBFcnJvcigwKX1jYXRjaCh0KXtlPXR9aWYoIWUuc3RhY2spcmV0dXJuIihubyBzdGFjayB0cmFjZSBhdmFpbGFibGUpIn1yZXR1cm4gZS5zdGFjay50b1N0cmluZygpfSgpO3JldHVybiBhLmV4dHJhU3RhY2tUcmFjZSYmKGUrPSJcbiIrYS5leHRyYVN0YWNrVHJhY2UoKSksZS5yZXBsYWNlKC9fX1pbXHdcZF9dKy9nLChmdW5jdGlvbihlKXtyZXR1cm4gZT09ZT9lOmUrIiBbIitlKyJdIn0pKX0idW5kZWZpbmVkIiE9dHlwZW9mIFRleHREZWNvZGVyJiZuZXcgVGV4dERlY29kZXIoInV0Zi0xNmxlIik7dmFyIFIsQyxOLEYsTSxJLEIsTCx4LGosVSx6LCQsVyxZLFY9NjU1MzYsSD0xNjc3NzIxNjtmdW5jdGlvbiBHKGUsdCl7cmV0dXJuIGUldD4wJiYoZSs9dC1lJXQpLGV9ZnVuY3Rpb24gcShlKXthLmJ1ZmZlcj1SPWV9ZnVuY3Rpb24gWCgpe2EuSEVBUDg9Qz1uZXcgSW50OEFycmF5KFIpLGEuSEVBUDE2PUY9bmV3IEludDE2QXJyYXkoUiksYS5IRUFQMzI9ST1uZXcgSW50MzJBcnJheShSKSxhLkhFQVBVOD1OPW5ldyBVaW50OEFycmF5KFIpLGEuSEVBUFUxNj1NPW5ldyBVaW50MTZBcnJheShSKSxhLkhFQVBVMzI9Qj1uZXcgVWludDMyQXJyYXkoUiksYS5IRUFQRjMyPUw9bmV3IEZsb2F0MzJBcnJheShSKSxhLkhFQVBGNjQ9eD1uZXcgRmxvYXQ2NEFycmF5KFIpfWZ1bmN0aW9uIEsoKXt2YXIgZT1hLnVzaW5nV2FzbT9WOkgsdD0yMTQ3NDgzNjQ4LWU7aWYoSVtZPj4yXT50KXJldHVybiExO3ZhciByPVo7Zm9yKFo9TWF0aC5tYXgoWiwxNjc3NzIxNik7WjxJW1k+PjJdOylaPVo8PTUzNjg3MDkxMj9HKDIqWixlKTpNYXRoLm1pbihHKCgzKlorMjE0NzQ4MzY0OCkvNCxlKSx0KTt2YXIgbj1hLnJlYWxsb2NCdWZmZXIoWik7cmV0dXJuIG4mJm4uYnl0ZUxlbmd0aD09Wj8ocShuKSxYKCksITApOihaPXIsITEpfWo9JD1ZPTAsVT0hMSxhLnJlYWxsb2NCdWZmZXJ8fChhLnJlYWxsb2NCdWZmZXI9ZnVuY3Rpb24oZSl7dmFyIHQ7dHJ5e2lmKEFycmF5QnVmZmVyLnRyYW5zZmVyKXQ9QXJyYXlCdWZmZXIudHJhbnNmZXIoUixlKTtlbHNle3ZhciByPUM7dD1uZXcgQXJyYXlCdWZmZXIoZSksbmV3IEludDhBcnJheSh0KS5zZXQocil9fWNhdGNoKGUpe3JldHVybiExfXJldHVybiEhdHIodCkmJnR9KTt0cnl7RnVuY3Rpb24ucHJvdG90eXBlLmNhbGwuYmluZChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEFycmF5QnVmZmVyLnByb3RvdHlwZSwiYnl0ZUxlbmd0aCIpLmdldCkobmV3IEFycmF5QnVmZmVyKDQpKX1jYXRjaChlKXt9dmFyIEo9YS5UT1RBTF9TVEFDS3x8NTI0Mjg4MCxaPWEuVE9UQUxfTUVNT1JZfHwxNjc3NzIxNjtpZihaPEomJmEucHJpbnRFcnIoIlRPVEFMX01FTU9SWSBzaG91bGQgYmUgbGFyZ2VyIHRoYW4gVE9UQUxfU1RBQ0ssIHdhcyAiK1orIiEgKFRPVEFMX1NUQUNLPSIrSisiKSIpLGEuYnVmZmVyP1I9YS5idWZmZXI6KCJvYmplY3QiPT10eXBlb2YgV2ViQXNzZW1ibHkmJiJmdW5jdGlvbiI9PXR5cGVvZiBXZWJBc3NlbWJseS5NZW1vcnk/KGEud2FzbU1lbW9yeT1uZXcgV2ViQXNzZW1ibHkuTWVtb3J5KHtpbml0aWFsOlovVn0pLFI9YS53YXNtTWVtb3J5LmJ1ZmZlcik6Uj1uZXcgQXJyYXlCdWZmZXIoWiksYS5idWZmZXI9UiksWCgpLElbMF09MTY2ODUwOTAyOSxGWzFdPTI1NDU5LDExNSE9PU5bMl18fDk5IT09TlszXSl0aHJvdyJSdW50aW1lIGVycm9yOiBleHBlY3RlZCB0aGUgc3lzdGVtIHRvIGJlIGxpdHRsZS1lbmRpYW4hIjtmdW5jdGlvbiBRKGUpe2Zvcig7ZS5sZW5ndGg+MDspe3ZhciB0PWUuc2hpZnQoKTtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCl7dmFyIHI9dC5mdW5jOyJudW1iZXIiPT10eXBlb2Ygcj92b2lkIDA9PT10LmFyZz9hLmR5bkNhbGxfdihyKTphLmR5bkNhbGxfdmkocix0LmFyZyk6cih2b2lkIDA9PT10LmFyZz9udWxsOnQuYXJnKX1lbHNlIHQoKX19dmFyIGVlPVtdLHRlPVtdLHJlPVtdLG5lPVtdLG9lPVtdLGllPSExO2Z1bmN0aW9uIGFlKGUsdCxyKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoOysrbilDW3QrKz4+MF09ZS5jaGFyQ29kZUF0KG4pO3J8fChDW3Q+PjBdPTApfXZhciBzZT1NYXRoLmFicyx1ZT1NYXRoLmNlaWwsY2U9TWF0aC5mbG9vcixsZT1NYXRoLm1pbixmZT0wLGRlPW51bGw7ZnVuY3Rpb24gaGUoZSl7ZmUrKyxhLm1vbml0b3JSdW5EZXBlbmRlbmNpZXMmJmEubW9uaXRvclJ1bkRlcGVuZGVuY2llcyhmZSl9ZnVuY3Rpb24gcGUoZSl7aWYoZmUtLSxhLm1vbml0b3JSdW5EZXBlbmRlbmNpZXMmJmEubW9uaXRvclJ1bkRlcGVuZGVuY2llcyhmZSksMD09ZmUmJmRlKXt2YXIgdD1kZTtkZT1udWxsLHQoKX19YS5wcmVsb2FkZWRJbWFnZXM9e30sYS5wcmVsb2FkZWRBdWRpb3M9e307dmFyIG1lPSJkYXRhOmFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbTtiYXNlNjQsIjtmdW5jdGlvbiB5ZShlKXtyZXR1cm4gU3RyaW5nLnByb3RvdHlwZS5zdGFydHNXaXRoP2Uuc3RhcnRzV2l0aChtZSk6MD09PWUuaW5kZXhPZihtZSl9IWZ1bmN0aW9uKCl7dmFyIHQ9InVucGFjay53YXN0IixuPSJ1bnBhY2sudGVtcC5hc20uanMiOyJmdW5jdGlvbiI9PXR5cGVvZiBhLmxvY2F0ZUZpbGUmJih5ZSh0KXx8KHQ9YS5sb2NhdGVGaWxlKHQpKSx5ZShlKXx8KGU9YS5sb2NhdGVGaWxlKGUpKSx5ZShuKXx8KG49YS5sb2NhdGVGaWxlKG4pKSk7dmFyIG89e2dsb2JhbDpudWxsLGVudjpudWxsLGFzbTJ3YXNtOnsiZjY0LXJlbSI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSV0fSxkZWJ1Z2dlcjpmdW5jdGlvbigpe319LHBhcmVudDphfSxpPW51bGw7ZnVuY3Rpb24gcygpe3RyeXtpZihhLndhc21CaW5hcnkpcmV0dXJuIG5ldyBVaW50OEFycmF5KGEud2FzbUJpbmFyeSk7aWYoYS5yZWFkQmluYXJ5KXJldHVybiBhLnJlYWRCaW5hcnkoZSk7dGhyb3cib24gdGhlIHdlYiwgd2UgbmVlZCB0aGUgd2FzbSBiaW5hcnkgdG8gYmUgcHJlbG9hZGVkIGFuZCBzZXQgb24gTW9kdWxlWyd3YXNtQmluYXJ5J10uIGVtY2MucHkgd2lsbCBkbyB0aGF0IGZvciB5b3Ugd2hlbiBnZW5lcmF0aW5nIEhUTUwgKGJ1dCBub3QgSlMpIn1jYXRjaChlKXt1cihlKX19ZnVuY3Rpb24gdSh0LG4sdSl7aWYoIm9iamVjdCIhPXR5cGVvZiBXZWJBc3NlbWJseSlyZXR1cm4gYS5wcmludEVycigibm8gbmF0aXZlIHdhc20gc3VwcG9ydCBkZXRlY3RlZCIpLCExO2lmKCEoYS53YXNtTWVtb3J5IGluc3RhbmNlb2YgV2ViQXNzZW1ibHkuTWVtb3J5KSlyZXR1cm4gYS5wcmludEVycigibm8gbmF0aXZlIHdhc20gTWVtb3J5IGluIHVzZSIpLCExO2Z1bmN0aW9uIGMoZSx0KXsoaT1lLmV4cG9ydHMpLm1lbW9yeSYmZnVuY3Rpb24oZSl7dmFyIHQ9YS5idWZmZXI7ZS5ieXRlTGVuZ3RoPHQuYnl0ZUxlbmd0aCYmYS5wcmludEVycigidGhlIG5ldyBidWZmZXIgaW4gbWVyZ2VNZW1vcnkgaXMgc21hbGxlciB0aGFuIHRoZSBwcmV2aW91cyBvbmUuIGluIG5hdGl2ZSB3YXNtLCB3ZSBzaG91bGQgZ3JvdyBtZW1vcnkgaGVyZSIpO3ZhciByPW5ldyBJbnQ4QXJyYXkodCk7bmV3IEludDhBcnJheShlKS5zZXQocikscShlKSxYKCl9KGkubWVtb3J5KSxhLmFzbT1pLGEudXNpbmdXYXNtPSEwLHBlKCl9aWYobi5tZW1vcnk9YS53YXNtTWVtb3J5LG8uZ2xvYmFsPXtOYU46TmFOLEluZmluaXR5OjEvMH0sb1siZ2xvYmFsLk1hdGgiXT1NYXRoLG8uZW52PW4saGUoKSxhLmluc3RhbnRpYXRlV2FzbSl0cnl7cmV0dXJuIGEuaW5zdGFudGlhdGVXYXNtKG8sYyl9Y2F0Y2goZSl7cmV0dXJuIGEucHJpbnRFcnIoIk1vZHVsZS5pbnN0YW50aWF0ZVdhc20gY2FsbGJhY2sgZmFpbGVkIHdpdGggZXJyb3I6ICIrZSksITF9ZnVuY3Rpb24gZChlKXtjKGUuaW5zdGFuY2UsZS5tb2R1bGUpfWZ1bmN0aW9uIGgodCl7KGEud2FzbUJpbmFyeXx8IWwmJiFmfHwiZnVuY3Rpb24iIT10eXBlb2YgZmV0Y2g/bmV3IFByb21pc2UoKGZ1bmN0aW9uKGUsdCl7ZShzKCkpfSkpOmZldGNoKGUse2NyZWRlbnRpYWxzOnJ9KS50aGVuKChmdW5jdGlvbih0KXtpZighdC5vayl0aHJvdyJmYWlsZWQgdG8gbG9hZCB3YXNtIGJpbmFyeSBmaWxlIGF0ICciK2UrIiciO3JldHVybiB0LmFycmF5QnVmZmVyKCl9KSkuY2F0Y2goKGZ1bmN0aW9uKCl7cmV0dXJuIHMoKX0pKSkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlKGUsbyl9KSkudGhlbih0KS5jYXRjaCgoZnVuY3Rpb24oZSl7YS5wcmludEVycigiZmFpbGVkIHRvIGFzeW5jaHJvbm91c2x5IHByZXBhcmUgd2FzbTogIitlKSx1cihlKX0pKX1yZXR1cm4gYS53YXNtQmluYXJ5fHwiZnVuY3Rpb24iIT10eXBlb2YgV2ViQXNzZW1ibHkuaW5zdGFudGlhdGVTdHJlYW1pbmd8fHllKGUpfHwiZnVuY3Rpb24iIT10eXBlb2YgZmV0Y2g/aChkKTpXZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZyhmZXRjaChlLHtjcmVkZW50aWFsczpyfSksbykudGhlbihkKS5jYXRjaCgoZnVuY3Rpb24oZSl7YS5wcmludEVycigid2FzbSBzdHJlYW1pbmcgY29tcGlsZSBmYWlsZWQ6ICIrZSksYS5wcmludEVycigiZmFsbGluZyBiYWNrIHRvIEFycmF5QnVmZmVyIGluc3RhbnRpYXRpb24iKSxoKGQpfSkpLHt9fWEuYXNtUHJlbG9hZD1hLmFzbSxhLnJlYWxsb2NCdWZmZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2U9RyhlLGEudXNpbmdXYXNtP1Y6SCk7dmFyIHQ9YS5idWZmZXIuYnl0ZUxlbmd0aDtpZihhLnVzaW5nV2FzbSl0cnl7cmV0dXJuLTEhPT1hLndhc21NZW1vcnkuZ3JvdygoZS10KS82NTUzNik/YS5idWZmZXI9YS53YXNtTWVtb3J5LmJ1ZmZlcjpudWxsfWNhdGNoKGUpe3JldHVybiBudWxsfX0oZSl9LGEuYXNtPWZ1bmN0aW9uKGUsdCxyKXtpZighKHQ9dCkudGFibGUpe3ZhciBuPWEud2FzbVRhYmxlU2l6ZTt2b2lkIDA9PT1uJiYobj0xMDI0KTt2YXIgbz1hLndhc21NYXhUYWJsZVNpemU7Im9iamVjdCI9PXR5cGVvZiBXZWJBc3NlbWJseSYmImZ1bmN0aW9uIj09dHlwZW9mIFdlYkFzc2VtYmx5LlRhYmxlP3QudGFibGU9dm9pZCAwIT09bz9uZXcgV2ViQXNzZW1ibHkuVGFibGUoe2luaXRpYWw6bixtYXhpbXVtOm8sZWxlbWVudDoiYW55ZnVuYyJ9KTpuZXcgV2ViQXNzZW1ibHkuVGFibGUoe2luaXRpYWw6bixlbGVtZW50OiJhbnlmdW5jIn0pOnQudGFibGU9bmV3IEFycmF5KG4pLGEud2FzbVRhYmxlPXQudGFibGV9dmFyIGk7cmV0dXJuIHQubWVtb3J5QmFzZXx8KHQubWVtb3J5QmFzZT1hLlNUQVRJQ19CQVNFKSx0LnRhYmxlQmFzZXx8KHQudGFibGVCYXNlPTApLChpPXUoMCx0KSl8fHVyKCJubyBiaW5hcnllbiBtZXRob2Qgc3VjY2VlZGVkLiBjb25zaWRlciBlbmFibGluZyBtb3JlIG9wdGlvbnMsIGxpa2UgaW50ZXJwcmV0aW5nLCBpZiB5b3Ugd2FudCB0aGF0OiBodHRwczovL2dpdGh1Yi5jb20va3JpcGtlbi9lbXNjcmlwdGVuL3dpa2kvV2ViQXNzZW1ibHkjYmluYXJ5ZW4tbWV0aG9kcyIpLGl9fSgpLGo9Njc5ODQsdGUucHVzaCh7ZnVuYzpmdW5jdGlvbigpe1F0KCl9fSx7ZnVuYzpmdW5jdGlvbigpe1p0KCl9fSx7ZnVuYzpmdW5jdGlvbigpe0p0KCl9fSx7ZnVuYzpmdW5jdGlvbigpe0t0KCl9fSksYS5TVEFUSUNfQkFTRT0xMDI0LGEuU1RBVElDX0JVTVA9NjY5NjAsais9MTY7dmFyIEVlPXtsYXN0OjAsY2F1Z2h0OltdLGluZm9zOnt9LGRlQWRqdXN0OmZ1bmN0aW9uKGUpe2lmKCFlfHxFZS5pbmZvc1tlXSlyZXR1cm4gZTtmb3IodmFyIHQgaW4gRWUuaW5mb3Mpe3ZhciByPSt0O2lmKEVlLmluZm9zW3JdLmFkanVzdGVkPT09ZSlyZXR1cm4gcn1yZXR1cm4gZX0sYWRkUmVmOmZ1bmN0aW9uKGUpe2UmJkVlLmluZm9zW2VdLnJlZmNvdW50Kyt9LGRlY1JlZjpmdW5jdGlvbihlKXtpZihlKXt2YXIgdD1FZS5pbmZvc1tlXTt2KHQucmVmY291bnQ+MCksdC5yZWZjb3VudC0tLDAhPT10LnJlZmNvdW50fHx0LnJldGhyb3dufHwodC5kZXN0cnVjdG9yJiZhLmR5bkNhbGxfdmkodC5kZXN0cnVjdG9yLGUpLGRlbGV0ZSBFZS5pbmZvc1tlXSx2ZShlKSl9fSxjbGVhclJlZjpmdW5jdGlvbihlKXtlJiYoRWUuaW5mb3NbZV0ucmVmY291bnQ9MCl9fTtmdW5jdGlvbiB2ZShlKXt0cnl7cmV0dXJuIHJyKGUpfWNhdGNoKGUpe319ZnVuY3Rpb24gZ2UoKXt2YXIgZT1FZS5sYXN0O2lmKCFlKXJldHVybiAwfChvcigwKSwwKTt2YXIgdD1FZS5pbmZvc1tlXSxyPXQudHlwZTtpZighcilyZXR1cm4gMHwob3IoMCksZSk7dmFyIG49QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTthLl9fX2N4YV9pc19wb2ludGVyX3R5cGUociksZ2UuYnVmZmVyfHwoZ2UuYnVmZmVyPW5yKDQpKSxJW2dlLmJ1ZmZlcj4+Ml09ZSxlPWdlLmJ1ZmZlcjtmb3IodmFyIG89MDtvPG4ubGVuZ3RoO28rKylpZihuW29dJiZhLl9fX2N4YV9jYW5fY2F0Y2gobltvXSxyLGUpKXJldHVybiBlPUlbZT4+Ml0sdC5hZGp1c3RlZD1lLDB8KG9yKG5bb10pLGUpO3JldHVybiBlPUlbZT4+Ml0sMHwob3IociksZSl9dmFyIHdlPXtFUEVSTToxLEVOT0VOVDoyLEVTUkNIOjMsRUlOVFI6NCxFSU86NSxFTlhJTzo2LEUyQklHOjcsRU5PRVhFQzo4LEVCQURGOjksRUNISUxEOjEwLEVBR0FJTjoxMSxFV09VTERCTE9DSzoxMSxFTk9NRU06MTIsRUFDQ0VTOjEzLEVGQVVMVDoxNCxFTk9UQkxLOjE1LEVCVVNZOjE2LEVFWElTVDoxNyxFWERFVjoxOCxFTk9ERVY6MTksRU5PVERJUjoyMCxFSVNESVI6MjEsRUlOVkFMOjIyLEVORklMRToyMyxFTUZJTEU6MjQsRU5PVFRZOjI1LEVUWFRCU1k6MjYsRUZCSUc6MjcsRU5PU1BDOjI4LEVTUElQRToyOSxFUk9GUzozMCxFTUxJTks6MzEsRVBJUEU6MzIsRURPTTozMyxFUkFOR0U6MzQsRU5PTVNHOjQyLEVJRFJNOjQzLEVDSFJORzo0NCxFTDJOU1lOQzo0NSxFTDNITFQ6NDYsRUwzUlNUOjQ3LEVMTlJORzo0OCxFVU5BVENIOjQ5LEVOT0NTSTo1MCxFTDJITFQ6NTEsRURFQURMSzozNSxFTk9MQ0s6MzcsRUJBREU6NTIsRUJBRFI6NTMsRVhGVUxMOjU0LEVOT0FOTzo1NSxFQkFEUlFDOjU2LEVCQURTTFQ6NTcsRURFQURMT0NLOjM1LEVCRk9OVDo1OSxFTk9TVFI6NjAsRU5PREFUQTo2MSxFVElNRTo2MixFTk9TUjo2MyxFTk9ORVQ6NjQsRU5PUEtHOjY1LEVSRU1PVEU6NjYsRU5PTElOSzo2NyxFQURWOjY4LEVTUk1OVDo2OSxFQ09NTTo3MCxFUFJPVE86NzEsRU1VTFRJSE9QOjcyLEVET1RET1Q6NzMsRUJBRE1TRzo3NCxFTk9UVU5JUTo3NixFQkFERkQ6NzcsRVJFTUNIRzo3OCxFTElCQUNDOjc5LEVMSUJCQUQ6ODAsRUxJQlNDTjo4MSxFTElCTUFYOjgyLEVMSUJFWEVDOjgzLEVOT1NZUzozOCxFTk9URU1QVFk6MzksRU5BTUVUT09MT05HOjM2LEVMT09QOjQwLEVPUE5PVFNVUFA6OTUsRVBGTk9TVVBQT1JUOjk2LEVDT05OUkVTRVQ6MTA0LEVOT0JVRlM6MTA1LEVBRk5PU1VQUE9SVDo5NyxFUFJPVE9UWVBFOjkxLEVOT1RTT0NLOjg4LEVOT1BST1RPT1BUOjkyLEVTSFVURE9XTjoxMDgsRUNPTk5SRUZVU0VEOjExMSxFQUREUklOVVNFOjk4LEVDT05OQUJPUlRFRDoxMDMsRU5FVFVOUkVBQ0g6MTAxLEVORVRET1dOOjEwMCxFVElNRURPVVQ6MTEwLEVIT1NURE9XTjoxMTIsRUhPU1RVTlJFQUNIOjExMyxFSU5QUk9HUkVTUzoxMTUsRUFMUkVBRFk6MTE0LEVERVNUQUREUlJFUTo4OSxFTVNHU0laRTo5MCxFUFJPVE9OT1NVUFBPUlQ6OTMsRVNPQ0tUTk9TVVBQT1JUOjk0LEVBRERSTk9UQVZBSUw6OTksRU5FVFJFU0VUOjEwMixFSVNDT05OOjEwNixFTk9UQ09OTjoxMDcsRVRPT01BTllSRUZTOjEwOSxFVVNFUlM6ODcsRURRVU9UOjEyMixFU1RBTEU6MTE2LEVOT1RTVVA6OTUsRU5PTUVESVVNOjEyMyxFSUxTRVE6ODQsRU9WRVJGTE9XOjc1LEVDQU5DRUxFRDoxMjUsRU5PVFJFQ09WRVJBQkxFOjEzMSxFT1dORVJERUFEOjEzMCxFU1RSUElQRTo4Nn07ZnVuY3Rpb24gX2UoZSl7cmV0dXJuIGEuX19fZXJybm9fbG9jYXRpb24mJihJW2EuX19fZXJybm9fbG9jYXRpb24oKT4+Ml09ZSksZX12YXIgYmU9ezA6IlN1Y2Nlc3MiLDE6Ik5vdCBzdXBlci11c2VyIiwyOiJObyBzdWNoIGZpbGUgb3IgZGlyZWN0b3J5IiwzOiJObyBzdWNoIHByb2Nlc3MiLDQ6IkludGVycnVwdGVkIHN5c3RlbSBjYWxsIiw1OiJJL08gZXJyb3IiLDY6Ik5vIHN1Y2ggZGV2aWNlIG9yIGFkZHJlc3MiLDc6IkFyZyBsaXN0IHRvbyBsb25nIiw4OiJFeGVjIGZvcm1hdCBlcnJvciIsOToiQmFkIGZpbGUgbnVtYmVyIiwxMDoiTm8gY2hpbGRyZW4iLDExOiJObyBtb3JlIHByb2Nlc3NlcyIsMTI6Ik5vdCBlbm91Z2ggY29yZSIsMTM6IlBlcm1pc3Npb24gZGVuaWVkIiwxNDoiQmFkIGFkZHJlc3MiLDE1OiJCbG9jayBkZXZpY2UgcmVxdWlyZWQiLDE2OiJNb3VudCBkZXZpY2UgYnVzeSIsMTc6IkZpbGUgZXhpc3RzIiwxODoiQ3Jvc3MtZGV2aWNlIGxpbmsiLDE5OiJObyBzdWNoIGRldmljZSIsMjA6Ik5vdCBhIGRpcmVjdG9yeSIsMjE6IklzIGEgZGlyZWN0b3J5IiwyMjoiSW52YWxpZCBhcmd1bWVudCIsMjM6IlRvbyBtYW55IG9wZW4gZmlsZXMgaW4gc3lzdGVtIiwyNDoiVG9vIG1hbnkgb3BlbiBmaWxlcyIsMjU6Ik5vdCBhIHR5cGV3cml0ZXIiLDI2OiJUZXh0IGZpbGUgYnVzeSIsMjc6IkZpbGUgdG9vIGxhcmdlIiwyODoiTm8gc3BhY2UgbGVmdCBvbiBkZXZpY2UiLDI5OiJJbGxlZ2FsIHNlZWsiLDMwOiJSZWFkIG9ubHkgZmlsZSBzeXN0ZW0iLDMxOiJUb28gbWFueSBsaW5rcyIsMzI6IkJyb2tlbiBwaXBlIiwzMzoiTWF0aCBhcmcgb3V0IG9mIGRvbWFpbiBvZiBmdW5jIiwzNDoiTWF0aCByZXN1bHQgbm90IHJlcHJlc2VudGFibGUiLDM1OiJGaWxlIGxvY2tpbmcgZGVhZGxvY2sgZXJyb3IiLDM2OiJGaWxlIG9yIHBhdGggbmFtZSB0b28gbG9uZyIsMzc6Ik5vIHJlY29yZCBsb2NrcyBhdmFpbGFibGUiLDM4OiJGdW5jdGlvbiBub3QgaW1wbGVtZW50ZWQiLDM5OiJEaXJlY3Rvcnkgbm90IGVtcHR5Iiw0MDoiVG9vIG1hbnkgc3ltYm9saWMgbGlua3MiLDQyOiJObyBtZXNzYWdlIG9mIGRlc2lyZWQgdHlwZSIsNDM6IklkZW50aWZpZXIgcmVtb3ZlZCIsNDQ6IkNoYW5uZWwgbnVtYmVyIG91dCBvZiByYW5nZSIsNDU6IkxldmVsIDIgbm90IHN5bmNocm9uaXplZCIsNDY6IkxldmVsIDMgaGFsdGVkIiw0NzoiTGV2ZWwgMyByZXNldCIsNDg6IkxpbmsgbnVtYmVyIG91dCBvZiByYW5nZSIsNDk6IlByb3RvY29sIGRyaXZlciBub3QgYXR0YWNoZWQiLDUwOiJObyBDU0kgc3RydWN0dXJlIGF2YWlsYWJsZSIsNTE6IkxldmVsIDIgaGFsdGVkIiw1MjoiSW52YWxpZCBleGNoYW5nZSIsNTM6IkludmFsaWQgcmVxdWVzdCBkZXNjcmlwdG9yIiw1NDoiRXhjaGFuZ2UgZnVsbCIsNTU6Ik5vIGFub2RlIiw1NjoiSW52YWxpZCByZXF1ZXN0IGNvZGUiLDU3OiJJbnZhbGlkIHNsb3QiLDU5OiJCYWQgZm9udCBmaWxlIGZtdCIsNjA6IkRldmljZSBub3QgYSBzdHJlYW0iLDYxOiJObyBkYXRhIChmb3Igbm8gZGVsYXkgaW8pIiw2MjoiVGltZXIgZXhwaXJlZCIsNjM6Ik91dCBvZiBzdHJlYW1zIHJlc291cmNlcyIsNjQ6Ik1hY2hpbmUgaXMgbm90IG9uIHRoZSBuZXR3b3JrIiw2NToiUGFja2FnZSBub3QgaW5zdGFsbGVkIiw2NjoiVGhlIG9iamVjdCBpcyByZW1vdGUiLDY3OiJUaGUgbGluayBoYXMgYmVlbiBzZXZlcmVkIiw2ODoiQWR2ZXJ0aXNlIGVycm9yIiw2OToiU3Jtb3VudCBlcnJvciIsNzA6IkNvbW11bmljYXRpb24gZXJyb3Igb24gc2VuZCIsNzE6IlByb3RvY29sIGVycm9yIiw3MjoiTXVsdGlob3AgYXR0ZW1wdGVkIiw3MzoiQ3Jvc3MgbW91bnQgcG9pbnQgKG5vdCByZWFsbHkgZXJyb3IpIiw3NDoiVHJ5aW5nIHRvIHJlYWQgdW5yZWFkYWJsZSBtZXNzYWdlIiw3NToiVmFsdWUgdG9vIGxhcmdlIGZvciBkZWZpbmVkIGRhdGEgdHlwZSIsNzY6IkdpdmVuIGxvZy4gbmFtZSBub3QgdW5pcXVlIiw3NzoiZi5kLiBpbnZhbGlkIGZvciB0aGlzIG9wZXJhdGlvbiIsNzg6IlJlbW90ZSBhZGRyZXNzIGNoYW5nZWQiLDc5OiJDYW4gICBhY2Nlc3MgYSBuZWVkZWQgc2hhcmVkIGxpYiIsODA6IkFjY2Vzc2luZyBhIGNvcnJ1cHRlZCBzaGFyZWQgbGliIiw4MToiLmxpYiBzZWN0aW9uIGluIGEub3V0IGNvcnJ1cHRlZCIsODI6IkF0dGVtcHRpbmcgdG8gbGluayBpbiB0b28gbWFueSBsaWJzIiw4MzoiQXR0ZW1wdGluZyB0byBleGVjIGEgc2hhcmVkIGxpYnJhcnkiLDg0OiJJbGxlZ2FsIGJ5dGUgc2VxdWVuY2UiLDg2OiJTdHJlYW1zIHBpcGUgZXJyb3IiLDg3OiJUb28gbWFueSB1c2VycyIsODg6IlNvY2tldCBvcGVyYXRpb24gb24gbm9uLXNvY2tldCIsODk6IkRlc3RpbmF0aW9uIGFkZHJlc3MgcmVxdWlyZWQiLDkwOiJNZXNzYWdlIHRvbyBsb25nIiw5MToiUHJvdG9jb2wgd3JvbmcgdHlwZSBmb3Igc29ja2V0Iiw5MjoiUHJvdG9jb2wgbm90IGF2YWlsYWJsZSIsOTM6IlVua25vd24gcHJvdG9jb2wiLDk0OiJTb2NrZXQgdHlwZSBub3Qgc3VwcG9ydGVkIiw5NToiTm90IHN1cHBvcnRlZCIsOTY6IlByb3RvY29sIGZhbWlseSBub3Qgc3VwcG9ydGVkIiw5NzoiQWRkcmVzcyBmYW1pbHkgbm90IHN1cHBvcnRlZCBieSBwcm90b2NvbCBmYW1pbHkiLDk4OiJBZGRyZXNzIGFscmVhZHkgaW4gdXNlIiw5OToiQWRkcmVzcyBub3QgYXZhaWxhYmxlIiwxMDA6Ik5ldHdvcmsgaW50ZXJmYWNlIGlzIG5vdCBjb25maWd1cmVkIiwxMDE6Ik5ldHdvcmsgaXMgdW5yZWFjaGFibGUiLDEwMjoiQ29ubmVjdGlvbiByZXNldCBieSBuZXR3b3JrIiwxMDM6IkNvbm5lY3Rpb24gYWJvcnRlZCIsMTA0OiJDb25uZWN0aW9uIHJlc2V0IGJ5IHBlZXIiLDEwNToiTm8gYnVmZmVyIHNwYWNlIGF2YWlsYWJsZSIsMTA2OiJTb2NrZXQgaXMgYWxyZWFkeSBjb25uZWN0ZWQiLDEwNzoiU29ja2V0IGlzIG5vdCBjb25uZWN0ZWQiLDEwODoiQ2FuJ3Qgc2VuZCBhZnRlciBzb2NrZXQgc2h1dGRvd24iLDEwOToiVG9vIG1hbnkgcmVmZXJlbmNlcyIsMTEwOiJDb25uZWN0aW9uIHRpbWVkIG91dCIsMTExOiJDb25uZWN0aW9uIHJlZnVzZWQiLDExMjoiSG9zdCBpcyBkb3duIiwxMTM6Ikhvc3QgaXMgdW5yZWFjaGFibGUiLDExNDoiU29ja2V0IGFscmVhZHkgY29ubmVjdGVkIiwxMTU6IkNvbm5lY3Rpb24gYWxyZWFkeSBpbiBwcm9ncmVzcyIsMTE2OiJTdGFsZSBmaWxlIGhhbmRsZSIsMTIyOiJRdW90YSBleGNlZWRlZCIsMTIzOiJObyBtZWRpdW0gKGluIHRhcGUgZHJpdmUpIiwxMjU6Ik9wZXJhdGlvbiBjYW5jZWxlZCIsMTMwOiJQcmV2aW91cyBvd25lciBkaWVkIiwxMzE6IlN0YXRlIG5vdCByZWNvdmVyYWJsZSJ9LEFlPXtzcGxpdFBhdGg6ZnVuY3Rpb24oZSl7cmV0dXJuL14oXC8/fCkoW1xzXFNdKj8pKCg/OlwuezEsMn18W15cL10rP3wpKFwuW14uXC9dKnwpKSg/OltcL10qKSQvLmV4ZWMoZSkuc2xpY2UoMSl9LG5vcm1hbGl6ZUFycmF5OmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPTAsbj1lLmxlbmd0aC0xO24+PTA7bi0tKXt2YXIgbz1lW25dOyIuIj09PW8/ZS5zcGxpY2UobiwxKToiLi4iPT09bz8oZS5zcGxpY2UobiwxKSxyKyspOnImJihlLnNwbGljZShuLDEpLHItLSl9aWYodClmb3IoO3I7ci0tKWUudW5zaGlmdCgiLi4iKTtyZXR1cm4gZX0sbm9ybWFsaXplOmZ1bmN0aW9uKGUpe3ZhciB0PSIvIj09PWUuY2hhckF0KDApLHI9Ii8iPT09ZS5zdWJzdHIoLTEpO3JldHVybihlPUFlLm5vcm1hbGl6ZUFycmF5KGUuc3BsaXQoIi8iKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiEhZX0pKSwhdCkuam9pbigiLyIpKXx8dHx8KGU9Ii4iKSxlJiZyJiYoZSs9Ii8iKSwodD8iLyI6IiIpK2V9LGRpcm5hbWU6ZnVuY3Rpb24oZSl7dmFyIHQ9QWUuc3BsaXRQYXRoKGUpLHI9dFswXSxuPXRbMV07cmV0dXJuIHJ8fG4/KG4mJihuPW4uc3Vic3RyKDAsbi5sZW5ndGgtMSkpLHIrbik6Ii4ifSxiYXNlbmFtZTpmdW5jdGlvbihlKXtpZigiLyI9PT1lKXJldHVybiIvIjt2YXIgdD1lLmxhc3RJbmRleE9mKCIvIik7cmV0dXJuLTE9PT10P2U6ZS5zdWJzdHIodCsxKX0sZXh0bmFtZTpmdW5jdGlvbihlKXtyZXR1cm4gQWUuc3BsaXRQYXRoKGUpWzNdfSxqb2luOmZ1bmN0aW9uKCl7dmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApO3JldHVybiBBZS5ub3JtYWxpemUoZS5qb2luKCIvIikpfSxqb2luMjpmdW5jdGlvbihlLHQpe3JldHVybiBBZS5ub3JtYWxpemUoZSsiLyIrdCl9LHJlc29sdmU6ZnVuY3Rpb24oKXtmb3IodmFyIGU9IiIsdD0hMSxyPWFyZ3VtZW50cy5sZW5ndGgtMTtyPj0tMSYmIXQ7ci0tKXt2YXIgbj1yPj0wP2FyZ3VtZW50c1tyXTpPZS5jd2QoKTtpZigic3RyaW5nIiE9dHlwZW9mIG4pdGhyb3cgbmV3IFR5cGVFcnJvcigiQXJndW1lbnRzIHRvIHBhdGgucmVzb2x2ZSBtdXN0IGJlIHN0cmluZ3MiKTtpZighbilyZXR1cm4iIjtlPW4rIi8iK2UsdD0iLyI9PT1uLmNoYXJBdCgwKX1yZXR1cm4odD8iLyI6IiIpKyhlPUFlLm5vcm1hbGl6ZUFycmF5KGUuc3BsaXQoIi8iKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiEhZX0pKSwhdCkuam9pbigiLyIpKXx8Ii4ifSxyZWxhdGl2ZTpmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIoZSl7Zm9yKHZhciB0PTA7dDxlLmxlbmd0aCYmIiI9PT1lW3RdO3QrKyk7Zm9yKHZhciByPWUubGVuZ3RoLTE7cj49MCYmIiI9PT1lW3JdO3ItLSk7cmV0dXJuIHQ+cj9bXTplLnNsaWNlKHQsci10KzEpfWU9QWUucmVzb2x2ZShlKS5zdWJzdHIoMSksdD1BZS5yZXNvbHZlKHQpLnN1YnN0cigxKTtmb3IodmFyIG49cihlLnNwbGl0KCIvIikpLG89cih0LnNwbGl0KCIvIikpLGk9TWF0aC5taW4obi5sZW5ndGgsby5sZW5ndGgpLGE9aSxzPTA7czxpO3MrKylpZihuW3NdIT09b1tzXSl7YT1zO2JyZWFrfXZhciB1PVtdO2ZvcihzPWE7czxuLmxlbmd0aDtzKyspdS5wdXNoKCIuLiIpO3JldHVybih1PXUuY29uY2F0KG8uc2xpY2UoYSkpKS5qb2luKCIvIil9fSxUZT17dHR5czpbXSxpbml0OmZ1bmN0aW9uKCl7fSxzaHV0ZG93bjpmdW5jdGlvbigpe30scmVnaXN0ZXI6ZnVuY3Rpb24oZSx0KXtUZS50dHlzW2VdPXtpbnB1dDpbXSxvdXRwdXQ6W10sb3BzOnR9LE9lLnJlZ2lzdGVyRGV2aWNlKGUsVGUuc3RyZWFtX29wcyl9LHN0cmVhbV9vcHM6e29wZW46ZnVuY3Rpb24oZSl7dmFyIHQ9VGUudHR5c1tlLm5vZGUucmRldl07aWYoIXQpdGhyb3cgbmV3IE9lLkVycm5vRXJyb3Iod2UuRU5PREVWKTtlLnR0eT10LGUuc2Vla2FibGU9ITF9LGNsb3NlOmZ1bmN0aW9uKGUpe2UudHR5Lm9wcy5mbHVzaChlLnR0eSl9LGZsdXNoOmZ1bmN0aW9uKGUpe2UudHR5Lm9wcy5mbHVzaChlLnR0eSl9LHJlYWQ6ZnVuY3Rpb24oZSx0LHIsbixvKXtpZighZS50dHl8fCFlLnR0eS5vcHMuZ2V0X2NoYXIpdGhyb3cgbmV3IE9lLkVycm5vRXJyb3Iod2UuRU5YSU8pO2Zvcih2YXIgaT0wLGE9MDthPG47YSsrKXt2YXIgczt0cnl7cz1lLnR0eS5vcHMuZ2V0X2NoYXIoZS50dHkpfWNhdGNoKGUpe3Rocm93IG5ldyBPZS5FcnJub0Vycm9yKHdlLkVJTyl9aWYodm9pZCAwPT09cyYmMD09PWkpdGhyb3cgbmV3IE9lLkVycm5vRXJyb3Iod2UuRUFHQUlOKTtpZihudWxsPT1zKWJyZWFrO2krKyx0W3IrYV09c31yZXR1cm4gaSYmKGUubm9kZS50aW1lc3RhbXA9RGF0ZS5ub3coKSksaX0sd3JpdGU6ZnVuY3Rpb24oZSx0LHIsbixvKXtpZighZS50dHl8fCFlLnR0eS5vcHMucHV0X2NoYXIpdGhyb3cgbmV3IE9lLkVycm5vRXJyb3Iod2UuRU5YSU8pO2Zvcih2YXIgaT0wO2k8bjtpKyspdHJ5e2UudHR5Lm9wcy5wdXRfY2hhcihlLnR0eSx0W3IraV0pfWNhdGNoKGUpe3Rocm93IG5ldyBPZS5FcnJub0Vycm9yKHdlLkVJTyl9cmV0dXJuIG4mJihlLm5vZGUudGltZXN0YW1wPURhdGUubm93KCkpLGl9fSxkZWZhdWx0X3R0eV9vcHM6e2dldF9jaGFyOmZ1bmN0aW9uKGUpe2lmKCFlLmlucHV0Lmxlbmd0aCl7dmFyIHQ9bnVsbDtpZihkKXt2YXIgcj1uZXcgQnVmZmVyKDI1Niksbj0wLG89IndpbjMyIiE9cHJvY2Vzcy5wbGF0Zm9ybSxpPXByb2Nlc3Muc3RkaW4uZmQ7aWYobyl7dmFyIGE9ITE7dHJ5e2k9ZnMub3BlblN5bmMoIi9kZXYvc3RkaW4iLCJyIiksYT0hMH1jYXRjaChlKXt9fXRyeXtuPWZzLnJlYWRTeW5jKGksciwwLDI1NixudWxsKX1jYXRjaChlKXtpZigtMT09ZS50b1N0cmluZygpLmluZGV4T2YoIkVPRiIpKXRocm93IGU7bj0wfWEmJmZzLmNsb3NlU3luYyhpKSx0PW4+MD9yLnNsaWNlKDAsbikudG9TdHJpbmcoInV0Zi04Iik6bnVsbH1lbHNlInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJiJmdW5jdGlvbiI9PXR5cGVvZiB3aW5kb3cucHJvbXB0P251bGwhPT0odD13aW5kb3cucHJvbXB0KCJJbnB1dDogIikpJiYodCs9IlxuIik6ImZ1bmN0aW9uIj09dHlwZW9mIHJlYWRsaW5lJiZudWxsIT09KHQ9cmVhZGxpbmUoKSkmJih0Kz0iXG4iKTtpZighdClyZXR1cm4gbnVsbDtlLmlucHV0PXF0KHQsITApfXJldHVybiBlLmlucHV0LnNoaWZ0KCl9LHB1dF9jaGFyOmZ1bmN0aW9uKGUsdCl7bnVsbD09PXR8fDEwPT09dD8oYS5wcmludChBKGUub3V0cHV0LDApKSxlLm91dHB1dD1bXSk6MCE9dCYmZS5vdXRwdXQucHVzaCh0KX0sZmx1c2g6ZnVuY3Rpb24oZSl7ZS5vdXRwdXQmJmUub3V0cHV0Lmxlbmd0aD4wJiYoYS5wcmludChBKGUub3V0cHV0LDApKSxlLm91dHB1dD1bXSl9fSxkZWZhdWx0X3R0eTFfb3BzOntwdXRfY2hhcjpmdW5jdGlvbihlLHQpe251bGw9PT10fHwxMD09PXQ/KGEucHJpbnRFcnIoQShlLm91dHB1dCwwKSksZS5vdXRwdXQ9W10pOjAhPXQmJmUub3V0cHV0LnB1c2godCl9LGZsdXNoOmZ1bmN0aW9uKGUpe2Uub3V0cHV0JiZlLm91dHB1dC5sZW5ndGg+MCYmKGEucHJpbnRFcnIoQShlLm91dHB1dCwwKSksZS5vdXRwdXQ9W10pfX19LFNlPXtvcHNfdGFibGU6bnVsbCxtb3VudDpmdW5jdGlvbihlKXtyZXR1cm4gU2UuY3JlYXRlTm9kZShudWxsLCIvIiwxNjg5NSwwKX0sY3JlYXRlTm9kZTpmdW5jdGlvbihlLHQscixuKXtpZihPZS5pc0Jsa2RldihyKXx8T2UuaXNGSUZPKHIpKXRocm93IG5ldyBPZS5FcnJub0Vycm9yKHdlLkVQRVJNKTtTZS5vcHNfdGFibGV8fChTZS5vcHNfdGFibGU9e2Rpcjp7bm9kZTp7Z2V0YXR0cjpTZS5ub2RlX29wcy5nZXRhdHRyLHNldGF0dHI6U2Uubm9kZV9vcHMuc2V0YXR0cixsb29rdXA6U2Uubm9kZV9vcHMubG9va3VwLG1rbm9kOlNlLm5vZGVfb3BzLm1rbm9kLHJlbmFtZTpTZS5ub2RlX29wcy5yZW5hbWUsdW5saW5rOlNlLm5vZGVfb3BzLnVubGluayxybWRpcjpTZS5ub2RlX29wcy5ybWRpcixyZWFkZGlyOlNlLm5vZGVfb3BzLnJlYWRkaXIsc3ltbGluazpTZS5ub2RlX29wcy5zeW1saW5rfSxzdHJlYW06e2xsc2VlazpTZS5zdHJlYW1fb3BzLmxsc2Vla319LGZpbGU6e25vZGU6e2dldGF0dHI6U2Uubm9kZV9vcHMuZ2V0YXR0cixzZXRhdHRyOlNlLm5vZGVfb3BzLnNldGF0dHJ9LHN0cmVhbTp7bGxzZWVrOlNlLnN0cmVhbV9vcHMubGxzZWVrLHJlYWQ6U2Uuc3RyZWFtX29wcy5yZWFkLHdyaXRlOlNlLnN0cmVhbV9vcHMud3JpdGUsYWxsb2NhdGU6U2Uuc3RyZWFtX29wcy5hbGxvY2F0ZSxtbWFwOlNlLnN0cmVhbV9vcHMubW1hcCxtc3luYzpTZS5zdHJlYW1fb3BzLm1zeW5jfX0sbGluazp7bm9kZTp7Z2V0YXR0cjpTZS5ub2RlX29wcy5nZXRhdHRyLHNldGF0dHI6U2Uubm9kZV9vcHMuc2V0YXR0cixyZWFkbGluazpTZS5ub2RlX29wcy5yZWFkbGlua30sc3RyZWFtOnt9fSxjaHJkZXY6e25vZGU6e2dldGF0dHI6U2Uubm9kZV9vcHMuZ2V0YXR0cixzZXRhdHRyOlNlLm5vZGVfb3BzLnNldGF0dHJ9LHN0cmVhbTpPZS5jaHJkZXZfc3RyZWFtX29wc319KTt2YXIgbz1PZS5jcmVhdGVOb2RlKGUsdCxyLG4pO3JldHVybiBPZS5pc0RpcihvLm1vZGUpPyhvLm5vZGVfb3BzPVNlLm9wc190YWJsZS5kaXIubm9kZSxvLnN0cmVhbV9vcHM9U2Uub3BzX3RhYmxlLmRpci5zdHJlYW0sby5jb250ZW50cz17fSk6T2UuaXNGaWxlKG8ubW9kZSk/KG8ubm9kZV9vcHM9U2Uub3BzX3RhYmxlLmZpbGUubm9kZSxvLnN0cmVhbV9vcHM9U2Uub3BzX3RhYmxlLmZpbGUuc3RyZWFtLG8udXNlZEJ5dGVzPTAsby5jb250ZW50cz1udWxsKTpPZS5pc0xpbmsoby5tb2RlKT8oby5ub2RlX29wcz1TZS5vcHNfdGFibGUubGluay5ub2RlLG8uc3RyZWFtX29wcz1TZS5vcHNfdGFibGUubGluay5zdHJlYW0pOk9lLmlzQ2hyZGV2KG8ubW9kZSkmJihvLm5vZGVfb3BzPVNlLm9wc190YWJsZS5jaHJkZXYubm9kZSxvLnN0cmVhbV9vcHM9U2Uub3BzX3RhYmxlLmNocmRldi5zdHJlYW0pLG8udGltZXN0YW1wPURhdGUubm93KCksZSYmKGUuY29udGVudHNbdF09byksb30sZ2V0RmlsZURhdGFBc1JlZ3VsYXJBcnJheTpmdW5jdGlvbihlKXtpZihlLmNvbnRlbnRzJiZlLmNvbnRlbnRzLnN1YmFycmF5KXtmb3IodmFyIHQ9W10scj0wO3I8ZS51c2VkQnl0ZXM7KytyKXQucHVzaChlLmNvbnRlbnRzW3JdKTtyZXR1cm4gdH1yZXR1cm4gZS5jb250ZW50c30sZ2V0RmlsZURhdGFBc1R5cGVkQXJyYXk6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29udGVudHM/ZS5jb250ZW50cy5zdWJhcnJheT9lLmNvbnRlbnRzLnN1YmFycmF5KDAsZS51c2VkQnl0ZXMpOm5ldyBVaW50OEFycmF5KGUuY29udGVudHMpOm5ldyBVaW50OEFycmF5fSxleHBhbmRGaWxlU3RvcmFnZTpmdW5jdGlvbihlLHQpe2lmKGUuY29udGVudHMmJmUuY29udGVudHMuc3ViYXJyYXkmJnQ+ZS5jb250ZW50cy5sZW5ndGgmJihlLmNvbnRlbnRzPVNlLmdldEZpbGVEYXRhQXNSZWd1bGFyQXJyYXkoZSksZS51c2VkQnl0ZXM9ZS5jb250ZW50cy5sZW5ndGgpLCFlLmNvbnRlbnRzfHxlLmNvbnRlbnRzLnN1YmFycmF5KXt2YXIgcj1lLmNvbnRlbnRzP2UuY29udGVudHMubGVuZ3RoOjA7aWYocj49dClyZXR1cm47dD1NYXRoLm1heCh0LHIqKHI8MTA0ODU3Nj8yOjEuMTI1KXwwKSwwIT1yJiYodD1NYXRoLm1heCh0LDI1NikpO3ZhciBuPWUuY29udGVudHM7cmV0dXJuIGUuY29udGVudHM9bmV3IFVpbnQ4QXJyYXkodCksdm9pZChlLnVzZWRCeXRlcz4wJiZlLmNvbnRlbnRzLnNldChuLnN1YmFycmF5KDAsZS51c2VkQnl0ZXMpLDApKX1mb3IoIWUuY29udGVudHMmJnQ+MCYmKGUuY29udGVudHM9W10pO2UuY29udGVudHMubGVuZ3RoPHQ7KWUuY29udGVudHMucHVzaCgwKX0scmVzaXplRmlsZVN0b3JhZ2U6ZnVuY3Rpb24oZSx0KXtpZihlLnVzZWRCeXRlcyE9dCl7aWYoMD09dClyZXR1cm4gZS5jb250ZW50cz1udWxsLHZvaWQoZS51c2VkQnl0ZXM9MCk7aWYoIWUuY29udGVudHN8fGUuY29udGVudHMuc3ViYXJyYXkpe3ZhciByPWUuY29udGVudHM7cmV0dXJuIGUuY29udGVudHM9bmV3IFVpbnQ4QXJyYXkobmV3IEFycmF5QnVmZmVyKHQpKSxyJiZlLmNvbnRlbnRzLnNldChyLnN1YmFycmF5KDAsTWF0aC5taW4odCxlLnVzZWRCeXRlcykpKSx2b2lkKGUudXNlZEJ5dGVzPXQpfWlmKGUuY29udGVudHN8fChlLmNvbnRlbnRzPVtdKSxlLmNvbnRlbnRzLmxlbmd0aD50KWUuY29udGVudHMubGVuZ3RoPXQ7ZWxzZSBmb3IoO2UuY29udGVudHMubGVuZ3RoPHQ7KWUuY29udGVudHMucHVzaCgwKTtlLnVzZWRCeXRlcz10fX0sbm9kZV9vcHM6e2dldGF0dHI6ZnVuY3Rpb24oZSl7dmFyIHQ9e307cmV0dXJuIHQuZGV2PU9lLmlzQ2hyZGV2KGUubW9kZSk/ZS5pZDoxLHQuaW5vPWUuaWQsdC5tb2RlPWUubW9kZSx0Lm5saW5rPTEsdC51aWQ9MCx0LmdpZD0wLHQucmRldj1lLnJkZXYsT2UuaXNEaXIoZS5tb2RlKT90LnNpemU9NDA5NjpPZS5pc0ZpbGUoZS5tb2RlKT90LnNpemU9ZS51c2VkQnl0ZXM6T2UuaXNMaW5rKGUubW9kZSk/dC5zaXplPWUubGluay5sZW5ndGg6dC5zaXplPTAsdC5hdGltZT1uZXcgRGF0ZShlLnRpbWVzdGFtcCksdC5tdGltZT1uZXcgRGF0ZShlLnRpbWVzdGFtcCksdC5jdGltZT1uZXcgRGF0ZShlLnRpbWVzdGFtcCksdC5ibGtzaXplPTQwOTYsdC5ibG9ja3M9TWF0aC5jZWlsKHQuc2l6ZS90LmJsa3NpemUpLHR9LHNldGF0dHI6ZnVuY3Rpb24oZSx0KXt2b2lkIDAhPT10Lm1vZGUmJihlLm1vZGU9dC5tb2RlKSx2b2lkIDAhPT10LnRpbWVzdGFtcCYmKGUudGltZXN0YW1wPXQudGltZXN0YW1wKSx2b2lkIDAhPT10LnNpemUmJlNlLnJlc2l6ZUZpbGVTdG9yYWdlKGUsdC5zaXplKX0sbG9va3VwOmZ1bmN0aW9uKGUsdCl7dGhyb3cgT2UuZ2VuZXJpY0Vycm9yc1t3ZS5FTk9FTlRdfSxta25vZDpmdW5jdGlvbihlLHQscixuKXtyZXR1cm4gU2UuY3JlYXRlTm9kZShlLHQscixuKX0scmVuYW1lOmZ1bmN0aW9uKGUsdCxyKXtpZihPZS5pc0RpcihlLm1vZGUpKXt2YXIgbjt0cnl7bj1PZS5sb29rdXBOb2RlKHQscil9Y2F0Y2goZSl7fWlmKG4pZm9yKHZhciBvIGluIG4uY29udGVudHMpdGhyb3cgbmV3IE9lLkVycm5vRXJyb3Iod2UuRU5PVEVNUFRZKX1kZWxldGUgZS5wYXJlbnQuY29udGVudHNbZS5uYW1lXSxlLm5hbWU9cix0LmNvbnRlbnRzW3JdPWUsZS5wYXJlbnQ9dH0sdW5saW5rOmZ1bmN0aW9uKGUsdCl7ZGVsZXRlIGUuY29udGVudHNbdF19LHJtZGlyOmZ1bmN0aW9uKGUsdCl7dmFyIHI9T2UubG9va3VwTm9kZShlLHQpO2Zvcih2YXIgbiBpbiByLmNvbnRlbnRzKXRocm93IG5ldyBPZS5FcnJub0Vycm9yKHdlLkVOT1RFTVBUWSk7ZGVsZXRlIGUuY29udGVudHNbdF19LHJlYWRkaXI6ZnVuY3Rpb24oZSl7dmFyIHQ9WyIuIiwiLi4iXTtmb3IodmFyIHIgaW4gZS5jb250ZW50cyllLmNvbnRlbnRzLmhhc093blByb3BlcnR5KHIpJiZ0LnB1c2gocik7cmV0dXJuIHR9LHN5bWxpbms6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPVNlLmNyZWF0ZU5vZGUoZSx0LDQxNDcxLDApO3JldHVybiBuLmxpbms9cixufSxyZWFkbGluazpmdW5jdGlvbihlKXtpZighT2UuaXNMaW5rKGUubW9kZSkpdGhyb3cgbmV3IE9lLkVycm5vRXJyb3Iod2UuRUlOVkFMKTtyZXR1cm4gZS5saW5rfX0sc3RyZWFtX29wczp7cmVhZDpmdW5jdGlvbihlLHQscixuLG8pe3ZhciBpPWUubm9kZS5jb250ZW50cztpZihvPj1lLm5vZGUudXNlZEJ5dGVzKXJldHVybiAwO3ZhciBhPU1hdGgubWluKGUubm9kZS51c2VkQnl0ZXMtbyxuKTtpZih2KGE+PTApLGE+OCYmaS5zdWJhcnJheSl0LnNldChpLnN1YmFycmF5KG8sbythKSxyKTtlbHNlIGZvcih2YXIgcz0wO3M8YTtzKyspdFtyK3NdPWlbbytzXTtyZXR1cm4gYX0sd3JpdGU6ZnVuY3Rpb24oZSx0LHIsbixvLGkpe2lmKCFuKXJldHVybiAwO3ZhciBhPWUubm9kZTtpZihhLnRpbWVzdGFtcD1EYXRlLm5vdygpLHQuc3ViYXJyYXkmJighYS5jb250ZW50c3x8YS5jb250ZW50cy5zdWJhcnJheSkpe2lmKGkpcmV0dXJuIGEuY29udGVudHM9dC5zdWJhcnJheShyLHIrbiksYS51c2VkQnl0ZXM9bixuO2lmKDA9PT1hLnVzZWRCeXRlcyYmMD09PW8pcmV0dXJuIGEuY29udGVudHM9bmV3IFVpbnQ4QXJyYXkodC5zdWJhcnJheShyLHIrbikpLGEudXNlZEJ5dGVzPW4sbjtpZihvK248PWEudXNlZEJ5dGVzKXJldHVybiBhLmNvbnRlbnRzLnNldCh0LnN1YmFycmF5KHIscituKSxvKSxufWlmKFNlLmV4cGFuZEZpbGVTdG9yYWdlKGEsbytuKSxhLmNvbnRlbnRzLnN1YmFycmF5JiZ0LnN1YmFycmF5KWEuY29udGVudHMuc2V0KHQuc3ViYXJyYXkocixyK24pLG8pO2Vsc2UgZm9yKHZhciBzPTA7czxuO3MrKylhLmNvbnRlbnRzW28rc109dFtyK3NdO3JldHVybiBhLnVzZWRCeXRlcz1NYXRoLm1heChhLnVzZWRCeXRlcyxvK24pLG59LGxsc2VlazpmdW5jdGlvbihlLHQscil7dmFyIG49dDtpZigxPT09cj9uKz1lLnBvc2l0aW9uOjI9PT1yJiZPZS5pc0ZpbGUoZS5ub2RlLm1vZGUpJiYobis9ZS5ub2RlLnVzZWRCeXRlcyksbjwwKXRocm93IG5ldyBPZS5FcnJub0Vycm9yKHdlLkVJTlZBTCk7cmV0dXJuIG59LGFsbG9jYXRlOmZ1bmN0aW9uKGUsdCxyKXtTZS5leHBhbmRGaWxlU3RvcmFnZShlLm5vZGUsdCtyKSxlLm5vZGUudXNlZEJ5dGVzPU1hdGgubWF4KGUubm9kZS51c2VkQnl0ZXMsdCtyKX0sbW1hcDpmdW5jdGlvbihlLHQscixuLG8saSxhKXtpZighT2UuaXNGaWxlKGUubm9kZS5tb2RlKSl0aHJvdyBuZXcgT2UuRXJybm9FcnJvcih3ZS5FTk9ERVYpO3ZhciBzLHUsYz1lLm5vZGUuY29udGVudHM7aWYoMiZhfHxjLmJ1ZmZlciE9PXQmJmMuYnVmZmVyIT09dC5idWZmZXIpe2lmKChvPjB8fG8rbjxlLm5vZGUudXNlZEJ5dGVzKSYmKGM9Yy5zdWJhcnJheT9jLnN1YmFycmF5KG8sbytuKTpBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChjLG8sbytuKSksdT0hMCwhKHM9bnIobikpKXRocm93IG5ldyBPZS5FcnJub0Vycm9yKHdlLkVOT01FTSk7dC5zZXQoYyxzKX1lbHNlIHU9ITEscz1jLmJ5dGVPZmZzZXQ7cmV0dXJue3B0cjpzLGFsbG9jYXRlZDp1fX0sbXN5bmM6ZnVuY3Rpb24oZSx0LHIsbixvKXtpZighT2UuaXNGaWxlKGUubm9kZS5tb2RlKSl0aHJvdyBuZXcgT2UuRXJybm9FcnJvcih3ZS5FTk9ERVYpO3JldHVybiAyJm98fFNlLnN0cmVhbV9vcHMud3JpdGUoZSx0LDAsbixyLCExKSwwfX19LGtlPXtkYnM6e30saW5kZXhlZERCOmZ1bmN0aW9uKCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBpbmRleGVkREIpcmV0dXJuIGluZGV4ZWREQjt2YXIgZT1udWxsO3JldHVybiJvYmplY3QiPT10eXBlb2Ygd2luZG93JiYoZT13aW5kb3cuaW5kZXhlZERCfHx3aW5kb3cubW96SW5kZXhlZERCfHx3aW5kb3cud2Via2l0SW5kZXhlZERCfHx3aW5kb3cubXNJbmRleGVkREIpLHYoZSwiSURCRlMgdXNlZCwgYnV0IGluZGV4ZWREQiBub3Qgc3VwcG9ydGVkIiksZX0sREJfVkVSU0lPTjoyMSxEQl9TVE9SRV9OQU1FOiJGSUxFX0RBVEEiLG1vdW50OmZ1bmN0aW9uKGUpe3JldHVybiBTZS5tb3VudC5hcHBseShudWxsLGFyZ3VtZW50cyl9LHN5bmNmczpmdW5jdGlvbihlLHQscil7a2UuZ2V0TG9jYWxTZXQoZSwoZnVuY3Rpb24obixvKXtpZihuKXJldHVybiByKG4pO2tlLmdldFJlbW90ZVNldChlLChmdW5jdGlvbihlLG4pe2lmKGUpcmV0dXJuIHIoZSk7dmFyIGk9dD9uOm8sYT10P286bjtrZS5yZWNvbmNpbGUoaSxhLHIpfSkpfSkpfSxnZXREQjpmdW5jdGlvbihlLHQpe3ZhciByLG49a2UuZGJzW2VdO2lmKG4pcmV0dXJuIHQobnVsbCxuKTt0cnl7cj1rZS5pbmRleGVkREIoKS5vcGVuKGUsa2UuREJfVkVSU0lPTil9Y2F0Y2goZSl7cmV0dXJuIHQoZSl9aWYoIXIpcmV0dXJuIHQoIlVuYWJsZSB0byBjb25uZWN0IHRvIEluZGV4ZWREQiIpO3Iub251cGdyYWRlbmVlZGVkPWZ1bmN0aW9uKGUpe3ZhciB0LHI9ZS50YXJnZXQucmVzdWx0LG49ZS50YXJnZXQudHJhbnNhY3Rpb247KHQ9ci5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKGtlLkRCX1NUT1JFX05BTUUpP24ub2JqZWN0U3RvcmUoa2UuREJfU1RPUkVfTkFNRSk6ci5jcmVhdGVPYmplY3RTdG9yZShrZS5EQl9TVE9SRV9OQU1FKSkuaW5kZXhOYW1lcy5jb250YWlucygidGltZXN0YW1wIil8fHQuY3JlYXRlSW5kZXgoInRpbWVzdGFtcCIsInRpbWVzdGFtcCIse3VuaXF1ZTohMX0pfSxyLm9uc3VjY2Vzcz1mdW5jdGlvbigpe249ci5yZXN1bHQsa2UuZGJzW2VdPW4sdChudWxsLG4pfSxyLm9uZXJyb3I9ZnVuY3Rpb24oZSl7dCh0aGlzLmVycm9yKSxlLnByZXZlbnREZWZhdWx0KCl9fSxnZXRMb2NhbFNldDpmdW5jdGlvbihlLHQpe3ZhciByPXt9O2Z1bmN0aW9uIG4oZSl7cmV0dXJuIi4iIT09ZSYmIi4uIiE9PWV9ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIEFlLmpvaW4yKGUsdCl9fWZvcih2YXIgaT1PZS5yZWFkZGlyKGUubW91bnRwb2ludCkuZmlsdGVyKG4pLm1hcChvKGUubW91bnRwb2ludCkpO2kubGVuZ3RoOyl7dmFyIGEscz1pLnBvcCgpO3RyeXthPU9lLnN0YXQocyl9Y2F0Y2goZSl7cmV0dXJuIHQoZSl9T2UuaXNEaXIoYS5tb2RlKSYmaS5wdXNoLmFwcGx5KGksT2UucmVhZGRpcihzKS5maWx0ZXIobikubWFwKG8ocykpKSxyW3NdPXt0aW1lc3RhbXA6YS5tdGltZX19cmV0dXJuIHQobnVsbCx7dHlwZToibG9jYWwiLGVudHJpZXM6cn0pfSxnZXRSZW1vdGVTZXQ6ZnVuY3Rpb24oZSx0KXt2YXIgcj17fTtrZS5nZXREQihlLm1vdW50cG9pbnQsKGZ1bmN0aW9uKGUsbil7aWYoZSlyZXR1cm4gdChlKTt0cnl7dmFyIG89bi50cmFuc2FjdGlvbihba2UuREJfU1RPUkVfTkFNRV0sInJlYWRvbmx5Iik7by5vbmVycm9yPWZ1bmN0aW9uKGUpe3QodGhpcy5lcnJvciksZS5wcmV2ZW50RGVmYXVsdCgpfSxvLm9iamVjdFN0b3JlKGtlLkRCX1NUT1JFX05BTUUpLmluZGV4KCJ0aW1lc3RhbXAiKS5vcGVuS2V5Q3Vyc29yKCkub25zdWNjZXNzPWZ1bmN0aW9uKGUpe3ZhciBvPWUudGFyZ2V0LnJlc3VsdDtpZighbylyZXR1cm4gdChudWxsLHt0eXBlOiJyZW1vdGUiLGRiOm4sZW50cmllczpyfSk7cltvLnByaW1hcnlLZXldPXt0aW1lc3RhbXA6by5rZXl9LG8uY29udGludWUoKX19Y2F0Y2goZSl7cmV0dXJuIHQoZSl9fSkpfSxsb2FkTG9jYWxFbnRyeTpmdW5jdGlvbihlLHQpe3ZhciByLG47dHJ5e249T2UubG9va3VwUGF0aChlKS5ub2RlLHI9T2Uuc3RhdChlKX1jYXRjaChlKXtyZXR1cm4gdChlKX1yZXR1cm4gT2UuaXNEaXIoci5tb2RlKT90KG51bGwse3RpbWVzdGFtcDpyLm10aW1lLG1vZGU6ci5tb2RlfSk6T2UuaXNGaWxlKHIubW9kZSk/KG4uY29udGVudHM9U2UuZ2V0RmlsZURhdGFBc1R5cGVkQXJyYXkobiksdChudWxsLHt0aW1lc3RhbXA6ci5tdGltZSxtb2RlOnIubW9kZSxjb250ZW50czpuLmNvbnRlbnRzfSkpOnQobmV3IEVycm9yKCJub2RlIHR5cGUgbm90IHN1cHBvcnRlZCIpKX0sc3RvcmVMb2NhbEVudHJ5OmZ1bmN0aW9uKGUsdCxyKXt0cnl7aWYoT2UuaXNEaXIodC5tb2RlKSlPZS5ta2RpcihlLHQubW9kZSk7ZWxzZXtpZighT2UuaXNGaWxlKHQubW9kZSkpcmV0dXJuIHIobmV3IEVycm9yKCJub2RlIHR5cGUgbm90IHN1cHBvcnRlZCIpKTtPZS53cml0ZUZpbGUoZSx0LmNvbnRlbnRzLHtjYW5Pd246ITB9KX1PZS5jaG1vZChlLHQubW9kZSksT2UudXRpbWUoZSx0LnRpbWVzdGFtcCx0LnRpbWVzdGFtcCl9Y2F0Y2goZSl7cmV0dXJuIHIoZSl9cihudWxsKX0scmVtb3ZlTG9jYWxFbnRyeTpmdW5jdGlvbihlLHQpe3RyeXtPZS5sb29rdXBQYXRoKGUpO3ZhciByPU9lLnN0YXQoZSk7T2UuaXNEaXIoci5tb2RlKT9PZS5ybWRpcihlKTpPZS5pc0ZpbGUoci5tb2RlKSYmT2UudW5saW5rKGUpfWNhdGNoKGUpe3JldHVybiB0KGUpfXQobnVsbCl9LGxvYWRSZW1vdGVFbnRyeTpmdW5jdGlvbihlLHQscil7dmFyIG49ZS5nZXQodCk7bi5vbnN1Y2Nlc3M9ZnVuY3Rpb24oZSl7cihudWxsLGUudGFyZ2V0LnJlc3VsdCl9LG4ub25lcnJvcj1mdW5jdGlvbihlKXtyKHRoaXMuZXJyb3IpLGUucHJldmVudERlZmF1bHQoKX19LHN0b3JlUmVtb3RlRW50cnk6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIG89ZS5wdXQocix0KTtvLm9uc3VjY2Vzcz1mdW5jdGlvbigpe24obnVsbCl9LG8ub25lcnJvcj1mdW5jdGlvbihlKXtuKHRoaXMuZXJyb3IpLGUucHJldmVudERlZmF1bHQoKX19LHJlbW92ZVJlbW90ZUVudHJ5OmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1lLmRlbGV0ZSh0KTtuLm9uc3VjY2Vzcz1mdW5jdGlvbigpe3IobnVsbCl9LG4ub25lcnJvcj1mdW5jdGlvbihlKXtyKHRoaXMuZXJyb3IpLGUucHJldmVudERlZmF1bHQoKX19LHJlY29uY2lsZTpmdW5jdGlvbihlLHQscil7dmFyIG49MCxvPVtdO09iamVjdC5rZXlzKGUuZW50cmllcykuZm9yRWFjaCgoZnVuY3Rpb24ocil7dmFyIGk9ZS5lbnRyaWVzW3JdLGE9dC5lbnRyaWVzW3JdOyghYXx8aS50aW1lc3RhbXA+YS50aW1lc3RhbXApJiYoby5wdXNoKHIpLG4rKyl9KSk7dmFyIGk9W107aWYoT2JqZWN0LmtleXModC5lbnRyaWVzKS5mb3JFYWNoKChmdW5jdGlvbihyKXt0LmVudHJpZXNbcl0sZS5lbnRyaWVzW3JdfHwoaS5wdXNoKHIpLG4rKyl9KSksIW4pcmV0dXJuIHIobnVsbCk7dmFyIGE9MCxzPSgicmVtb3RlIj09PWUudHlwZT9lLmRiOnQuZGIpLnRyYW5zYWN0aW9uKFtrZS5EQl9TVE9SRV9OQU1FXSwicmVhZHdyaXRlIiksdT1zLm9iamVjdFN0b3JlKGtlLkRCX1NUT1JFX05BTUUpO2Z1bmN0aW9uIGMoZSl7cmV0dXJuIGU/Yy5lcnJvcmVkP3ZvaWQgMDooYy5lcnJvcmVkPSEwLHIoZSkpOisrYT49bj9yKG51bGwpOnZvaWQgMH1zLm9uZXJyb3I9ZnVuY3Rpb24oZSl7Yyh0aGlzLmVycm9yKSxlLnByZXZlbnREZWZhdWx0KCl9LG8uc29ydCgpLmZvckVhY2goKGZ1bmN0aW9uKGUpeyJsb2NhbCI9PT10LnR5cGU/a2UubG9hZFJlbW90ZUVudHJ5KHUsZSwoZnVuY3Rpb24odCxyKXtpZih0KXJldHVybiBjKHQpO2tlLnN0b3JlTG9jYWxFbnRyeShlLHIsYyl9KSk6a2UubG9hZExvY2FsRW50cnkoZSwoZnVuY3Rpb24odCxyKXtpZih0KXJldHVybiBjKHQpO2tlLnN0b3JlUmVtb3RlRW50cnkodSxlLHIsYyl9KSl9KSksaS5zb3J0KCkucmV2ZXJzZSgpLmZvckVhY2goKGZ1bmN0aW9uKGUpeyJsb2NhbCI9PT10LnR5cGU/a2UucmVtb3ZlTG9jYWxFbnRyeShlLGMpOmtlLnJlbW92ZVJlbW90ZUVudHJ5KHUsZSxjKX0pKX19LFBlPXtpc1dpbmRvd3M6ITEsc3RhdGljSW5pdDpmdW5jdGlvbigpe1BlLmlzV2luZG93cz0hIXByb2Nlc3MucGxhdGZvcm0ubWF0Y2goL153aW4vKTt2YXIgZT1wcm9jZXNzLmJpbmRpbmcoImNvbnN0YW50cyIpO2UuZnMmJihlPWUuZnMpLFBlLmZsYWdzRm9yTm9kZU1hcD17MTAyNDplLk9fQVBQRU5ELDY0OmUuT19DUkVBVCwxMjg6ZS5PX0VYQ0wsMDplLk9fUkRPTkxZLDI6ZS5PX1JEV1IsNDA5NjplLk9fU1lOQyw1MTI6ZS5PX1RSVU5DLDE6ZS5PX1dST05MWX19LGJ1ZmZlckZyb206ZnVuY3Rpb24oZSl7cmV0dXJuIEJ1ZmZlci5hbGxvYz9CdWZmZXIuZnJvbShlKTpuZXcgQnVmZmVyKGUpfSxtb3VudDpmdW5jdGlvbihlKXtyZXR1cm4gdihkKSxQZS5jcmVhdGVOb2RlKG51bGwsIi8iLFBlLmdldE1vZGUoZS5vcHRzLnJvb3QpLDApfSxjcmVhdGVOb2RlOmZ1bmN0aW9uKGUsdCxyLG4pe2lmKCFPZS5pc0RpcihyKSYmIU9lLmlzRmlsZShyKSYmIU9lLmlzTGluayhyKSl0aHJvdyBuZXcgT2UuRXJybm9FcnJvcih3ZS5FSU5WQUwpO3ZhciBvPU9lLmNyZWF0ZU5vZGUoZSx0LHIpO3JldHVybiBvLm5vZGVfb3BzPVBlLm5vZGVfb3BzLG8uc3RyZWFtX29wcz1QZS5zdHJlYW1fb3BzLG99LGdldE1vZGU6ZnVuY3Rpb24oZSl7dmFyIHQ7dHJ5e3Q9ZnMubHN0YXRTeW5jKGUpLFBlLmlzV2luZG93cyYmKHQubW9kZT10Lm1vZGV8KDI5MiZ0Lm1vZGUpPj4yKX1jYXRjaChlKXtpZighZS5jb2RlKXRocm93IGU7dGhyb3cgbmV3IE9lLkVycm5vRXJyb3Iod2VbZS5jb2RlXSl9cmV0dXJuIHQubW9kZX0scmVhbFBhdGg6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdO2UucGFyZW50IT09ZTspdC5wdXNoKGUubmFtZSksZT1lLnBhcmVudDtyZXR1cm4gdC5wdXNoKGUubW91bnQub3B0cy5yb290KSx0LnJldmVyc2UoKSxBZS5qb2luLmFwcGx5KG51bGwsdCl9LGZsYWdzRm9yTm9kZTpmdW5jdGlvbihlKXtlJj0tMjA5NzE1MyxlJj0tMjA0OSxlJj0tMzI3NjksZSY9LTUyNDI4OTt2YXIgdD0wO2Zvcih2YXIgciBpbiBQZS5mbGFnc0Zvck5vZGVNYXApZSZyJiYodHw9UGUuZmxhZ3NGb3JOb2RlTWFwW3JdLGVePXIpO2lmKGUpdGhyb3cgbmV3IE9lLkVycm5vRXJyb3Iod2UuRUlOVkFMKTtyZXR1cm4gdH0sbm9kZV9vcHM6e2dldGF0dHI6ZnVuY3Rpb24oZSl7dmFyIHQscj1QZS5yZWFsUGF0aChlKTt0cnl7dD1mcy5sc3RhdFN5bmMocil9Y2F0Y2goZSl7aWYoIWUuY29kZSl0aHJvdyBlO3Rocm93IG5ldyBPZS5FcnJub0Vycm9yKHdlW2UuY29kZV0pfXJldHVybiBQZS5pc1dpbmRvd3MmJiF0LmJsa3NpemUmJih0LmJsa3NpemU9NDA5NiksUGUuaXNXaW5kb3dzJiYhdC5ibG9ja3MmJih0LmJsb2Nrcz0odC5zaXplK3QuYmxrc2l6ZS0xKS90LmJsa3NpemV8MCkse2Rldjp0LmRldixpbm86dC5pbm8sbW9kZTp0Lm1vZGUsbmxpbms6dC5ubGluayx1aWQ6dC51aWQsZ2lkOnQuZ2lkLHJkZXY6dC5yZGV2LHNpemU6dC5zaXplLGF0aW1lOnQuYXRpbWUsbXRpbWU6dC5tdGltZSxjdGltZTp0LmN0aW1lLGJsa3NpemU6dC5ibGtzaXplLGJsb2Nrczp0LmJsb2Nrc319LHNldGF0dHI6ZnVuY3Rpb24oZSx0KXt2YXIgcj1QZS5yZWFsUGF0aChlKTt0cnl7aWYodm9pZCAwIT09dC5tb2RlJiYoZnMuY2htb2RTeW5jKHIsdC5tb2RlKSxlLm1vZGU9dC5tb2RlKSx2b2lkIDAhPT10LnRpbWVzdGFtcCl7dmFyIG49bmV3IERhdGUodC50aW1lc3RhbXApO2ZzLnV0aW1lc1N5bmMocixuLG4pfXZvaWQgMCE9PXQuc2l6ZSYmZnMudHJ1bmNhdGVTeW5jKHIsdC5zaXplKX1jYXRjaChlKXtpZighZS5jb2RlKXRocm93IGU7dGhyb3cgbmV3IE9lLkVycm5vRXJyb3Iod2VbZS5jb2RlXSl9fSxsb29rdXA6ZnVuY3Rpb24oZSx0KXt2YXIgcj1BZS5qb2luMihQZS5yZWFsUGF0aChlKSx0KSxuPVBlLmdldE1vZGUocik7cmV0dXJuIFBlLmNyZWF0ZU5vZGUoZSx0LG4pfSxta25vZDpmdW5jdGlvbihlLHQscixuKXt2YXIgbz1QZS5jcmVhdGVOb2RlKGUsdCxyLG4pLGk9UGUucmVhbFBhdGgobyk7dHJ5e09lLmlzRGlyKG8ubW9kZSk/ZnMubWtkaXJTeW5jKGksby5tb2RlKTpmcy53cml0ZUZpbGVTeW5jKGksIiIse21vZGU6by5tb2RlfSl9Y2F0Y2goZSl7aWYoIWUuY29kZSl0aHJvdyBlO3Rocm93IG5ldyBPZS5FcnJub0Vycm9yKHdlW2UuY29kZV0pfXJldHVybiBvfSxyZW5hbWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPVBlLnJlYWxQYXRoKGUpLG89QWUuam9pbjIoUGUucmVhbFBhdGgodCkscik7dHJ5e2ZzLnJlbmFtZVN5bmMobixvKX1jYXRjaChlKXtpZighZS5jb2RlKXRocm93IGU7dGhyb3cgbmV3IE9lLkVycm5vRXJyb3Iod2VbZS5jb2RlXSl9fSx1bmxpbms6ZnVuY3Rpb24oZSx0KXt2YXIgcj1BZS5qb2luMihQZS5yZWFsUGF0aChlKSx0KTt0cnl7ZnMudW5saW5rU3luYyhyKX1jYXRjaChlKXtpZighZS5jb2RlKXRocm93IGU7dGhyb3cgbmV3IE9lLkVycm5vRXJyb3Iod2VbZS5jb2RlXSl9fSxybWRpcjpmdW5jdGlvbihlLHQpe3ZhciByPUFlLmpvaW4yKFBlLnJlYWxQYXRoKGUpLHQpO3RyeXtmcy5ybWRpclN5bmMocil9Y2F0Y2goZSl7aWYoIWUuY29kZSl0aHJvdyBlO3Rocm93IG5ldyBPZS5FcnJub0Vycm9yKHdlW2UuY29kZV0pfX0scmVhZGRpcjpmdW5jdGlvbihlKXt2YXIgdD1QZS5yZWFsUGF0aChlKTt0cnl7cmV0dXJuIGZzLnJlYWRkaXJTeW5jKHQpfWNhdGNoKGUpe2lmKCFlLmNvZGUpdGhyb3cgZTt0aHJvdyBuZXcgT2UuRXJybm9FcnJvcih3ZVtlLmNvZGVdKX19LHN5bWxpbms6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPUFlLmpvaW4yKFBlLnJlYWxQYXRoKGUpLHQpO3RyeXtmcy5zeW1saW5rU3luYyhyLG4pfWNhdGNoKGUpe2lmKCFlLmNvZGUpdGhyb3cgZTt0aHJvdyBuZXcgT2UuRXJybm9FcnJvcih3ZVtlLmNvZGVdKX19LHJlYWRsaW5rOmZ1bmN0aW9uKGUpe3ZhciB0PVBlLnJlYWxQYXRoKGUpO3RyeXtyZXR1cm4gdD1mcy5yZWFkbGlua1N5bmModCksdD1OT0RFSlNfUEFUSC5yZWxhdGl2ZShOT0RFSlNfUEFUSC5yZXNvbHZlKGUubW91bnQub3B0cy5yb290KSx0KX1jYXRjaChlKXtpZighZS5jb2RlKXRocm93IGU7dGhyb3cgbmV3IE9lLkVycm5vRXJyb3Iod2VbZS5jb2RlXSl9fX0sc3RyZWFtX29wczp7b3BlbjpmdW5jdGlvbihlKXt2YXIgdD1QZS5yZWFsUGF0aChlLm5vZGUpO3RyeXtPZS5pc0ZpbGUoZS5ub2RlLm1vZGUpJiYoZS5uZmQ9ZnMub3BlblN5bmModCxQZS5mbGFnc0Zvck5vZGUoZS5mbGFncykpKX1jYXRjaChlKXtpZighZS5jb2RlKXRocm93IGU7dGhyb3cgbmV3IE9lLkVycm5vRXJyb3Iod2VbZS5jb2RlXSl9fSxjbG9zZTpmdW5jdGlvbihlKXt0cnl7T2UuaXNGaWxlKGUubm9kZS5tb2RlKSYmZS5uZmQmJmZzLmNsb3NlU3luYyhlLm5mZCl9Y2F0Y2goZSl7aWYoIWUuY29kZSl0aHJvdyBlO3Rocm93IG5ldyBPZS5FcnJub0Vycm9yKHdlW2UuY29kZV0pfX0scmVhZDpmdW5jdGlvbihlLHQscixuLG8pe2lmKDA9PT1uKXJldHVybiAwO3RyeXtyZXR1cm4gZnMucmVhZFN5bmMoZS5uZmQsUGUuYnVmZmVyRnJvbSh0LmJ1ZmZlcikscixuLG8pfWNhdGNoKGUpe3Rocm93IG5ldyBPZS5FcnJub0Vycm9yKHdlW2UuY29kZV0pfX0sd3JpdGU6ZnVuY3Rpb24oZSx0LHIsbixvKXt0cnl7cmV0dXJuIGZzLndyaXRlU3luYyhlLm5mZCxQZS5idWZmZXJGcm9tKHQuYnVmZmVyKSxyLG4sbyl9Y2F0Y2goZSl7dGhyb3cgbmV3IE9lLkVycm5vRXJyb3Iod2VbZS5jb2RlXSl9fSxsbHNlZWs6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQ7aWYoMT09PXIpbis9ZS5wb3NpdGlvbjtlbHNlIGlmKDI9PT1yJiZPZS5pc0ZpbGUoZS5ub2RlLm1vZGUpKXRyeXtuKz1mcy5mc3RhdFN5bmMoZS5uZmQpLnNpemV9Y2F0Y2goZSl7dGhyb3cgbmV3IE9lLkVycm5vRXJyb3Iod2VbZS5jb2RlXSl9aWYobjwwKXRocm93IG5ldyBPZS5FcnJub0Vycm9yKHdlLkVJTlZBTCk7cmV0dXJuIG59fX0sRGU9e0RJUl9NT0RFOjE2ODk1LEZJTEVfTU9ERTozMzI3OSxyZWFkZXI6bnVsbCxtb3VudDpmdW5jdGlvbihlKXt2KGYpLERlLnJlYWRlcnx8KERlLnJlYWRlcj1uZXcgRmlsZVJlYWRlclN5bmMpO3ZhciB0PURlLmNyZWF0ZU5vZGUobnVsbCwiLyIsRGUuRElSX01PREUsMCkscj17fTtmdW5jdGlvbiBuKGUpe2Zvcih2YXIgbj1lLnNwbGl0KCIvIiksbz10LGk9MDtpPG4ubGVuZ3RoLTE7aSsrKXt2YXIgYT1uLnNsaWNlKDAsaSsxKS5qb2luKCIvIik7clthXXx8KHJbYV09RGUuY3JlYXRlTm9kZShvLG5baV0sRGUuRElSX01PREUsMCkpLG89clthXX1yZXR1cm4gb31mdW5jdGlvbiBvKGUpe3ZhciB0PWUuc3BsaXQoIi8iKTtyZXR1cm4gdFt0Lmxlbmd0aC0xXX1yZXR1cm4gQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChlLm9wdHMuZmlsZXN8fFtdLChmdW5jdGlvbihlKXtEZS5jcmVhdGVOb2RlKG4oZS5uYW1lKSxvKGUubmFtZSksRGUuRklMRV9NT0RFLDAsZSxlLmxhc3RNb2RpZmllZERhdGUpfSkpLChlLm9wdHMuYmxvYnN8fFtdKS5mb3JFYWNoKChmdW5jdGlvbihlKXtEZS5jcmVhdGVOb2RlKG4oZS5uYW1lKSxvKGUubmFtZSksRGUuRklMRV9NT0RFLDAsZS5kYXRhKX0pKSwoZS5vcHRzLnBhY2thZ2VzfHxbXSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5tZXRhZGF0YS5maWxlcy5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgcj10LmZpbGVuYW1lLnN1YnN0cigxKTtEZS5jcmVhdGVOb2RlKG4ociksbyhyKSxEZS5GSUxFX01PREUsMCxlLmJsb2Iuc2xpY2UodC5zdGFydCx0LmVuZCkpfSkpfSkpLHR9LGNyZWF0ZU5vZGU6ZnVuY3Rpb24oZSx0LHIsbixvLGkpe3ZhciBhPU9lLmNyZWF0ZU5vZGUoZSx0LHIpO3JldHVybiBhLm1vZGU9cixhLm5vZGVfb3BzPURlLm5vZGVfb3BzLGEuc3RyZWFtX29wcz1EZS5zdHJlYW1fb3BzLGEudGltZXN0YW1wPShpfHxuZXcgRGF0ZSkuZ2V0VGltZSgpLHYoRGUuRklMRV9NT0RFIT09RGUuRElSX01PREUpLHI9PT1EZS5GSUxFX01PREU/KGEuc2l6ZT1vLnNpemUsYS5jb250ZW50cz1vKTooYS5zaXplPTQwOTYsYS5jb250ZW50cz17fSksZSYmKGUuY29udGVudHNbdF09YSksYX0sbm9kZV9vcHM6e2dldGF0dHI6ZnVuY3Rpb24oZSl7cmV0dXJue2RldjoxLGlubzp2b2lkIDAsbW9kZTplLm1vZGUsbmxpbms6MSx1aWQ6MCxnaWQ6MCxyZGV2OnZvaWQgMCxzaXplOmUuc2l6ZSxhdGltZTpuZXcgRGF0ZShlLnRpbWVzdGFtcCksbXRpbWU6bmV3IERhdGUoZS50aW1lc3RhbXApLGN0aW1lOm5ldyBEYXRlKGUudGltZXN0YW1wKSxibGtzaXplOjQwOTYsYmxvY2tzOk1hdGguY2VpbChlLnNpemUvNDA5Nil9fSxzZXRhdHRyOmZ1bmN0aW9uKGUsdCl7dm9pZCAwIT09dC5tb2RlJiYoZS5tb2RlPXQubW9kZSksdm9pZCAwIT09dC50aW1lc3RhbXAmJihlLnRpbWVzdGFtcD10LnRpbWVzdGFtcCl9LGxvb2t1cDpmdW5jdGlvbihlLHQpe3Rocm93IG5ldyBPZS5FcnJub0Vycm9yKHdlLkVOT0VOVCl9LG1rbm9kOmZ1bmN0aW9uKGUsdCxyLG4pe3Rocm93IG5ldyBPZS5FcnJub0Vycm9yKHdlLkVQRVJNKX0scmVuYW1lOmZ1bmN0aW9uKGUsdCxyKXt0aHJvdyBuZXcgT2UuRXJybm9FcnJvcih3ZS5FUEVSTSl9LHVubGluazpmdW5jdGlvbihlLHQpe3Rocm93IG5ldyBPZS5FcnJub0Vycm9yKHdlLkVQRVJNKX0scm1kaXI6ZnVuY3Rpb24oZSx0KXt0aHJvdyBuZXcgT2UuRXJybm9FcnJvcih3ZS5FUEVSTSl9LHJlYWRkaXI6ZnVuY3Rpb24oZSl7dmFyIHQ9WyIuIiwiLi4iXTtmb3IodmFyIHIgaW4gZS5jb250ZW50cyllLmNvbnRlbnRzLmhhc093blByb3BlcnR5KHIpJiZ0LnB1c2gocik7cmV0dXJuIHR9LHN5bWxpbms6ZnVuY3Rpb24oZSx0LHIpe3Rocm93IG5ldyBPZS5FcnJub0Vycm9yKHdlLkVQRVJNKX0scmVhZGxpbms6ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IE9lLkVycm5vRXJyb3Iod2UuRVBFUk0pfX0sc3RyZWFtX29wczp7cmVhZDpmdW5jdGlvbihlLHQscixuLG8pe2lmKG8+PWUubm9kZS5zaXplKXJldHVybiAwO3ZhciBpPWUubm9kZS5jb250ZW50cy5zbGljZShvLG8rbiksYT1EZS5yZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoaSk7cmV0dXJuIHQuc2V0KG5ldyBVaW50OEFycmF5KGEpLHIpLGkuc2l6ZX0sd3JpdGU6ZnVuY3Rpb24oZSx0LHIsbixvKXt0aHJvdyBuZXcgT2UuRXJybm9FcnJvcih3ZS5FSU8pfSxsbHNlZWs6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQ7aWYoMT09PXI/bis9ZS5wb3NpdGlvbjoyPT09ciYmT2UuaXNGaWxlKGUubm9kZS5tb2RlKSYmKG4rPWUubm9kZS5zaXplKSxuPDApdGhyb3cgbmV3IE9lLkVycm5vRXJyb3Iod2UuRUlOVkFMKTtyZXR1cm4gbn19fTtqKz0xNixqKz0xNjt2YXIgT2U9e3Jvb3Q6bnVsbCxtb3VudHM6W10sZGV2aWNlczp7fSxzdHJlYW1zOltdLG5leHRJbm9kZToxLG5hbWVUYWJsZTpudWxsLGN1cnJlbnRQYXRoOiIvIixpbml0aWFsaXplZDohMSxpZ25vcmVQZXJtaXNzaW9uczohMCx0cmFja2luZ0RlbGVnYXRlOnt9LHRyYWNraW5nOntvcGVuRmxhZ3M6e1JFQUQ6MSxXUklURToyfX0sRXJybm9FcnJvcjpudWxsLGdlbmVyaWNFcnJvcnM6e30sZmlsZXN5c3RlbXM6bnVsbCxzeW5jRlNSZXF1ZXN0czowLGhhbmRsZUZTRXJyb3I6ZnVuY3Rpb24oZSl7aWYoIShlIGluc3RhbmNlb2YgT2UuRXJybm9FcnJvcikpdGhyb3cgZSsiIDogIitPKCk7cmV0dXJuIF9lKGUuZXJybm8pfSxsb29rdXBQYXRoOmZ1bmN0aW9uKGUsdCl7aWYodD10fHx7fSwhKGU9QWUucmVzb2x2ZShPZS5jd2QoKSxlKSkpcmV0dXJue3BhdGg6IiIsbm9kZTpudWxsfTt2YXIgcj17Zm9sbG93X21vdW50OiEwLHJlY3Vyc2VfY291bnQ6MH07Zm9yKHZhciBuIGluIHIpdm9pZCAwPT09dFtuXSYmKHRbbl09cltuXSk7aWYodC5yZWN1cnNlX2NvdW50PjgpdGhyb3cgbmV3IE9lLkVycm5vRXJyb3Iod2UuRUxPT1ApO2Zvcih2YXIgbz1BZS5ub3JtYWxpemVBcnJheShlLnNwbGl0KCIvIikuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hIWV9KSksITEpLGk9T2Uucm9vdCxhPSIvIixzPTA7czxvLmxlbmd0aDtzKyspe3ZhciB1PXM9PT1vLmxlbmd0aC0xO2lmKHUmJnQucGFyZW50KWJyZWFrO2lmKGk9T2UubG9va3VwTm9kZShpLG9bc10pLGE9QWUuam9pbjIoYSxvW3NdKSxPZS5pc01vdW50cG9pbnQoaSkmJighdXx8dSYmdC5mb2xsb3dfbW91bnQpJiYoaT1pLm1vdW50ZWQucm9vdCksIXV8fHQuZm9sbG93KWZvcih2YXIgYz0wO09lLmlzTGluayhpLm1vZGUpOyl7dmFyIGw9T2UucmVhZGxpbmsoYSk7aWYoYT1BZS5yZXNvbHZlKEFlLmRpcm5hbWUoYSksbCksaT1PZS5sb29rdXBQYXRoKGEse3JlY3Vyc2VfY291bnQ6dC5yZWN1cnNlX2NvdW50fSkubm9kZSxjKys+NDApdGhyb3cgbmV3IE9lLkVycm5vRXJyb3Iod2UuRUxPT1ApfX1yZXR1cm57cGF0aDphLG5vZGU6aX19LGdldFBhdGg6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0Ozspe2lmKE9lLmlzUm9vdChlKSl7dmFyIHI9ZS5tb3VudC5tb3VudHBvaW50O3JldHVybiB0PyIvIiE9PXJbci5sZW5ndGgtMV0/cisiLyIrdDpyK3Q6cn10PXQ/ZS5uYW1lKyIvIit0OmUubmFtZSxlPWUucGFyZW50fX0saGFzaE5hbWU6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9MCxuPTA7bjx0Lmxlbmd0aDtuKyspcj0ocjw8NSktcit0LmNoYXJDb2RlQXQobil8MDtyZXR1cm4oZStyPj4+MCklT2UubmFtZVRhYmxlLmxlbmd0aH0saGFzaEFkZE5vZGU6ZnVuY3Rpb24oZSl7dmFyIHQ9T2UuaGFzaE5hbWUoZS5wYXJlbnQuaWQsZS5uYW1lKTtlLm5hbWVfbmV4dD1PZS5uYW1lVGFibGVbdF0sT2UubmFtZVRhYmxlW3RdPWV9LGhhc2hSZW1vdmVOb2RlOmZ1bmN0aW9uKGUpe3ZhciB0PU9lLmhhc2hOYW1lKGUucGFyZW50LmlkLGUubmFtZSk7aWYoT2UubmFtZVRhYmxlW3RdPT09ZSlPZS5uYW1lVGFibGVbdF09ZS5uYW1lX25leHQ7ZWxzZSBmb3IodmFyIHI9T2UubmFtZVRhYmxlW3RdO3I7KXtpZihyLm5hbWVfbmV4dD09PWUpe3IubmFtZV9uZXh0PWUubmFtZV9uZXh0O2JyZWFrfXI9ci5uYW1lX25leHR9fSxsb29rdXBOb2RlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9T2UubWF5TG9va3VwKGUpO2lmKHIpdGhyb3cgbmV3IE9lLkVycm5vRXJyb3IocixlKTtmb3IodmFyIG49T2UuaGFzaE5hbWUoZS5pZCx0KSxvPU9lLm5hbWVUYWJsZVtuXTtvO289by5uYW1lX25leHQpe3ZhciBpPW8ubmFtZTtpZihvLnBhcmVudC5pZD09PWUuaWQmJmk9PT10KXJldHVybiBvfXJldHVybiBPZS5sb29rdXAoZSx0KX0sY3JlYXRlTm9kZTpmdW5jdGlvbihlLHQscixuKXtpZighT2UuRlNOb2RlKXtPZS5GU05vZGU9ZnVuY3Rpb24oZSx0LHIsbil7ZXx8KGU9dGhpcyksdGhpcy5wYXJlbnQ9ZSx0aGlzLm1vdW50PWUubW91bnQsdGhpcy5tb3VudGVkPW51bGwsdGhpcy5pZD1PZS5uZXh0SW5vZGUrKyx0aGlzLm5hbWU9dCx0aGlzLm1vZGU9cix0aGlzLm5vZGVfb3BzPXt9LHRoaXMuc3RyZWFtX29wcz17fSx0aGlzLnJkZXY9bn0sT2UuRlNOb2RlLnByb3RvdHlwZT17fTt2YXIgbz0zNjUsaT0xNDY7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoT2UuRlNOb2RlLnByb3RvdHlwZSx7cmVhZDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMubW9kZSZvKT09PW99LHNldDpmdW5jdGlvbihlKXtlP3RoaXMubW9kZXw9bzp0aGlzLm1vZGUmPS0zNjZ9fSx3cml0ZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMubW9kZSZpKT09PWl9LHNldDpmdW5jdGlvbihlKXtlP3RoaXMubW9kZXw9aTp0aGlzLm1vZGUmPS0xNDd9fSxpc0ZvbGRlcjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE9lLmlzRGlyKHRoaXMubW9kZSl9fSxpc0RldmljZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE9lLmlzQ2hyZGV2KHRoaXMubW9kZSl9fX0pfXZhciBhPW5ldyBPZS5GU05vZGUoZSx0LHIsbik7cmV0dXJuIE9lLmhhc2hBZGROb2RlKGEpLGF9LGRlc3Ryb3lOb2RlOmZ1bmN0aW9uKGUpe09lLmhhc2hSZW1vdmVOb2RlKGUpfSxpc1Jvb3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1lLnBhcmVudH0saXNNb3VudHBvaW50OmZ1bmN0aW9uKGUpe3JldHVybiEhZS5tb3VudGVkfSxpc0ZpbGU6ZnVuY3Rpb24oZSl7cmV0dXJuIDMyNzY4PT0oNjE0NDAmZSl9LGlzRGlyOmZ1bmN0aW9uKGUpe3JldHVybiAxNjM4ND09KDYxNDQwJmUpfSxpc0xpbms6ZnVuY3Rpb24oZSl7cmV0dXJuIDQwOTYwPT0oNjE0NDAmZSl9LGlzQ2hyZGV2OmZ1bmN0aW9uKGUpe3JldHVybiA4MTkyPT0oNjE0NDAmZSl9LGlzQmxrZGV2OmZ1bmN0aW9uKGUpe3JldHVybiAyNDU3Nj09KDYxNDQwJmUpfSxpc0ZJRk86ZnVuY3Rpb24oZSl7cmV0dXJuIDQwOTY9PSg2MTQ0MCZlKX0saXNTb2NrZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIDQ5MTUyPT0oNDkxNTImZSl9LGZsYWdNb2Rlczp7cjowLHJzOjEwNTI2NzIsInIrIjoyLHc6NTc3LHd4OjcwNSx4dzo3MDUsIncrIjo1NzgsInd4KyI6NzA2LCJ4dysiOjcwNixhOjEwODksYXg6MTIxNyx4YToxMjE3LCJhKyI6MTA5MCwiYXgrIjoxMjE4LCJ4YSsiOjEyMTh9LG1vZGVTdHJpbmdUb0ZsYWdzOmZ1bmN0aW9uKGUpe3ZhciB0PU9lLmZsYWdNb2Rlc1tlXTtpZih2b2lkIDA9PT10KXRocm93IG5ldyBFcnJvcigiVW5rbm93biBmaWxlIG9wZW4gbW9kZTogIitlKTtyZXR1cm4gdH0sZmxhZ3NUb1Blcm1pc3Npb25TdHJpbmc6ZnVuY3Rpb24oZSl7dmFyIHQ9WyJyIiwidyIsInJ3Il1bMyZlXTtyZXR1cm4gNTEyJmUmJih0Kz0idyIpLHR9LG5vZGVQZXJtaXNzaW9uczpmdW5jdGlvbihlLHQpe3JldHVybiBPZS5pZ25vcmVQZXJtaXNzaW9uc3x8KC0xPT09dC5pbmRleE9mKCJyIil8fDI5MiZlLm1vZGUpJiYoLTE9PT10LmluZGV4T2YoInciKXx8MTQ2JmUubW9kZSkmJigtMT09PXQuaW5kZXhPZigieCIpfHw3MyZlLm1vZGUpPzA6d2UuRUFDQ0VTfSxtYXlMb29rdXA6ZnVuY3Rpb24oZSl7dmFyIHQ9T2Uubm9kZVBlcm1pc3Npb25zKGUsIngiKTtyZXR1cm4gdHx8KGUubm9kZV9vcHMubG9va3VwPzA6d2UuRUFDQ0VTKX0sbWF5Q3JlYXRlOmZ1bmN0aW9uKGUsdCl7dHJ5e3JldHVybiBPZS5sb29rdXBOb2RlKGUsdCksd2UuRUVYSVNUfWNhdGNoKGUpe31yZXR1cm4gT2Uubm9kZVBlcm1pc3Npb25zKGUsInd4Iil9LG1heURlbGV0ZTpmdW5jdGlvbihlLHQscil7dmFyIG47dHJ5e249T2UubG9va3VwTm9kZShlLHQpfWNhdGNoKGUpe3JldHVybiBlLmVycm5vfXZhciBvPU9lLm5vZGVQZXJtaXNzaW9ucyhlLCJ3eCIpO2lmKG8pcmV0dXJuIG87aWYocil7aWYoIU9lLmlzRGlyKG4ubW9kZSkpcmV0dXJuIHdlLkVOT1RESVI7aWYoT2UuaXNSb290KG4pfHxPZS5nZXRQYXRoKG4pPT09T2UuY3dkKCkpcmV0dXJuIHdlLkVCVVNZfWVsc2UgaWYoT2UuaXNEaXIobi5tb2RlKSlyZXR1cm4gd2UuRUlTRElSO3JldHVybiAwfSxtYXlPcGVuOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU/T2UuaXNMaW5rKGUubW9kZSk/d2UuRUxPT1A6T2UuaXNEaXIoZS5tb2RlKSYmKCJyIiE9PU9lLmZsYWdzVG9QZXJtaXNzaW9uU3RyaW5nKHQpfHw1MTImdCk/d2UuRUlTRElSOk9lLm5vZGVQZXJtaXNzaW9ucyhlLE9lLmZsYWdzVG9QZXJtaXNzaW9uU3RyaW5nKHQpKTp3ZS5FTk9FTlR9LE1BWF9PUEVOX0ZEUzo0MDk2LG5leHRmZDpmdW5jdGlvbihlLHQpe2U9ZXx8MCx0PXR8fE9lLk1BWF9PUEVOX0ZEUztmb3IodmFyIHI9ZTtyPD10O3IrKylpZighT2Uuc3RyZWFtc1tyXSlyZXR1cm4gcjt0aHJvdyBuZXcgT2UuRXJybm9FcnJvcih3ZS5FTUZJTEUpfSxnZXRTdHJlYW06ZnVuY3Rpb24oZSl7cmV0dXJuIE9lLnN0cmVhbXNbZV19LGNyZWF0ZVN0cmVhbTpmdW5jdGlvbihlLHQscil7T2UuRlNTdHJlYW18fChPZS5GU1N0cmVhbT1mdW5jdGlvbigpe30sT2UuRlNTdHJlYW0ucHJvdG90eXBlPXt9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKE9lLkZTU3RyZWFtLnByb3RvdHlwZSx7b2JqZWN0OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2RlfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5ub2RlPWV9fSxpc1JlYWQ6e2dldDpmdW5jdGlvbigpe3JldHVybiAxIT0oMjA5NzE1NSZ0aGlzLmZsYWdzKX19LGlzV3JpdGU6e2dldDpmdW5jdGlvbigpe3JldHVybiAwIT0oMjA5NzE1NSZ0aGlzLmZsYWdzKX19LGlzQXBwZW5kOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gMTAyNCZ0aGlzLmZsYWdzfX19KSk7dmFyIG49bmV3IE9lLkZTU3RyZWFtO2Zvcih2YXIgbyBpbiBlKW5bb109ZVtvXTtlPW47dmFyIGk9T2UubmV4dGZkKHQscik7cmV0dXJuIGUuZmQ9aSxPZS5zdHJlYW1zW2ldPWUsZX0sY2xvc2VTdHJlYW06ZnVuY3Rpb24oZSl7T2Uuc3RyZWFtc1tlXT1udWxsfSxjaHJkZXZfc3RyZWFtX29wczp7b3BlbjpmdW5jdGlvbihlKXt2YXIgdD1PZS5nZXREZXZpY2UoZS5ub2RlLnJkZXYpO2Uuc3RyZWFtX29wcz10LnN0cmVhbV9vcHMsZS5zdHJlYW1fb3BzLm9wZW4mJmUuc3RyZWFtX29wcy5vcGVuKGUpfSxsbHNlZWs6ZnVuY3Rpb24oKXt0aHJvdyBuZXcgT2UuRXJybm9FcnJvcih3ZS5FU1BJUEUpfX0sbWFqb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIGU+Pjh9LG1pbm9yOmZ1bmN0aW9uKGUpe3JldHVybiAyNTUmZX0sbWFrZWRldjpmdW5jdGlvbihlLHQpe3JldHVybiBlPDw4fHR9LHJlZ2lzdGVyRGV2aWNlOmZ1bmN0aW9uKGUsdCl7T2UuZGV2aWNlc1tlXT17c3RyZWFtX29wczp0fX0sZ2V0RGV2aWNlOmZ1bmN0aW9uKGUpe3JldHVybiBPZS5kZXZpY2VzW2VdfSxnZXRNb3VudHM6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9W2VdO3IubGVuZ3RoOyl7dmFyIG49ci5wb3AoKTt0LnB1c2gobiksci5wdXNoLmFwcGx5KHIsbi5tb3VudHMpfXJldHVybiB0fSxzeW5jZnM6ZnVuY3Rpb24oZSx0KXsiZnVuY3Rpb24iPT10eXBlb2YgZSYmKHQ9ZSxlPSExKSxPZS5zeW5jRlNSZXF1ZXN0cysrLE9lLnN5bmNGU1JlcXVlc3RzPjEmJmNvbnNvbGUubG9nKCJ3YXJuaW5nOiAiK09lLnN5bmNGU1JlcXVlc3RzKyIgRlMuc3luY2ZzIG9wZXJhdGlvbnMgaW4gZmxpZ2h0IGF0IG9uY2UsIHByb2JhYmx5IGp1c3QgZG9pbmcgZXh0cmEgd29yayIpO3ZhciByPU9lLmdldE1vdW50cyhPZS5yb290Lm1vdW50KSxuPTA7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gdihPZS5zeW5jRlNSZXF1ZXN0cz4wKSxPZS5zeW5jRlNSZXF1ZXN0cy0tLHQoZSl9ZnVuY3Rpb24gaShlKXtpZihlKXJldHVybiBpLmVycm9yZWQ/dm9pZCAwOihpLmVycm9yZWQ9ITAsbyhlKSk7KytuPj1yLmxlbmd0aCYmbyhudWxsKX1yLmZvckVhY2goKGZ1bmN0aW9uKHQpe2lmKCF0LnR5cGUuc3luY2ZzKXJldHVybiBpKG51bGwpO3QudHlwZS5zeW5jZnModCxlLGkpfSkpfSxtb3VudDpmdW5jdGlvbihlLHQscil7dmFyIG4sbz0iLyI9PT1yLGk9IXI7aWYobyYmT2Uucm9vdCl0aHJvdyBuZXcgT2UuRXJybm9FcnJvcih3ZS5FQlVTWSk7aWYoIW8mJiFpKXt2YXIgYT1PZS5sb29rdXBQYXRoKHIse2ZvbGxvd19tb3VudDohMX0pO2lmKHI9YS5wYXRoLG49YS5ub2RlLE9lLmlzTW91bnRwb2ludChuKSl0aHJvdyBuZXcgT2UuRXJybm9FcnJvcih3ZS5FQlVTWSk7aWYoIU9lLmlzRGlyKG4ubW9kZSkpdGhyb3cgbmV3IE9lLkVycm5vRXJyb3Iod2UuRU5PVERJUil9dmFyIHM9e3R5cGU6ZSxvcHRzOnQsbW91bnRwb2ludDpyLG1vdW50czpbXX0sdT1lLm1vdW50KHMpO3JldHVybiB1Lm1vdW50PXMscy5yb290PXUsbz9PZS5yb290PXU6biYmKG4ubW91bnRlZD1zLG4ubW91bnQmJm4ubW91bnQubW91bnRzLnB1c2gocykpLHV9LHVubW91bnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9T2UubG9va3VwUGF0aChlLHtmb2xsb3dfbW91bnQ6ITF9KTtpZighT2UuaXNNb3VudHBvaW50KHQubm9kZSkpdGhyb3cgbmV3IE9lLkVycm5vRXJyb3Iod2UuRUlOVkFMKTt2YXIgcj10Lm5vZGUsbj1yLm1vdW50ZWQsbz1PZS5nZXRNb3VudHMobik7T2JqZWN0LmtleXMoT2UubmFtZVRhYmxlKS5mb3JFYWNoKChmdW5jdGlvbihlKXtmb3IodmFyIHQ9T2UubmFtZVRhYmxlW2VdO3Q7KXt2YXIgcj10Lm5hbWVfbmV4dDstMSE9PW8uaW5kZXhPZih0Lm1vdW50KSYmT2UuZGVzdHJveU5vZGUodCksdD1yfX0pKSxyLm1vdW50ZWQ9bnVsbDt2YXIgaT1yLm1vdW50Lm1vdW50cy5pbmRleE9mKG4pO3YoLTEhPT1pKSxyLm1vdW50Lm1vdW50cy5zcGxpY2UoaSwxKX0sbG9va3VwOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUubm9kZV9vcHMubG9va3VwKGUsdCl9LG1rbm9kOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1PZS5sb29rdXBQYXRoKGUse3BhcmVudDohMH0pLm5vZGUsbz1BZS5iYXNlbmFtZShlKTtpZighb3x8Ii4iPT09b3x8Ii4uIj09PW8pdGhyb3cgbmV3IE9lLkVycm5vRXJyb3Iod2UuRUlOVkFMKTt2YXIgaT1PZS5tYXlDcmVhdGUobixvKTtpZihpKXRocm93IG5ldyBPZS5FcnJub0Vycm9yKGkpO2lmKCFuLm5vZGVfb3BzLm1rbm9kKXRocm93IG5ldyBPZS5FcnJub0Vycm9yKHdlLkVQRVJNKTtyZXR1cm4gbi5ub2RlX29wcy5ta25vZChuLG8sdCxyKX0sY3JlYXRlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9dm9pZCAwIT09dD90OjQzOCx0Jj00MDk1LHR8PTMyNzY4LE9lLm1rbm9kKGUsdCwwKX0sbWtkaXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD12b2lkIDAhPT10P3Q6NTExLHQmPTEwMjMsdHw9MTYzODQsT2UubWtub2QoZSx0LDApfSxta2RpclRyZWU6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9ZS5zcGxpdCgiLyIpLG49IiIsbz0wO288ci5sZW5ndGg7KytvKWlmKHJbb10pe24rPSIvIityW29dO3RyeXtPZS5ta2RpcihuLHQpfWNhdGNoKGUpe2lmKGUuZXJybm8hPXdlLkVFWElTVCl0aHJvdyBlfX19LG1rZGV2OmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdm9pZCAwPT09ciYmKHI9dCx0PTQzOCksdHw9ODE5MixPZS5ta25vZChlLHQscil9LHN5bWxpbms6ZnVuY3Rpb24oZSx0KXtpZighQWUucmVzb2x2ZShlKSl0aHJvdyBuZXcgT2UuRXJybm9FcnJvcih3ZS5FTk9FTlQpO3ZhciByPU9lLmxvb2t1cFBhdGgodCx7cGFyZW50OiEwfSkubm9kZTtpZighcil0aHJvdyBuZXcgT2UuRXJybm9FcnJvcih3ZS5FTk9FTlQpO3ZhciBuPUFlLmJhc2VuYW1lKHQpLG89T2UubWF5Q3JlYXRlKHIsbik7aWYobyl0aHJvdyBuZXcgT2UuRXJybm9FcnJvcihvKTtpZighci5ub2RlX29wcy5zeW1saW5rKXRocm93IG5ldyBPZS5FcnJub0Vycm9yKHdlLkVQRVJNKTtyZXR1cm4gci5ub2RlX29wcy5zeW1saW5rKHIsbixlKX0scmVuYW1lOmZ1bmN0aW9uKGUsdCl7dmFyIHIsbixvPUFlLmRpcm5hbWUoZSksaT1BZS5kaXJuYW1lKHQpLGE9QWUuYmFzZW5hbWUoZSkscz1BZS5iYXNlbmFtZSh0KTt0cnl7cj1PZS5sb29rdXBQYXRoKGUse3BhcmVudDohMH0pLm5vZGUsbj1PZS5sb29rdXBQYXRoKHQse3BhcmVudDohMH0pLm5vZGV9Y2F0Y2goZSl7dGhyb3cgbmV3IE9lLkVycm5vRXJyb3Iod2UuRUJVU1kpfWlmKCFyfHwhbil0aHJvdyBuZXcgT2UuRXJybm9FcnJvcih3ZS5FTk9FTlQpO2lmKHIubW91bnQhPT1uLm1vdW50KXRocm93IG5ldyBPZS5FcnJub0Vycm9yKHdlLkVYREVWKTt2YXIgdSxjPU9lLmxvb2t1cE5vZGUocixhKSxsPUFlLnJlbGF0aXZlKGUsaSk7aWYoIi4iIT09bC5jaGFyQXQoMCkpdGhyb3cgbmV3IE9lLkVycm5vRXJyb3Iod2UuRUlOVkFMKTtpZigiLiIhPT0obD1BZS5yZWxhdGl2ZSh0LG8pKS5jaGFyQXQoMCkpdGhyb3cgbmV3IE9lLkVycm5vRXJyb3Iod2UuRU5PVEVNUFRZKTt0cnl7dT1PZS5sb29rdXBOb2RlKG4scyl9Y2F0Y2goZSl7fWlmKGMhPT11KXt2YXIgZj1PZS5pc0RpcihjLm1vZGUpLGQ9T2UubWF5RGVsZXRlKHIsYSxmKTtpZihkKXRocm93IG5ldyBPZS5FcnJub0Vycm9yKGQpO2lmKGQ9dT9PZS5tYXlEZWxldGUobixzLGYpOk9lLm1heUNyZWF0ZShuLHMpKXRocm93IG5ldyBPZS5FcnJub0Vycm9yKGQpO2lmKCFyLm5vZGVfb3BzLnJlbmFtZSl0aHJvdyBuZXcgT2UuRXJybm9FcnJvcih3ZS5FUEVSTSk7aWYoT2UuaXNNb3VudHBvaW50KGMpfHx1JiZPZS5pc01vdW50cG9pbnQodSkpdGhyb3cgbmV3IE9lLkVycm5vRXJyb3Iod2UuRUJVU1kpO2lmKG4hPT1yJiYoZD1PZS5ub2RlUGVybWlzc2lvbnMociwidyIpKSl0aHJvdyBuZXcgT2UuRXJybm9FcnJvcihkKTt0cnl7T2UudHJhY2tpbmdEZWxlZ2F0ZS53aWxsTW92ZVBhdGgmJk9lLnRyYWNraW5nRGVsZWdhdGUud2lsbE1vdmVQYXRoKGUsdCl9Y2F0Y2gocil7Y29uc29sZS5sb2coIkZTLnRyYWNraW5nRGVsZWdhdGVbJ3dpbGxNb3ZlUGF0aCddKCciK2UrIicsICciK3QrIicpIHRocmV3IGFuIGV4Y2VwdGlvbjogIityLm1lc3NhZ2UpfU9lLmhhc2hSZW1vdmVOb2RlKGMpO3RyeXtyLm5vZGVfb3BzLnJlbmFtZShjLG4scyl9Y2F0Y2goZSl7dGhyb3cgZX1maW5hbGx5e09lLmhhc2hBZGROb2RlKGMpfXRyeXtPZS50cmFja2luZ0RlbGVnYXRlLm9uTW92ZVBhdGgmJk9lLnRyYWNraW5nRGVsZWdhdGUub25Nb3ZlUGF0aChlLHQpfWNhdGNoKHIpe2NvbnNvbGUubG9nKCJGUy50cmFja2luZ0RlbGVnYXRlWydvbk1vdmVQYXRoJ10oJyIrZSsiJywgJyIrdCsiJykgdGhyZXcgYW4gZXhjZXB0aW9uOiAiK3IubWVzc2FnZSl9fX0scm1kaXI6ZnVuY3Rpb24oZSl7dmFyIHQ9T2UubG9va3VwUGF0aChlLHtwYXJlbnQ6ITB9KS5ub2RlLHI9QWUuYmFzZW5hbWUoZSksbj1PZS5sb29rdXBOb2RlKHQsciksbz1PZS5tYXlEZWxldGUodCxyLCEwKTtpZihvKXRocm93IG5ldyBPZS5FcnJub0Vycm9yKG8pO2lmKCF0Lm5vZGVfb3BzLnJtZGlyKXRocm93IG5ldyBPZS5FcnJub0Vycm9yKHdlLkVQRVJNKTtpZihPZS5pc01vdW50cG9pbnQobikpdGhyb3cgbmV3IE9lLkVycm5vRXJyb3Iod2UuRUJVU1kpO3RyeXtPZS50cmFja2luZ0RlbGVnYXRlLndpbGxEZWxldGVQYXRoJiZPZS50cmFja2luZ0RlbGVnYXRlLndpbGxEZWxldGVQYXRoKGUpfWNhdGNoKHQpe2NvbnNvbGUubG9nKCJGUy50cmFja2luZ0RlbGVnYXRlWyd3aWxsRGVsZXRlUGF0aCddKCciK2UrIicpIHRocmV3IGFuIGV4Y2VwdGlvbjogIit0Lm1lc3NhZ2UpfXQubm9kZV9vcHMucm1kaXIodCxyKSxPZS5kZXN0cm95Tm9kZShuKTt0cnl7T2UudHJhY2tpbmdEZWxlZ2F0ZS5vbkRlbGV0ZVBhdGgmJk9lLnRyYWNraW5nRGVsZWdhdGUub25EZWxldGVQYXRoKGUpfWNhdGNoKHQpe2NvbnNvbGUubG9nKCJGUy50cmFja2luZ0RlbGVnYXRlWydvbkRlbGV0ZVBhdGgnXSgnIitlKyInKSB0aHJldyBhbiBleGNlcHRpb246ICIrdC5tZXNzYWdlKX19LHJlYWRkaXI6ZnVuY3Rpb24oZSl7dmFyIHQ9T2UubG9va3VwUGF0aChlLHtmb2xsb3c6ITB9KS5ub2RlO2lmKCF0Lm5vZGVfb3BzLnJlYWRkaXIpdGhyb3cgbmV3IE9lLkVycm5vRXJyb3Iod2UuRU5PVERJUik7cmV0dXJuIHQubm9kZV9vcHMucmVhZGRpcih0KX0sdW5saW5rOmZ1bmN0aW9uKGUpe3ZhciB0PU9lLmxvb2t1cFBhdGgoZSx7cGFyZW50OiEwfSkubm9kZSxyPUFlLmJhc2VuYW1lKGUpLG49T2UubG9va3VwTm9kZSh0LHIpLG89T2UubWF5RGVsZXRlKHQsciwhMSk7aWYobyl0aHJvdyBuZXcgT2UuRXJybm9FcnJvcihvKTtpZighdC5ub2RlX29wcy51bmxpbmspdGhyb3cgbmV3IE9lLkVycm5vRXJyb3Iod2UuRVBFUk0pO2lmKE9lLmlzTW91bnRwb2ludChuKSl0aHJvdyBuZXcgT2UuRXJybm9FcnJvcih3ZS5FQlVTWSk7dHJ5e09lLnRyYWNraW5nRGVsZWdhdGUud2lsbERlbGV0ZVBhdGgmJk9lLnRyYWNraW5nRGVsZWdhdGUud2lsbERlbGV0ZVBhdGgoZSl9Y2F0Y2godCl7Y29uc29sZS5sb2coIkZTLnRyYWNraW5nRGVsZWdhdGVbJ3dpbGxEZWxldGVQYXRoJ10oJyIrZSsiJykgdGhyZXcgYW4gZXhjZXB0aW9uOiAiK3QubWVzc2FnZSl9dC5ub2RlX29wcy51bmxpbmsodCxyKSxPZS5kZXN0cm95Tm9kZShuKTt0cnl7T2UudHJhY2tpbmdEZWxlZ2F0ZS5vbkRlbGV0ZVBhdGgmJk9lLnRyYWNraW5nRGVsZWdhdGUub25EZWxldGVQYXRoKGUpfWNhdGNoKHQpe2NvbnNvbGUubG9nKCJGUy50cmFja2luZ0RlbGVnYXRlWydvbkRlbGV0ZVBhdGgnXSgnIitlKyInKSB0aHJldyBhbiBleGNlcHRpb246ICIrdC5tZXNzYWdlKX19LHJlYWRsaW5rOmZ1bmN0aW9uKGUpe3ZhciB0PU9lLmxvb2t1cFBhdGgoZSkubm9kZTtpZighdCl0aHJvdyBuZXcgT2UuRXJybm9FcnJvcih3ZS5FTk9FTlQpO2lmKCF0Lm5vZGVfb3BzLnJlYWRsaW5rKXRocm93IG5ldyBPZS5FcnJub0Vycm9yKHdlLkVJTlZBTCk7cmV0dXJuIEFlLnJlc29sdmUoT2UuZ2V0UGF0aCh0LnBhcmVudCksdC5ub2RlX29wcy5yZWFkbGluayh0KSl9LHN0YXQ6ZnVuY3Rpb24oZSx0KXt2YXIgcj1PZS5sb29rdXBQYXRoKGUse2ZvbGxvdzohdH0pLm5vZGU7aWYoIXIpdGhyb3cgbmV3IE9lLkVycm5vRXJyb3Iod2UuRU5PRU5UKTtpZighci5ub2RlX29wcy5nZXRhdHRyKXRocm93IG5ldyBPZS5FcnJub0Vycm9yKHdlLkVQRVJNKTtyZXR1cm4gci5ub2RlX29wcy5nZXRhdHRyKHIpfSxsc3RhdDpmdW5jdGlvbihlKXtyZXR1cm4gT2Uuc3RhdChlLCEwKX0sY2htb2Q6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuO2lmKCEobj0ic3RyaW5nIj09dHlwZW9mIGU/T2UubG9va3VwUGF0aChlLHtmb2xsb3c6IXJ9KS5ub2RlOmUpLm5vZGVfb3BzLnNldGF0dHIpdGhyb3cgbmV3IE9lLkVycm5vRXJyb3Iod2UuRVBFUk0pO24ubm9kZV9vcHMuc2V0YXR0cihuLHttb2RlOjQwOTUmdHwtNDA5NiZuLm1vZGUsdGltZXN0YW1wOkRhdGUubm93KCl9KX0sbGNobW9kOmZ1bmN0aW9uKGUsdCl7T2UuY2htb2QoZSx0LCEwKX0sZmNobW9kOmZ1bmN0aW9uKGUsdCl7dmFyIHI9T2UuZ2V0U3RyZWFtKGUpO2lmKCFyKXRocm93IG5ldyBPZS5FcnJub0Vycm9yKHdlLkVCQURGKTtPZS5jaG1vZChyLm5vZGUsdCl9LGNob3duOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBvO2lmKCEobz0ic3RyaW5nIj09dHlwZW9mIGU/T2UubG9va3VwUGF0aChlLHtmb2xsb3c6IW59KS5ub2RlOmUpLm5vZGVfb3BzLnNldGF0dHIpdGhyb3cgbmV3IE9lLkVycm5vRXJyb3Iod2UuRVBFUk0pO28ubm9kZV9vcHMuc2V0YXR0cihvLHt0aW1lc3RhbXA6RGF0ZS5ub3coKX0pfSxsY2hvd246ZnVuY3Rpb24oZSx0LHIpe09lLmNob3duKGUsdCxyLCEwKX0sZmNob3duOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1PZS5nZXRTdHJlYW0oZSk7aWYoIW4pdGhyb3cgbmV3IE9lLkVycm5vRXJyb3Iod2UuRUJBREYpO09lLmNob3duKG4ubm9kZSx0LHIpfSx0cnVuY2F0ZTpmdW5jdGlvbihlLHQpe2lmKHQ8MCl0aHJvdyBuZXcgT2UuRXJybm9FcnJvcih3ZS5FSU5WQUwpO3ZhciByO2lmKCEocj0ic3RyaW5nIj09dHlwZW9mIGU/T2UubG9va3VwUGF0aChlLHtmb2xsb3c6ITB9KS5ub2RlOmUpLm5vZGVfb3BzLnNldGF0dHIpdGhyb3cgbmV3IE9lLkVycm5vRXJyb3Iod2UuRVBFUk0pO2lmKE9lLmlzRGlyKHIubW9kZSkpdGhyb3cgbmV3IE9lLkVycm5vRXJyb3Iod2UuRUlTRElSKTtpZighT2UuaXNGaWxlKHIubW9kZSkpdGhyb3cgbmV3IE9lLkVycm5vRXJyb3Iod2UuRUlOVkFMKTt2YXIgbj1PZS5ub2RlUGVybWlzc2lvbnMociwidyIpO2lmKG4pdGhyb3cgbmV3IE9lLkVycm5vRXJyb3Iobik7ci5ub2RlX29wcy5zZXRhdHRyKHIse3NpemU6dCx0aW1lc3RhbXA6RGF0ZS5ub3coKX0pfSxmdHJ1bmNhdGU6ZnVuY3Rpb24oZSx0KXt2YXIgcj1PZS5nZXRTdHJlYW0oZSk7aWYoIXIpdGhyb3cgbmV3IE9lLkVycm5vRXJyb3Iod2UuRUJBREYpO2lmKDA9PSgyMDk3MTU1JnIuZmxhZ3MpKXRocm93IG5ldyBPZS5FcnJub0Vycm9yKHdlLkVJTlZBTCk7T2UudHJ1bmNhdGUoci5ub2RlLHQpfSx1dGltZTpmdW5jdGlvbihlLHQscil7dmFyIG49T2UubG9va3VwUGF0aChlLHtmb2xsb3c6ITB9KS5ub2RlO24ubm9kZV9vcHMuc2V0YXR0cihuLHt0aW1lc3RhbXA6TWF0aC5tYXgodCxyKX0pfSxvcGVuOmZ1bmN0aW9uKGUsdCxyLG4sbyl7aWYoIiI9PT1lKXRocm93IG5ldyBPZS5FcnJub0Vycm9yKHdlLkVOT0VOVCk7dmFyIGk7aWYocj12b2lkIDA9PT1yPzQzODpyLHI9NjQmKHQ9InN0cmluZyI9PXR5cGVvZiB0P09lLm1vZGVTdHJpbmdUb0ZsYWdzKHQpOnQpPzQwOTUmcnwzMjc2ODowLCJvYmplY3QiPT10eXBlb2YgZSlpPWU7ZWxzZXtlPUFlLm5vcm1hbGl6ZShlKTt0cnl7aT1PZS5sb29rdXBQYXRoKGUse2ZvbGxvdzohKDEzMTA3MiZ0KX0pLm5vZGV9Y2F0Y2goZSl7fX12YXIgcz0hMTtpZig2NCZ0KWlmKGkpe2lmKDEyOCZ0KXRocm93IG5ldyBPZS5FcnJub0Vycm9yKHdlLkVFWElTVCl9ZWxzZSBpPU9lLm1rbm9kKGUsciwwKSxzPSEwO2lmKCFpKXRocm93IG5ldyBPZS5FcnJub0Vycm9yKHdlLkVOT0VOVCk7aWYoT2UuaXNDaHJkZXYoaS5tb2RlKSYmKHQmPS01MTMpLDY1NTM2JnQmJiFPZS5pc0RpcihpLm1vZGUpKXRocm93IG5ldyBPZS5FcnJub0Vycm9yKHdlLkVOT1RESVIpO2lmKCFzKXt2YXIgdT1PZS5tYXlPcGVuKGksdCk7aWYodSl0aHJvdyBuZXcgT2UuRXJybm9FcnJvcih1KX01MTImdCYmT2UudHJ1bmNhdGUoaSwwKSx0Jj0tNjQxO3ZhciBjPU9lLmNyZWF0ZVN0cmVhbSh7bm9kZTppLHBhdGg6T2UuZ2V0UGF0aChpKSxmbGFnczp0LHNlZWthYmxlOiEwLHBvc2l0aW9uOjAsc3RyZWFtX29wczppLnN0cmVhbV9vcHMsdW5nb3R0ZW46W10sZXJyb3I6ITF9LG4sbyk7Yy5zdHJlYW1fb3BzLm9wZW4mJmMuc3RyZWFtX29wcy5vcGVuKGMpLCFhLmxvZ1JlYWRGaWxlc3x8MSZ0fHwoT2UucmVhZEZpbGVzfHwoT2UucmVhZEZpbGVzPXt9KSxlIGluIE9lLnJlYWRGaWxlc3x8KE9lLnJlYWRGaWxlc1tlXT0xLGEucHJpbnRFcnIoInJlYWQgZmlsZTogIitlKSkpO3RyeXtpZihPZS50cmFja2luZ0RlbGVnYXRlLm9uT3BlbkZpbGUpe3ZhciBsPTA7MSE9KDIwOTcxNTUmdCkmJihsfD1PZS50cmFja2luZy5vcGVuRmxhZ3MuUkVBRCksMCE9KDIwOTcxNTUmdCkmJihsfD1PZS50cmFja2luZy5vcGVuRmxhZ3MuV1JJVEUpLE9lLnRyYWNraW5nRGVsZWdhdGUub25PcGVuRmlsZShlLGwpfX1jYXRjaCh0KXtjb25zb2xlLmxvZygiRlMudHJhY2tpbmdEZWxlZ2F0ZVsnb25PcGVuRmlsZSddKCciK2UrIicsIGZsYWdzKSB0aHJldyBhbiBleGNlcHRpb246ICIrdC5tZXNzYWdlKX1yZXR1cm4gY30sY2xvc2U6ZnVuY3Rpb24oZSl7aWYoT2UuaXNDbG9zZWQoZSkpdGhyb3cgbmV3IE9lLkVycm5vRXJyb3Iod2UuRUJBREYpO2UuZ2V0ZGVudHMmJihlLmdldGRlbnRzPW51bGwpO3RyeXtlLnN0cmVhbV9vcHMuY2xvc2UmJmUuc3RyZWFtX29wcy5jbG9zZShlKX1jYXRjaChlKXt0aHJvdyBlfWZpbmFsbHl7T2UuY2xvc2VTdHJlYW0oZS5mZCl9ZS5mZD1udWxsfSxpc0Nsb3NlZDpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09PWUuZmR9LGxsc2VlazpmdW5jdGlvbihlLHQscil7aWYoT2UuaXNDbG9zZWQoZSkpdGhyb3cgbmV3IE9lLkVycm5vRXJyb3Iod2UuRUJBREYpO2lmKCFlLnNlZWthYmxlfHwhZS5zdHJlYW1fb3BzLmxsc2Vlayl0aHJvdyBuZXcgT2UuRXJybm9FcnJvcih3ZS5FU1BJUEUpO3JldHVybiBlLnBvc2l0aW9uPWUuc3RyZWFtX29wcy5sbHNlZWsoZSx0LHIpLGUudW5nb3R0ZW49W10sZS5wb3NpdGlvbn0scmVhZDpmdW5jdGlvbihlLHQscixuLG8pe2lmKG48MHx8bzwwKXRocm93IG5ldyBPZS5FcnJub0Vycm9yKHdlLkVJTlZBTCk7aWYoT2UuaXNDbG9zZWQoZSkpdGhyb3cgbmV3IE9lLkVycm5vRXJyb3Iod2UuRUJBREYpO2lmKDE9PSgyMDk3MTU1JmUuZmxhZ3MpKXRocm93IG5ldyBPZS5FcnJub0Vycm9yKHdlLkVCQURGKTtpZihPZS5pc0RpcihlLm5vZGUubW9kZSkpdGhyb3cgbmV3IE9lLkVycm5vRXJyb3Iod2UuRUlTRElSKTtpZighZS5zdHJlYW1fb3BzLnJlYWQpdGhyb3cgbmV3IE9lLkVycm5vRXJyb3Iod2UuRUlOVkFMKTt2YXIgaT12b2lkIDAhPT1vO2lmKGkpe2lmKCFlLnNlZWthYmxlKXRocm93IG5ldyBPZS5FcnJub0Vycm9yKHdlLkVTUElQRSl9ZWxzZSBvPWUucG9zaXRpb247dmFyIGE9ZS5zdHJlYW1fb3BzLnJlYWQoZSx0LHIsbixvKTtyZXR1cm4gaXx8KGUucG9zaXRpb24rPWEpLGF9LHdyaXRlOmZ1bmN0aW9uKGUsdCxyLG4sbyxpKXtpZihuPDB8fG88MCl0aHJvdyBuZXcgT2UuRXJybm9FcnJvcih3ZS5FSU5WQUwpO2lmKE9lLmlzQ2xvc2VkKGUpKXRocm93IG5ldyBPZS5FcnJub0Vycm9yKHdlLkVCQURGKTtpZigwPT0oMjA5NzE1NSZlLmZsYWdzKSl0aHJvdyBuZXcgT2UuRXJybm9FcnJvcih3ZS5FQkFERik7aWYoT2UuaXNEaXIoZS5ub2RlLm1vZGUpKXRocm93IG5ldyBPZS5FcnJub0Vycm9yKHdlLkVJU0RJUik7aWYoIWUuc3RyZWFtX29wcy53cml0ZSl0aHJvdyBuZXcgT2UuRXJybm9FcnJvcih3ZS5FSU5WQUwpOzEwMjQmZS5mbGFncyYmT2UubGxzZWVrKGUsMCwyKTt2YXIgYT12b2lkIDAhPT1vO2lmKGEpe2lmKCFlLnNlZWthYmxlKXRocm93IG5ldyBPZS5FcnJub0Vycm9yKHdlLkVTUElQRSl9ZWxzZSBvPWUucG9zaXRpb247dmFyIHM9ZS5zdHJlYW1fb3BzLndyaXRlKGUsdCxyLG4sbyxpKTthfHwoZS5wb3NpdGlvbis9cyk7dHJ5e2UucGF0aCYmT2UudHJhY2tpbmdEZWxlZ2F0ZS5vbldyaXRlVG9GaWxlJiZPZS50cmFja2luZ0RlbGVnYXRlLm9uV3JpdGVUb0ZpbGUoZS5wYXRoKX1jYXRjaChlKXtjb25zb2xlLmxvZygiRlMudHJhY2tpbmdEZWxlZ2F0ZVsnb25Xcml0ZVRvRmlsZSddKCciK3BhdGgrIicpIHRocmV3IGFuIGV4Y2VwdGlvbjogIitlLm1lc3NhZ2UpfXJldHVybiBzfSxhbGxvY2F0ZTpmdW5jdGlvbihlLHQscil7aWYoT2UuaXNDbG9zZWQoZSkpdGhyb3cgbmV3IE9lLkVycm5vRXJyb3Iod2UuRUJBREYpO2lmKHQ8MHx8cjw9MCl0aHJvdyBuZXcgT2UuRXJybm9FcnJvcih3ZS5FSU5WQUwpO2lmKDA9PSgyMDk3MTU1JmUuZmxhZ3MpKXRocm93IG5ldyBPZS5FcnJub0Vycm9yKHdlLkVCQURGKTtpZighT2UuaXNGaWxlKGUubm9kZS5tb2RlKSYmIU9lLmlzRGlyKGUubm9kZS5tb2RlKSl0aHJvdyBuZXcgT2UuRXJybm9FcnJvcih3ZS5FTk9ERVYpO2lmKCFlLnN0cmVhbV9vcHMuYWxsb2NhdGUpdGhyb3cgbmV3IE9lLkVycm5vRXJyb3Iod2UuRU9QTk9UU1VQUCk7ZS5zdHJlYW1fb3BzLmFsbG9jYXRlKGUsdCxyKX0sbW1hcDpmdW5jdGlvbihlLHQscixuLG8saSxhKXtpZigxPT0oMjA5NzE1NSZlLmZsYWdzKSl0aHJvdyBuZXcgT2UuRXJybm9FcnJvcih3ZS5FQUNDRVMpO2lmKCFlLnN0cmVhbV9vcHMubW1hcCl0aHJvdyBuZXcgT2UuRXJybm9FcnJvcih3ZS5FTk9ERVYpO3JldHVybiBlLnN0cmVhbV9vcHMubW1hcChlLHQscixuLG8saSxhKX0sbXN5bmM6ZnVuY3Rpb24oZSx0LHIsbixvKXtyZXR1cm4gZSYmZS5zdHJlYW1fb3BzLm1zeW5jP2Uuc3RyZWFtX29wcy5tc3luYyhlLHQscixuLG8pOjB9LG11bm1hcDpmdW5jdGlvbihlKXtyZXR1cm4gMH0saW9jdGw6ZnVuY3Rpb24oZSx0LHIpe2lmKCFlLnN0cmVhbV9vcHMuaW9jdGwpdGhyb3cgbmV3IE9lLkVycm5vRXJyb3Iod2UuRU5PVFRZKTtyZXR1cm4gZS5zdHJlYW1fb3BzLmlvY3RsKGUsdCxyKX0scmVhZEZpbGU6ZnVuY3Rpb24oZSx0KXtpZigodD10fHx7fSkuZmxhZ3M9dC5mbGFnc3x8InIiLHQuZW5jb2Rpbmc9dC5lbmNvZGluZ3x8ImJpbmFyeSIsInV0ZjgiIT09dC5lbmNvZGluZyYmImJpbmFyeSIhPT10LmVuY29kaW5nKXRocm93IG5ldyBFcnJvcignSW52YWxpZCBlbmNvZGluZyB0eXBlICInK3QuZW5jb2RpbmcrJyInKTt2YXIgcixuPU9lLm9wZW4oZSx0LmZsYWdzKSxvPU9lLnN0YXQoZSkuc2l6ZSxpPW5ldyBVaW50OEFycmF5KG8pO3JldHVybiBPZS5yZWFkKG4saSwwLG8sMCksInV0ZjgiPT09dC5lbmNvZGluZz9yPUEoaSwwKToiYmluYXJ5Ij09PXQuZW5jb2RpbmcmJihyPWkpLE9lLmNsb3NlKG4pLHJ9LHdyaXRlRmlsZTpmdW5jdGlvbihlLHQscil7KHI9cnx8e30pLmZsYWdzPXIuZmxhZ3N8fCJ3Ijt2YXIgbj1PZS5vcGVuKGUsci5mbGFncyxyLm1vZGUpO2lmKCJzdHJpbmciPT10eXBlb2YgdCl7dmFyIG89bmV3IFVpbnQ4QXJyYXkoUCh0KSsxKSxpPVModCxvLDAsby5sZW5ndGgpO09lLndyaXRlKG4sbywwLGksdm9pZCAwLHIuY2FuT3duKX1lbHNle2lmKCFBcnJheUJ1ZmZlci5pc1ZpZXcodCkpdGhyb3cgbmV3IEVycm9yKCJVbnN1cHBvcnRlZCBkYXRhIHR5cGUiKTtPZS53cml0ZShuLHQsMCx0LmJ5dGVMZW5ndGgsdm9pZCAwLHIuY2FuT3duKX1PZS5jbG9zZShuKX0sY3dkOmZ1bmN0aW9uKCl7cmV0dXJuIE9lLmN1cnJlbnRQYXRofSxjaGRpcjpmdW5jdGlvbihlKXt2YXIgdD1PZS5sb29rdXBQYXRoKGUse2ZvbGxvdzohMH0pO2lmKG51bGw9PT10Lm5vZGUpdGhyb3cgbmV3IE9lLkVycm5vRXJyb3Iod2UuRU5PRU5UKTtpZighT2UuaXNEaXIodC5ub2RlLm1vZGUpKXRocm93IG5ldyBPZS5FcnJub0Vycm9yKHdlLkVOT1RESVIpO3ZhciByPU9lLm5vZGVQZXJtaXNzaW9ucyh0Lm5vZGUsIngiKTtpZihyKXRocm93IG5ldyBPZS5FcnJub0Vycm9yKHIpO09lLmN1cnJlbnRQYXRoPXQucGF0aH0sY3JlYXRlRGVmYXVsdERpcmVjdG9yaWVzOmZ1bmN0aW9uKCl7T2UubWtkaXIoIi90bXAiKSxPZS5ta2RpcigiL2hvbWUiKSxPZS5ta2RpcigiL2hvbWUvd2ViX3VzZXIiKX0sY3JlYXRlRGVmYXVsdERldmljZXM6ZnVuY3Rpb24oKXt2YXIgZTtpZihPZS5ta2RpcigiL2RldiIpLE9lLnJlZ2lzdGVyRGV2aWNlKE9lLm1ha2VkZXYoMSwzKSx7cmVhZDpmdW5jdGlvbigpe3JldHVybiAwfSx3cml0ZTpmdW5jdGlvbihlLHQscixuLG8pe3JldHVybiBufX0pLE9lLm1rZGV2KCIvZGV2L251bGwiLE9lLm1ha2VkZXYoMSwzKSksVGUucmVnaXN0ZXIoT2UubWFrZWRldig1LDApLFRlLmRlZmF1bHRfdHR5X29wcyksVGUucmVnaXN0ZXIoT2UubWFrZWRldig2LDApLFRlLmRlZmF1bHRfdHR5MV9vcHMpLE9lLm1rZGV2KCIvZGV2L3R0eSIsT2UubWFrZWRldig1LDApKSxPZS5ta2RldigiL2Rldi90dHkxIixPZS5tYWtlZGV2KDYsMCkpLCJ1bmRlZmluZWQiIT10eXBlb2YgY3J5cHRvKXt2YXIgdD1uZXcgVWludDhBcnJheSgxKTtlPWZ1bmN0aW9uKCl7cmV0dXJuIGNyeXB0by5nZXRSYW5kb21WYWx1ZXModCksdFswXX19ZWxzZSBlPWQ/ZnVuY3Rpb24oKXtyZXR1cm4gaS5yYW5kb21CeXRlcygxKVswXX06ZnVuY3Rpb24oKXtyZXR1cm4gMjU2Kk1hdGgucmFuZG9tKCl8MH07T2UuY3JlYXRlRGV2aWNlKCIvZGV2IiwicmFuZG9tIixlKSxPZS5jcmVhdGVEZXZpY2UoIi9kZXYiLCJ1cmFuZG9tIixlKSxPZS5ta2RpcigiL2Rldi9zaG0iKSxPZS5ta2RpcigiL2Rldi9zaG0vdG1wIil9LGNyZWF0ZVNwZWNpYWxEaXJlY3RvcmllczpmdW5jdGlvbigpe09lLm1rZGlyKCIvcHJvYyIpLE9lLm1rZGlyKCIvcHJvYy9zZWxmIiksT2UubWtkaXIoIi9wcm9jL3NlbGYvZmQiKSxPZS5tb3VudCh7bW91bnQ6ZnVuY3Rpb24oKXt2YXIgZT1PZS5jcmVhdGVOb2RlKCIvcHJvYy9zZWxmIiwiZmQiLDE2ODk1LDczKTtyZXR1cm4gZS5ub2RlX29wcz17bG9va3VwOmZ1bmN0aW9uKGUsdCl7dmFyIHI9K3Qsbj1PZS5nZXRTdHJlYW0ocik7aWYoIW4pdGhyb3cgbmV3IE9lLkVycm5vRXJyb3Iod2UuRUJBREYpO3ZhciBvPXtwYXJlbnQ6bnVsbCxtb3VudDp7bW91bnRwb2ludDoiZmFrZSJ9LG5vZGVfb3BzOntyZWFkbGluazpmdW5jdGlvbigpe3JldHVybiBuLnBhdGh9fX07cmV0dXJuIG8ucGFyZW50PW8sb319LGV9fSx7fSwiL3Byb2Mvc2VsZi9mZCIpfSxjcmVhdGVTdGFuZGFyZFN0cmVhbXM6ZnVuY3Rpb24oKXthLnN0ZGluP09lLmNyZWF0ZURldmljZSgiL2RldiIsInN0ZGluIixhLnN0ZGluKTpPZS5zeW1saW5rKCIvZGV2L3R0eSIsIi9kZXYvc3RkaW4iKSxhLnN0ZG91dD9PZS5jcmVhdGVEZXZpY2UoIi9kZXYiLCJzdGRvdXQiLG51bGwsYS5zdGRvdXQpOk9lLnN5bWxpbmsoIi9kZXYvdHR5IiwiL2Rldi9zdGRvdXQiKSxhLnN0ZGVycj9PZS5jcmVhdGVEZXZpY2UoIi9kZXYiLCJzdGRlcnIiLG51bGwsYS5zdGRlcnIpOk9lLnN5bWxpbmsoIi9kZXYvdHR5MSIsIi9kZXYvc3RkZXJyIik7dmFyIGU9T2Uub3BlbigiL2Rldi9zdGRpbiIsInIiKTt2KDA9PT1lLmZkLCJpbnZhbGlkIGhhbmRsZSBmb3Igc3RkaW4gKCIrZS5mZCsiKSIpO3ZhciB0PU9lLm9wZW4oIi9kZXYvc3Rkb3V0IiwidyIpO3YoMT09PXQuZmQsImludmFsaWQgaGFuZGxlIGZvciBzdGRvdXQgKCIrdC5mZCsiKSIpO3ZhciByPU9lLm9wZW4oIi9kZXYvc3RkZXJyIiwidyIpO3YoMj09PXIuZmQsImludmFsaWQgaGFuZGxlIGZvciBzdGRlcnIgKCIrci5mZCsiKSIpfSxlbnN1cmVFcnJub0Vycm9yOmZ1bmN0aW9uKCl7T2UuRXJybm9FcnJvcnx8KE9lLkVycm5vRXJyb3I9ZnVuY3Rpb24oZSx0KXt0aGlzLm5vZGU9dCx0aGlzLnNldEVycm5vPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiB0aGlzLmVycm5vPWUsd2UpaWYod2VbdF09PT1lKXt0aGlzLmNvZGU9dDticmVha319LHRoaXMuc2V0RXJybm8oZSksdGhpcy5tZXNzYWdlPWJlW2VdLHRoaXMuc3RhY2smJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCJzdGFjayIse3ZhbHVlOihuZXcgRXJyb3IpLnN0YWNrLHdyaXRhYmxlOiEwfSl9LE9lLkVycm5vRXJyb3IucHJvdG90eXBlPW5ldyBFcnJvcixPZS5FcnJub0Vycm9yLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1PZS5FcnJub0Vycm9yLFt3ZS5FTk9FTlRdLmZvckVhY2goKGZ1bmN0aW9uKGUpe09lLmdlbmVyaWNFcnJvcnNbZV09bmV3IE9lLkVycm5vRXJyb3IoZSksT2UuZ2VuZXJpY0Vycm9yc1tlXS5zdGFjaz0iPGdlbmVyaWMgZXJyb3IsIG5vIHN0YWNrPiJ9KSkpfSxzdGF0aWNJbml0OmZ1bmN0aW9uKCl7T2UuZW5zdXJlRXJybm9FcnJvcigpLE9lLm5hbWVUYWJsZT1uZXcgQXJyYXkoNDA5NiksT2UubW91bnQoU2Use30sIi8iKSxPZS5jcmVhdGVEZWZhdWx0RGlyZWN0b3JpZXMoKSxPZS5jcmVhdGVEZWZhdWx0RGV2aWNlcygpLE9lLmNyZWF0ZVNwZWNpYWxEaXJlY3RvcmllcygpLE9lLmZpbGVzeXN0ZW1zPXtNRU1GUzpTZSxJREJGUzprZSxOT0RFRlM6UGUsV09SS0VSRlM6RGV9fSxpbml0OmZ1bmN0aW9uKGUsdCxyKXt2KCFPZS5pbml0LmluaXRpYWxpemVkLCJGUy5pbml0IHdhcyBwcmV2aW91c2x5IGNhbGxlZC4gSWYgeW91IHdhbnQgdG8gaW5pdGlhbGl6ZSBsYXRlciB3aXRoIGN1c3RvbSBwYXJhbWV0ZXJzLCByZW1vdmUgYW55IGVhcmxpZXIgY2FsbHMgKG5vdGUgdGhhdCBvbmUgaXMgYXV0b21hdGljYWxseSBhZGRlZCB0byB0aGUgZ2VuZXJhdGVkIGNvZGUpIiksT2UuaW5pdC5pbml0aWFsaXplZD0hMCxPZS5lbnN1cmVFcnJub0Vycm9yKCksYS5zdGRpbj1lfHxhLnN0ZGluLGEuc3Rkb3V0PXR8fGEuc3Rkb3V0LGEuc3RkZXJyPXJ8fGEuc3RkZXJyLE9lLmNyZWF0ZVN0YW5kYXJkU3RyZWFtcygpfSxxdWl0OmZ1bmN0aW9uKCl7T2UuaW5pdC5pbml0aWFsaXplZD0hMTt2YXIgZT1hLl9mZmx1c2g7ZSYmZSgwKTtmb3IodmFyIHQ9MDt0PE9lLnN0cmVhbXMubGVuZ3RoO3QrKyl7dmFyIHI9T2Uuc3RyZWFtc1t0XTtyJiZPZS5jbG9zZShyKX19LGdldE1vZGU6ZnVuY3Rpb24oZSx0KXt2YXIgcj0wO3JldHVybiBlJiYocnw9MzY1KSx0JiYocnw9MTQ2KSxyfSxqb2luUGF0aDpmdW5jdGlvbihlLHQpe3ZhciByPUFlLmpvaW4uYXBwbHkobnVsbCxlKTtyZXR1cm4gdCYmIi8iPT1yWzBdJiYocj1yLnN1YnN0cigxKSkscn0sYWJzb2x1dGVQYXRoOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIEFlLnJlc29sdmUodCxlKX0sc3RhbmRhcmRpemVQYXRoOmZ1bmN0aW9uKGUpe3JldHVybiBBZS5ub3JtYWxpemUoZSl9LGZpbmRPYmplY3Q6ZnVuY3Rpb24oZSx0KXt2YXIgcj1PZS5hbmFseXplUGF0aChlLHQpO3JldHVybiByLmV4aXN0cz9yLm9iamVjdDooX2Uoci5lcnJvciksbnVsbCl9LGFuYWx5emVQYXRoOmZ1bmN0aW9uKGUsdCl7dHJ5e2U9KG49T2UubG9va3VwUGF0aChlLHtmb2xsb3c6IXR9KSkucGF0aH1jYXRjaChlKXt9dmFyIHI9e2lzUm9vdDohMSxleGlzdHM6ITEsZXJyb3I6MCxuYW1lOm51bGwscGF0aDpudWxsLG9iamVjdDpudWxsLHBhcmVudEV4aXN0czohMSxwYXJlbnRQYXRoOm51bGwscGFyZW50T2JqZWN0Om51bGx9O3RyeXt2YXIgbj1PZS5sb29rdXBQYXRoKGUse3BhcmVudDohMH0pO3IucGFyZW50RXhpc3RzPSEwLHIucGFyZW50UGF0aD1uLnBhdGgsci5wYXJlbnRPYmplY3Q9bi5ub2RlLHIubmFtZT1BZS5iYXNlbmFtZShlKSxuPU9lLmxvb2t1cFBhdGgoZSx7Zm9sbG93OiF0fSksci5leGlzdHM9ITAsci5wYXRoPW4ucGF0aCxyLm9iamVjdD1uLm5vZGUsci5uYW1lPW4ubm9kZS5uYW1lLHIuaXNSb290PSIvIj09PW4ucGF0aH1jYXRjaChlKXtyLmVycm9yPWUuZXJybm99cmV0dXJuIHJ9LGNyZWF0ZUZvbGRlcjpmdW5jdGlvbihlLHQscixuKXt2YXIgbz1BZS5qb2luMigic3RyaW5nIj09dHlwZW9mIGU/ZTpPZS5nZXRQYXRoKGUpLHQpLGk9T2UuZ2V0TW9kZShyLG4pO3JldHVybiBPZS5ta2RpcihvLGkpfSxjcmVhdGVQYXRoOmZ1bmN0aW9uKGUsdCxyLG4pe2U9InN0cmluZyI9PXR5cGVvZiBlP2U6T2UuZ2V0UGF0aChlKTtmb3IodmFyIG89dC5zcGxpdCgiLyIpLnJldmVyc2UoKTtvLmxlbmd0aDspe3ZhciBpPW8ucG9wKCk7aWYoaSl7dmFyIGE9QWUuam9pbjIoZSxpKTt0cnl7T2UubWtkaXIoYSl9Y2F0Y2goZSl7fWU9YX19cmV0dXJuIGF9LGNyZWF0ZUZpbGU6ZnVuY3Rpb24oZSx0LHIsbixvKXt2YXIgaT1BZS5qb2luMigic3RyaW5nIj09dHlwZW9mIGU/ZTpPZS5nZXRQYXRoKGUpLHQpLGE9T2UuZ2V0TW9kZShuLG8pO3JldHVybiBPZS5jcmVhdGUoaSxhKX0sY3JlYXRlRGF0YUZpbGU6ZnVuY3Rpb24oZSx0LHIsbixvLGkpe3ZhciBhPXQ/QWUuam9pbjIoInN0cmluZyI9PXR5cGVvZiBlP2U6T2UuZ2V0UGF0aChlKSx0KTplLHM9T2UuZ2V0TW9kZShuLG8pLHU9T2UuY3JlYXRlKGEscyk7aWYocil7aWYoInN0cmluZyI9PXR5cGVvZiByKXtmb3IodmFyIGM9bmV3IEFycmF5KHIubGVuZ3RoKSxsPTAsZj1yLmxlbmd0aDtsPGY7KytsKWNbbF09ci5jaGFyQ29kZUF0KGwpO3I9Y31PZS5jaG1vZCh1LDE0NnxzKTt2YXIgZD1PZS5vcGVuKHUsInciKTtPZS53cml0ZShkLHIsMCxyLmxlbmd0aCwwLGkpLE9lLmNsb3NlKGQpLE9lLmNobW9kKHUscyl9cmV0dXJuIHV9LGNyZWF0ZURldmljZTpmdW5jdGlvbihlLHQscixuKXt2YXIgbz1BZS5qb2luMigic3RyaW5nIj09dHlwZW9mIGU/ZTpPZS5nZXRQYXRoKGUpLHQpLGk9T2UuZ2V0TW9kZSghIXIsISFuKTtPZS5jcmVhdGVEZXZpY2UubWFqb3J8fChPZS5jcmVhdGVEZXZpY2UubWFqb3I9NjQpO3ZhciBhPU9lLm1ha2VkZXYoT2UuY3JlYXRlRGV2aWNlLm1ham9yKyssMCk7cmV0dXJuIE9lLnJlZ2lzdGVyRGV2aWNlKGEse29wZW46ZnVuY3Rpb24oZSl7ZS5zZWVrYWJsZT0hMX0sY2xvc2U6ZnVuY3Rpb24oZSl7biYmbi5idWZmZXImJm4uYnVmZmVyLmxlbmd0aCYmbigxMCl9LHJlYWQ6ZnVuY3Rpb24oZSx0LG4sbyxpKXtmb3IodmFyIGE9MCxzPTA7czxvO3MrKyl7dmFyIHU7dHJ5e3U9cigpfWNhdGNoKGUpe3Rocm93IG5ldyBPZS5FcnJub0Vycm9yKHdlLkVJTyl9aWYodm9pZCAwPT09dSYmMD09PWEpdGhyb3cgbmV3IE9lLkVycm5vRXJyb3Iod2UuRUFHQUlOKTtpZihudWxsPT11KWJyZWFrO2ErKyx0W24rc109dX1yZXR1cm4gYSYmKGUubm9kZS50aW1lc3RhbXA9RGF0ZS5ub3coKSksYX0sd3JpdGU6ZnVuY3Rpb24oZSx0LHIsbyxpKXtmb3IodmFyIGE9MDthPG87YSsrKXRyeXtuKHRbcithXSl9Y2F0Y2goZSl7dGhyb3cgbmV3IE9lLkVycm5vRXJyb3Iod2UuRUlPKX1yZXR1cm4gbyYmKGUubm9kZS50aW1lc3RhbXA9RGF0ZS5ub3coKSksYX19KSxPZS5ta2RldihvLGksYSl9LGNyZWF0ZUxpbms6ZnVuY3Rpb24oZSx0LHIsbixvKXt2YXIgaT1BZS5qb2luMigic3RyaW5nIj09dHlwZW9mIGU/ZTpPZS5nZXRQYXRoKGUpLHQpO3JldHVybiBPZS5zeW1saW5rKHIsaSl9LGZvcmNlTG9hZEZpbGU6ZnVuY3Rpb24oZSl7aWYoZS5pc0RldmljZXx8ZS5pc0ZvbGRlcnx8ZS5saW5rfHxlLmNvbnRlbnRzKXJldHVybiEwO3ZhciB0PSEwO2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgWE1MSHR0cFJlcXVlc3QpdGhyb3cgbmV3IEVycm9yKCJMYXp5IGxvYWRpbmcgc2hvdWxkIGhhdmUgYmVlbiBwZXJmb3JtZWQgKGNvbnRlbnRzIHNldCkgaW4gY3JlYXRlTGF6eUZpbGUsIGJ1dCBpdCB3YXMgbm90LiBMYXp5IGxvYWRpbmcgb25seSB3b3JrcyBpbiB3ZWIgd29ya2Vycy4gVXNlIC0tZW1iZWQtZmlsZSBvciAtLXByZWxvYWQtZmlsZSBpbiBlbWNjIG9uIHRoZSBtYWluIHRocmVhZC4iKTtpZighYS5yZWFkKXRocm93IG5ldyBFcnJvcigiQ2Fubm90IGxvYWQgd2l0aG91dCByZWFkKCkgb3IgWE1MSHR0cFJlcXVlc3QuIik7dHJ5e2UuY29udGVudHM9cXQoYS5yZWFkKGUudXJsKSwhMCksZS51c2VkQnl0ZXM9ZS5jb250ZW50cy5sZW5ndGh9Y2F0Y2goZSl7dD0hMX1yZXR1cm4gdHx8X2Uod2UuRUlPKSx0fSxjcmVhdGVMYXp5RmlsZTpmdW5jdGlvbihlLHQscixuLG8pe2Z1bmN0aW9uIGkoKXt0aGlzLmxlbmd0aEtub3duPSExLHRoaXMuY2h1bmtzPVtdfWlmKGkucHJvdG90eXBlLmdldD1mdW5jdGlvbihlKXtpZighKGU+dGhpcy5sZW5ndGgtMXx8ZTwwKSl7dmFyIHQ9ZSV0aGlzLmNodW5rU2l6ZSxyPWUvdGhpcy5jaHVua1NpemV8MDtyZXR1cm4gdGhpcy5nZXR0ZXIocilbdF19fSxpLnByb3RvdHlwZS5zZXREYXRhR2V0dGVyPWZ1bmN0aW9uKGUpe3RoaXMuZ2V0dGVyPWV9LGkucHJvdG90eXBlLmNhY2hlTGVuZ3RoPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IFhNTEh0dHBSZXF1ZXN0O2lmKGUub3BlbigiSEVBRCIsciwhMSksZS5zZW5kKG51bGwpLCEoZS5zdGF0dXM+PTIwMCYmZS5zdGF0dXM8MzAwfHwzMDQ9PT1lLnN0YXR1cykpdGhyb3cgbmV3IEVycm9yKCJDb3VsZG4ndCBsb2FkICIrcisiLiBTdGF0dXM6ICIrZS5zdGF0dXMpO3ZhciB0LG49TnVtYmVyKGUuZ2V0UmVzcG9uc2VIZWFkZXIoIkNvbnRlbnQtbGVuZ3RoIikpLG89KHQ9ZS5nZXRSZXNwb25zZUhlYWRlcigiQWNjZXB0LVJhbmdlcyIpKSYmImJ5dGVzIj09PXQsaT0odD1lLmdldFJlc3BvbnNlSGVhZGVyKCJDb250ZW50LUVuY29kaW5nIikpJiYiZ3ppcCI9PT10LGE9MTA0ODU3NjtvfHwoYT1uKTt2YXIgcz10aGlzO3Muc2V0RGF0YUdldHRlcigoZnVuY3Rpb24oZSl7dmFyIHQ9ZSphLG89KGUrMSkqYS0xO2lmKG89TWF0aC5taW4obyxuLTEpLHZvaWQgMD09PXMuY2h1bmtzW2VdJiYocy5jaHVua3NbZV09ZnVuY3Rpb24oZSx0KXtpZihlPnQpdGhyb3cgbmV3IEVycm9yKCJpbnZhbGlkIHJhbmdlICgiK2UrIiwgIit0KyIpIG9yIG5vIGJ5dGVzIHJlcXVlc3RlZCEiKTtpZih0Pm4tMSl0aHJvdyBuZXcgRXJyb3IoIm9ubHkgIituKyIgYnl0ZXMgYXZhaWxhYmxlISBwcm9ncmFtbWVyIGVycm9yISIpO3ZhciBvPW5ldyBYTUxIdHRwUmVxdWVzdDtpZihvLm9wZW4oIkdFVCIsciwhMSksbiE9PWEmJm8uc2V0UmVxdWVzdEhlYWRlcigiUmFuZ2UiLCJieXRlcz0iK2UrIi0iK3QpLCJ1bmRlZmluZWQiIT10eXBlb2YgVWludDhBcnJheSYmKG8ucmVzcG9uc2VUeXBlPSJhcnJheWJ1ZmZlciIpLG8ub3ZlcnJpZGVNaW1lVHlwZSYmby5vdmVycmlkZU1pbWVUeXBlKCJ0ZXh0L3BsYWluOyBjaGFyc2V0PXgtdXNlci1kZWZpbmVkIiksby5zZW5kKG51bGwpLCEoby5zdGF0dXM+PTIwMCYmby5zdGF0dXM8MzAwfHwzMDQ9PT1vLnN0YXR1cykpdGhyb3cgbmV3IEVycm9yKCJDb3VsZG4ndCBsb2FkICIrcisiLiBTdGF0dXM6ICIrby5zdGF0dXMpO3JldHVybiB2b2lkIDAhPT1vLnJlc3BvbnNlP25ldyBVaW50OEFycmF5KG8ucmVzcG9uc2V8fFtdKTpxdChvLnJlc3BvbnNlVGV4dHx8IiIsITApfSh0LG8pKSx2b2lkIDA9PT1zLmNodW5rc1tlXSl0aHJvdyBuZXcgRXJyb3IoImRvWEhSIGZhaWxlZCEiKTtyZXR1cm4gcy5jaHVua3NbZV19KSksIWkmJm58fChhPW49MSxuPXRoaXMuZ2V0dGVyKDApLmxlbmd0aCxhPW4sY29uc29sZS5sb2coIkxhenlGaWxlcyBvbiBnemlwIGZvcmNlcyBkb3dubG9hZCBvZiB0aGUgd2hvbGUgZmlsZSB3aGVuIGxlbmd0aCBpcyBhY2Nlc3NlZCIpKSx0aGlzLl9sZW5ndGg9bix0aGlzLl9jaHVua1NpemU9YSx0aGlzLmxlbmd0aEtub3duPSEwfSwidW5kZWZpbmVkIiE9dHlwZW9mIFhNTEh0dHBSZXF1ZXN0KXtpZighZil0aHJvdyJDYW5ub3QgZG8gc3luY2hyb25vdXMgYmluYXJ5IFhIUnMgb3V0c2lkZSB3ZWJ3b3JrZXJzIGluIG1vZGVybiBicm93c2Vycy4gVXNlIC0tZW1iZWQtZmlsZSBvciAtLXByZWxvYWQtZmlsZSBpbiBlbWNjIjt2YXIgYT1uZXcgaTtPYmplY3QuZGVmaW5lUHJvcGVydGllcyhhLHtsZW5ndGg6e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aEtub3dufHx0aGlzLmNhY2hlTGVuZ3RoKCksdGhpcy5fbGVuZ3RofX0sY2h1bmtTaXplOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZW5ndGhLbm93bnx8dGhpcy5jYWNoZUxlbmd0aCgpLHRoaXMuX2NodW5rU2l6ZX19fSk7dmFyIHM9e2lzRGV2aWNlOiExLGNvbnRlbnRzOmF9fWVsc2Ugcz17aXNEZXZpY2U6ITEsdXJsOnJ9O3ZhciB1PU9lLmNyZWF0ZUZpbGUoZSx0LHMsbixvKTtzLmNvbnRlbnRzP3UuY29udGVudHM9cy5jb250ZW50czpzLnVybCYmKHUuY29udGVudHM9bnVsbCx1LnVybD1zLnVybCksT2JqZWN0LmRlZmluZVByb3BlcnRpZXModSx7dXNlZEJ5dGVzOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZW50cy5sZW5ndGh9fX0pO3ZhciBjPXt9O3JldHVybiBPYmplY3Qua2V5cyh1LnN0cmVhbV9vcHMpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PXUuc3RyZWFtX29wc1tlXTtjW2VdPWZ1bmN0aW9uKCl7aWYoIU9lLmZvcmNlTG9hZEZpbGUodSkpdGhyb3cgbmV3IE9lLkVycm5vRXJyb3Iod2UuRUlPKTtyZXR1cm4gdC5hcHBseShudWxsLGFyZ3VtZW50cyl9fSkpLGMucmVhZD1mdW5jdGlvbihlLHQscixuLG8pe2lmKCFPZS5mb3JjZUxvYWRGaWxlKHUpKXRocm93IG5ldyBPZS5FcnJub0Vycm9yKHdlLkVJTyk7dmFyIGk9ZS5ub2RlLmNvbnRlbnRzO2lmKG8+PWkubGVuZ3RoKXJldHVybiAwO3ZhciBhPU1hdGgubWluKGkubGVuZ3RoLW8sbik7aWYodihhPj0wKSxpLnNsaWNlKWZvcih2YXIgcz0wO3M8YTtzKyspdFtyK3NdPWlbbytzXTtlbHNlIGZvcihzPTA7czxhO3MrKyl0W3Irc109aS5nZXQobytzKTtyZXR1cm4gYX0sdS5zdHJlYW1fb3BzPWMsdX0sY3JlYXRlUHJlbG9hZGVkRmlsZTpmdW5jdGlvbihlLHQscixuLG8saSxzLHUsYyxsKXtCcm93c2VyLmluaXQoKTt2YXIgZj10P0FlLnJlc29sdmUoQWUuam9pbjIoZSx0KSk6ZTtmdW5jdGlvbiBkKHIpe2Z1bmN0aW9uIGQocil7bCYmbCgpLHV8fE9lLmNyZWF0ZURhdGFGaWxlKGUsdCxyLG4sbyxjKSxpJiZpKCkscGUoKX12YXIgaD0hMTthLnByZWxvYWRQbHVnaW5zLmZvckVhY2goKGZ1bmN0aW9uKGUpe2h8fGUuY2FuSGFuZGxlKGYpJiYoZS5oYW5kbGUocixmLGQsKGZ1bmN0aW9uKCl7cyYmcygpLHBlKCl9KSksaD0hMCl9KSksaHx8ZChyKX1oZSgpLCJzdHJpbmciPT10eXBlb2Ygcj9Ccm93c2VyLmFzeW5jTG9hZChyLChmdW5jdGlvbihlKXtkKGUpfSkscyk6ZChyKX0saW5kZXhlZERCOmZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy5pbmRleGVkREJ8fHdpbmRvdy5tb3pJbmRleGVkREJ8fHdpbmRvdy53ZWJraXRJbmRleGVkREJ8fHdpbmRvdy5tc0luZGV4ZWREQn0sREJfTkFNRTpmdW5jdGlvbigpe3JldHVybiJFTV9GU18iK3dpbmRvdy5sb2NhdGlvbi5wYXRobmFtZX0sREJfVkVSU0lPTjoyMCxEQl9TVE9SRV9OQU1FOiJGSUxFX0RBVEEiLHNhdmVGaWxlc1RvREI6ZnVuY3Rpb24oZSx0LHIpe3Q9dHx8ZnVuY3Rpb24oKXt9LHI9cnx8ZnVuY3Rpb24oKXt9O3ZhciBuPU9lLmluZGV4ZWREQigpO3RyeXt2YXIgbz1uLm9wZW4oT2UuREJfTkFNRSgpLE9lLkRCX1ZFUlNJT04pfWNhdGNoKGUpe3JldHVybiByKGUpfW8ub251cGdyYWRlbmVlZGVkPWZ1bmN0aW9uKCl7Y29uc29sZS5sb2coImNyZWF0aW5nIGRiIiksby5yZXN1bHQuY3JlYXRlT2JqZWN0U3RvcmUoT2UuREJfU1RPUkVfTkFNRSl9LG8ub25zdWNjZXNzPWZ1bmN0aW9uKCl7dmFyIG49by5yZXN1bHQudHJhbnNhY3Rpb24oW09lLkRCX1NUT1JFX05BTUVdLCJyZWFkd3JpdGUiKSxpPW4ub2JqZWN0U3RvcmUoT2UuREJfU1RPUkVfTkFNRSksYT0wLHM9MCx1PWUubGVuZ3RoO2Z1bmN0aW9uIGMoKXswPT1zP3QoKTpyKCl9ZS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1pLnB1dChPZS5hbmFseXplUGF0aChlKS5vYmplY3QuY29udGVudHMsZSk7dC5vbnN1Y2Nlc3M9ZnVuY3Rpb24oKXsrK2Ercz09dSYmYygpfSx0Lm9uZXJyb3I9ZnVuY3Rpb24oKXtzKyssYStzPT11JiZjKCl9fSkpLG4ub25lcnJvcj1yfSxvLm9uZXJyb3I9cn0sbG9hZEZpbGVzRnJvbURCOmZ1bmN0aW9uKGUsdCxyKXt0PXR8fGZ1bmN0aW9uKCl7fSxyPXJ8fGZ1bmN0aW9uKCl7fTt2YXIgbj1PZS5pbmRleGVkREIoKTt0cnl7dmFyIG89bi5vcGVuKE9lLkRCX05BTUUoKSxPZS5EQl9WRVJTSU9OKX1jYXRjaChlKXtyZXR1cm4gcihlKX1vLm9udXBncmFkZW5lZWRlZD1yLG8ub25zdWNjZXNzPWZ1bmN0aW9uKCl7dmFyIG49by5yZXN1bHQ7dHJ5e3ZhciBpPW4udHJhbnNhY3Rpb24oW09lLkRCX1NUT1JFX05BTUVdLCJyZWFkb25seSIpfWNhdGNoKGUpe3JldHVybiB2b2lkIHIoZSl9dmFyIGE9aS5vYmplY3RTdG9yZShPZS5EQl9TVE9SRV9OQU1FKSxzPTAsdT0wLGM9ZS5sZW5ndGg7ZnVuY3Rpb24gbCgpezA9PXU/dCgpOnIoKX1lLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PWEuZ2V0KGUpO3Qub25zdWNjZXNzPWZ1bmN0aW9uKCl7T2UuYW5hbHl6ZVBhdGgoZSkuZXhpc3RzJiZPZS51bmxpbmsoZSksT2UuY3JlYXRlRGF0YUZpbGUoQWUuZGlybmFtZShlKSxBZS5iYXNlbmFtZShlKSx0LnJlc3VsdCwhMCwhMCwhMCksKytzK3U9PWMmJmwoKX0sdC5vbmVycm9yPWZ1bmN0aW9uKCl7dSsrLHMrdT09YyYmbCgpfX0pKSxpLm9uZXJyb3I9cn0sby5vbmVycm9yPXJ9fSxSZT17REVGQVVMVF9QT0xMTUFTSzo1LG1hcHBpbmdzOnt9LHVtYXNrOjUxMSxjYWxjdWxhdGVBdDpmdW5jdGlvbihlLHQpe2lmKCIvIiE9PXRbMF0pe3ZhciByO2lmKC0xMDA9PT1lKXI9T2UuY3dkKCk7ZWxzZXt2YXIgbj1PZS5nZXRTdHJlYW0oZSk7aWYoIW4pdGhyb3cgbmV3IE9lLkVycm5vRXJyb3Iod2UuRUJBREYpO3I9bi5wYXRofXQ9QWUuam9pbjIocix0KX1yZXR1cm4gdH0sZG9TdGF0OmZ1bmN0aW9uKGUsdCxyKXt0cnl7dmFyIG49ZSh0KX1jYXRjaChlKXtpZihlJiZlLm5vZGUmJkFlLm5vcm1hbGl6ZSh0KSE9PUFlLm5vcm1hbGl6ZShPZS5nZXRQYXRoKGUubm9kZSkpKXJldHVybi13ZS5FTk9URElSO3Rocm93IGV9cmV0dXJuIElbcj4+Ml09bi5kZXYsSVtyKzQ+PjJdPTAsSVtyKzg+PjJdPW4uaW5vLElbcisxMj4+Ml09bi5tb2RlLElbcisxNj4+Ml09bi5ubGluayxJW3IrMjA+PjJdPW4udWlkLElbcisyND4+Ml09bi5naWQsSVtyKzI4Pj4yXT1uLnJkZXYsSVtyKzMyPj4yXT0wLElbciszNj4+Ml09bi5zaXplLElbcis0MD4+Ml09NDA5NixJW3IrNDQ+PjJdPW4uYmxvY2tzLElbcis0OD4+Ml09bi5hdGltZS5nZXRUaW1lKCkvMWUzfDAsSVtyKzUyPj4yXT0wLElbcis1Nj4+Ml09bi5tdGltZS5nZXRUaW1lKCkvMWUzfDAsSVtyKzYwPj4yXT0wLElbcis2ND4+Ml09bi5jdGltZS5nZXRUaW1lKCkvMWUzfDAsSVtyKzY4Pj4yXT0wLElbcis3Mj4+Ml09bi5pbm8sMH0sZG9Nc3luYzpmdW5jdGlvbihlLHQscixuKXt2YXIgbz1uZXcgVWludDhBcnJheShOLnN1YmFycmF5KGUsZStyKSk7T2UubXN5bmModCxvLDAscixuKX0sZG9Na2RpcjpmdW5jdGlvbihlLHQpe3JldHVybiIvIj09PShlPUFlLm5vcm1hbGl6ZShlKSlbZS5sZW5ndGgtMV0mJihlPWUuc3Vic3RyKDAsZS5sZW5ndGgtMSkpLE9lLm1rZGlyKGUsdCwwKSwwfSxkb01rbm9kOmZ1bmN0aW9uKGUsdCxyKXtzd2l0Y2goNjE0NDAmdCl7Y2FzZSAzMjc2ODpjYXNlIDgxOTI6Y2FzZSAyNDU3NjpjYXNlIDQwOTY6Y2FzZSA0OTE1MjpicmVhaztkZWZhdWx0OnJldHVybi13ZS5FSU5WQUx9cmV0dXJuIE9lLm1rbm9kKGUsdCxyKSwwfSxkb1JlYWRsaW5rOmZ1bmN0aW9uKGUsdCxyKXtpZihyPD0wKXJldHVybi13ZS5FSU5WQUw7dmFyIG49T2UucmVhZGxpbmsoZSksbz1NYXRoLm1pbihyLFAobikpLGk9Q1t0K29dO3JldHVybiBrKG4sdCxyKzEpLENbdCtvXT1pLG99LGRvQWNjZXNzOmZ1bmN0aW9uKGUsdCl7aWYoLTgmdClyZXR1cm4td2UuRUlOVkFMO3ZhciByO3I9T2UubG9va3VwUGF0aChlLHtmb2xsb3c6ITB9KS5ub2RlO3ZhciBuPSIiO3JldHVybiA0JnQmJihuKz0iciIpLDImdCYmKG4rPSJ3IiksMSZ0JiYobis9IngiKSxuJiZPZS5ub2RlUGVybWlzc2lvbnMocixuKT8td2UuRUFDQ0VTOjB9LGRvRHVwOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1PZS5nZXRTdHJlYW0ocik7cmV0dXJuIG4mJk9lLmNsb3NlKG4pLE9lLm9wZW4oZSx0LDAscixyKS5mZH0sZG9SZWFkdjpmdW5jdGlvbihlLHQscixuKXtmb3IodmFyIG89MCxpPTA7aTxyO2krKyl7dmFyIGE9SVt0KzgqaT4+Ml0scz1JW3QrKDgqaSs0KT4+Ml0sdT1PZS5yZWFkKGUsQyxhLHMsbik7aWYodTwwKXJldHVybi0xO2lmKG8rPXUsdTxzKWJyZWFrfXJldHVybiBvfSxkb1dyaXRldjpmdW5jdGlvbihlLHQscixuKXtmb3IodmFyIG89MCxpPTA7aTxyO2krKyl7dmFyIGE9SVt0KzgqaT4+Ml0scz1JW3QrKDgqaSs0KT4+Ml0sdT1PZS53cml0ZShlLEMsYSxzLG4pO2lmKHU8MClyZXR1cm4tMTtvKz11fXJldHVybiBvfSx2YXJhcmdzOjAsZ2V0OmZ1bmN0aW9uKGUpe3JldHVybiBSZS52YXJhcmdzKz00LElbUmUudmFyYXJncy00Pj4yXX0sZ2V0U3RyOmZ1bmN0aW9uKCl7cmV0dXJuIF8oUmUuZ2V0KCkpfSxnZXRTdHJlYW1Gcm9tRkQ6ZnVuY3Rpb24oKXt2YXIgZT1PZS5nZXRTdHJlYW0oUmUuZ2V0KCkpO2lmKCFlKXRocm93IG5ldyBPZS5FcnJub0Vycm9yKHdlLkVCQURGKTtyZXR1cm4gZX0sZ2V0U29ja2V0RnJvbUZEOmZ1bmN0aW9uKCl7dmFyIGU9U09DS0ZTLmdldFNvY2tldChSZS5nZXQoKSk7aWYoIWUpdGhyb3cgbmV3IE9lLkVycm5vRXJyb3Iod2UuRUJBREYpO3JldHVybiBlfSxnZXRTb2NrZXRBZGRyZXNzOmZ1bmN0aW9uKGUpe3ZhciB0PVJlLmdldCgpLHI9UmUuZ2V0KCk7aWYoZSYmMD09PXQpcmV0dXJuIG51bGw7dmFyIG49X19yZWFkX3NvY2thZGRyKHQscik7aWYobi5lcnJubyl0aHJvdyBuZXcgT2UuRXJybm9FcnJvcihuLmVycm5vKTtyZXR1cm4gbi5hZGRyPUROUy5sb29rdXBfYWRkcihuLmFkZHIpfHxuLmFkZHIsbn0sZ2V0NjQ6ZnVuY3Rpb24oKXt2YXIgZT1SZS5nZXQoKSx0PVJlLmdldCgpO3JldHVybiB2KGU+PTA/MD09PXQ6LTE9PT10KSxlfSxnZXRaZXJvOmZ1bmN0aW9uKCl7digwPT09UmUuZ2V0KCkpfX0sQ2U9NDIsTmU9e307ZnVuY3Rpb24gRmUoZSl7Zm9yKDtlLmxlbmd0aDspe3ZhciB0PWUucG9wKCk7ZS5wb3AoKSh0KX19ZnVuY3Rpb24gTWUoZSl7cmV0dXJuIHRoaXMuZnJvbVdpcmVUeXBlKEJbZT4+Ml0pfXZhciBJZT17fSxCZT17fSxMZT17fTtmdW5jdGlvbiB4ZShlKXtpZih2b2lkIDA9PT1lKXJldHVybiJfdW5rbm93biI7dmFyIHQ9KGU9ZS5yZXBsYWNlKC9bXmEtekEtWjAtOV9dL2csIiQiKSkuY2hhckNvZGVBdCgwKTtyZXR1cm4gdD49NDgmJnQ8PTU3PyJfIitlOmV9ZnVuY3Rpb24gamUoZSx0KXtyZXR1cm4gZT14ZShlKSxuZXcgRnVuY3Rpb24oImJvZHkiLCJyZXR1cm4gZnVuY3Rpb24gIitlKycoKSB7XG4gICAgInVzZSBzdHJpY3QiOyAgICByZXR1cm4gYm9keS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbicpKHQpfWZ1bmN0aW9uIFVlKGUsdCl7dmFyIHI9amUodCwoZnVuY3Rpb24oZSl7dGhpcy5uYW1lPXQsdGhpcy5tZXNzYWdlPWU7dmFyIHI9bmV3IEVycm9yKGUpLnN0YWNrO3ZvaWQgMCE9PXImJih0aGlzLnN0YWNrPXRoaXMudG9TdHJpbmcoKSsiXG4iK3IucmVwbGFjZSgvXkVycm9yKDpbXlxuXSopP1xuLywiIikpfSkpO3JldHVybiByLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUucHJvdG90eXBlKSxyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1yLHIucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMD09PXRoaXMubWVzc2FnZT90aGlzLm5hbWU6dGhpcy5uYW1lKyI6ICIrdGhpcy5tZXNzYWdlfSxyfXZhciB6ZT12b2lkIDA7ZnVuY3Rpb24gJGUoZSl7dGhyb3cgbmV3IHplKGUpfWZ1bmN0aW9uIFdlKGUsdCxyKXtmdW5jdGlvbiBuKHQpe3ZhciBuPXIodCk7bi5sZW5ndGghPT1lLmxlbmd0aCYmJGUoIk1pc21hdGNoZWQgdHlwZSBjb252ZXJ0ZXIgY291bnQiKTtmb3IodmFyIG89MDtvPGUubGVuZ3RoOysrbylYZShlW29dLG5bb10pfWUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7TGVbZV09dH0pKTt2YXIgbz1uZXcgQXJyYXkodC5sZW5ndGgpLGk9W10sYT0wO3QuZm9yRWFjaCgoZnVuY3Rpb24oZSx0KXtCZS5oYXNPd25Qcm9wZXJ0eShlKT9vW3RdPUJlW2VdOihpLnB1c2goZSksSWUuaGFzT3duUHJvcGVydHkoZSl8fChJZVtlXT1bXSksSWVbZV0ucHVzaCgoZnVuY3Rpb24oKXtvW3RdPUJlW2VdLCsrYT09PWkubGVuZ3RoJiZuKG8pfSkpKX0pKSwwPT09aS5sZW5ndGgmJm4obyl9ZnVuY3Rpb24gWWUoZSl7c3dpdGNoKGUpe2Nhc2UgMTpyZXR1cm4gMDtjYXNlIDI6cmV0dXJuIDE7Y2FzZSA0OnJldHVybiAyO2Nhc2UgODpyZXR1cm4gMztkZWZhdWx0OnRocm93IG5ldyBUeXBlRXJyb3IoIlVua25vd24gdHlwZSBzaXplOiAiK2UpfX12YXIgVmU9dm9pZCAwO2Z1bmN0aW9uIEhlKGUpe2Zvcih2YXIgdD0iIixyPWU7TltyXTspdCs9VmVbTltyKytdXTtyZXR1cm4gdH12YXIgR2U9dm9pZCAwO2Z1bmN0aW9uIHFlKGUpe3Rocm93IG5ldyBHZShlKX1mdW5jdGlvbiBYZShlLHQscil7aWYocj1yfHx7fSwhKCJhcmdQYWNrQWR2YW5jZSJpbiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJyZWdpc3RlclR5cGUgcmVnaXN0ZXJlZEluc3RhbmNlIHJlcXVpcmVzIGFyZ1BhY2tBZHZhbmNlIik7dmFyIG49dC5uYW1lO2lmKGV8fHFlKCd0eXBlICInK24rJyIgbXVzdCBoYXZlIGEgcG9zaXRpdmUgaW50ZWdlciB0eXBlaWQgcG9pbnRlcicpLEJlLmhhc093blByb3BlcnR5KGUpKXtpZihyLmlnbm9yZUR1cGxpY2F0ZVJlZ2lzdHJhdGlvbnMpcmV0dXJuO3FlKCJDYW5ub3QgcmVnaXN0ZXIgdHlwZSAnIituKyInIHR3aWNlIil9aWYoQmVbZV09dCxkZWxldGUgTGVbZV0sSWUuaGFzT3duUHJvcGVydHkoZSkpe3ZhciBvPUllW2VdO2RlbGV0ZSBJZVtlXSxvLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UoKX0pKX19ZnVuY3Rpb24gS2UoZSl7aWYoISh0aGlzIGluc3RhbmNlb2YgaXQpKXJldHVybiExO2lmKCEoZSBpbnN0YW5jZW9mIGl0KSlyZXR1cm4hMTtmb3IodmFyIHQ9dGhpcy4kJC5wdHJUeXBlLnJlZ2lzdGVyZWRDbGFzcyxyPXRoaXMuJCQucHRyLG49ZS4kJC5wdHJUeXBlLnJlZ2lzdGVyZWRDbGFzcyxvPWUuJCQucHRyO3QuYmFzZUNsYXNzOylyPXQudXBjYXN0KHIpLHQ9dC5iYXNlQ2xhc3M7Zm9yKDtuLmJhc2VDbGFzczspbz1uLnVwY2FzdChvKSxuPW4uYmFzZUNsYXNzO3JldHVybiB0PT09biYmcj09PW99ZnVuY3Rpb24gSmUoZSl7cWUoZS4kJC5wdHJUeXBlLnJlZ2lzdGVyZWRDbGFzcy5uYW1lKyIgaW5zdGFuY2UgYWxyZWFkeSBkZWxldGVkIil9ZnVuY3Rpb24gWmUoKXtpZih0aGlzLiQkLnB0cnx8SmUodGhpcyksdGhpcy4kJC5wcmVzZXJ2ZVBvaW50ZXJPbkRlbGV0ZSlyZXR1cm4gdGhpcy4kJC5jb3VudC52YWx1ZSs9MSx0aGlzO3ZhciBlLHQ9T2JqZWN0LmNyZWF0ZShPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykseyQkOnt2YWx1ZTooZT10aGlzLiQkLHtjb3VudDplLmNvdW50LGRlbGV0ZVNjaGVkdWxlZDplLmRlbGV0ZVNjaGVkdWxlZCxwcmVzZXJ2ZVBvaW50ZXJPbkRlbGV0ZTplLnByZXNlcnZlUG9pbnRlck9uRGVsZXRlLHB0cjplLnB0cixwdHJUeXBlOmUucHRyVHlwZSxzbWFydFB0cjplLnNtYXJ0UHRyLHNtYXJ0UHRyVHlwZTplLnNtYXJ0UHRyVHlwZX0pfX0pO3JldHVybiB0LiQkLmNvdW50LnZhbHVlKz0xLHQuJCQuZGVsZXRlU2NoZWR1bGVkPSExLHR9ZnVuY3Rpb24gUWUoKXt2YXIgZTt0aGlzLiQkLnB0cnx8SmUodGhpcyksdGhpcy4kJC5kZWxldGVTY2hlZHVsZWQmJiF0aGlzLiQkLnByZXNlcnZlUG9pbnRlck9uRGVsZXRlJiZxZSgiT2JqZWN0IGFscmVhZHkgc2NoZWR1bGVkIGZvciBkZWxldGlvbiIpLHRoaXMuJCQuY291bnQudmFsdWUtPTEsMD09PXRoaXMuJCQuY291bnQudmFsdWUmJigoZT10aGlzLiQkKS5zbWFydFB0cj9lLnNtYXJ0UHRyVHlwZS5yYXdEZXN0cnVjdG9yKGUuc21hcnRQdHIpOmUucHRyVHlwZS5yZWdpc3RlcmVkQ2xhc3MucmF3RGVzdHJ1Y3RvcihlLnB0cikpLHRoaXMuJCQucHJlc2VydmVQb2ludGVyT25EZWxldGV8fCh0aGlzLiQkLnNtYXJ0UHRyPXZvaWQgMCx0aGlzLiQkLnB0cj12b2lkIDApfWZ1bmN0aW9uIGV0KCl7cmV0dXJuIXRoaXMuJCQucHRyfXZhciB0dD12b2lkIDAscnQ9W107ZnVuY3Rpb24gbnQoKXtmb3IoO3J0Lmxlbmd0aDspe3ZhciBlPXJ0LnBvcCgpO2UuJCQuZGVsZXRlU2NoZWR1bGVkPSExLGUuZGVsZXRlKCl9fWZ1bmN0aW9uIG90KCl7cmV0dXJuIHRoaXMuJCQucHRyfHxKZSh0aGlzKSx0aGlzLiQkLmRlbGV0ZVNjaGVkdWxlZCYmIXRoaXMuJCQucHJlc2VydmVQb2ludGVyT25EZWxldGUmJnFlKCJPYmplY3QgYWxyZWFkeSBzY2hlZHVsZWQgZm9yIGRlbGV0aW9uIikscnQucHVzaCh0aGlzKSwxPT09cnQubGVuZ3RoJiZ0dCYmdHQobnQpLHRoaXMuJCQuZGVsZXRlU2NoZWR1bGVkPSEwLHRoaXN9ZnVuY3Rpb24gaXQoKXt9dmFyIGF0PXt9O2Z1bmN0aW9uIHN0KGUsdCxyKXtpZih2b2lkIDA9PT1lW3RdLm92ZXJsb2FkVGFibGUpe3ZhciBuPWVbdF07ZVt0XT1mdW5jdGlvbigpe3JldHVybiBlW3RdLm92ZXJsb2FkVGFibGUuaGFzT3duUHJvcGVydHkoYXJndW1lbnRzLmxlbmd0aCl8fHFlKCJGdW5jdGlvbiAnIityKyInIGNhbGxlZCB3aXRoIGFuIGludmFsaWQgbnVtYmVyIG9mIGFyZ3VtZW50cyAoIithcmd1bWVudHMubGVuZ3RoKyIpIC0gZXhwZWN0cyBvbmUgb2YgKCIrZVt0XS5vdmVybG9hZFRhYmxlKyIpISIpLGVbdF0ub3ZlcmxvYWRUYWJsZVthcmd1bWVudHMubGVuZ3RoXS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGVbdF0ub3ZlcmxvYWRUYWJsZT1bXSxlW3RdLm92ZXJsb2FkVGFibGVbbi5hcmdDb3VudF09bn19ZnVuY3Rpb24gdXQoZSx0LHIsbixvLGksYSxzKXt0aGlzLm5hbWU9ZSx0aGlzLmNvbnN0cnVjdG9yPXQsdGhpcy5pbnN0YW5jZVByb3RvdHlwZT1yLHRoaXMucmF3RGVzdHJ1Y3Rvcj1uLHRoaXMuYmFzZUNsYXNzPW8sdGhpcy5nZXRBY3R1YWxUeXBlPWksdGhpcy51cGNhc3Q9YSx0aGlzLmRvd25jYXN0PXMsdGhpcy5wdXJlVmlydHVhbEZ1bmN0aW9ucz1bXX1mdW5jdGlvbiBjdChlLHQscil7Zm9yKDt0IT09cjspdC51cGNhc3R8fHFlKCJFeHBlY3RlZCBudWxsIG9yIGluc3RhbmNlIG9mICIrci5uYW1lKyIsIGdvdCBhbiBpbnN0YW5jZSBvZiAiK3QubmFtZSksZT10LnVwY2FzdChlKSx0PXQuYmFzZUNsYXNzO3JldHVybiBlfWZ1bmN0aW9uIGx0KGUsdCl7aWYobnVsbD09PXQpcmV0dXJuIHRoaXMuaXNSZWZlcmVuY2UmJnFlKCJudWxsIGlzIG5vdCBhIHZhbGlkICIrdGhpcy5uYW1lKSwwO3QuJCR8fHFlKCdDYW5ub3QgcGFzcyAiJytCdCh0KSsnIiBhcyBhICcrdGhpcy5uYW1lKSx0LiQkLnB0cnx8cWUoIkNhbm5vdCBwYXNzIGRlbGV0ZWQgb2JqZWN0IGFzIGEgcG9pbnRlciBvZiB0eXBlICIrdGhpcy5uYW1lKTt2YXIgcj10LiQkLnB0clR5cGUucmVnaXN0ZXJlZENsYXNzO3JldHVybiBjdCh0LiQkLnB0cixyLHRoaXMucmVnaXN0ZXJlZENsYXNzKX1mdW5jdGlvbiBmdChlLHQpe3ZhciByO2lmKG51bGw9PT10KXJldHVybiB0aGlzLmlzUmVmZXJlbmNlJiZxZSgibnVsbCBpcyBub3QgYSB2YWxpZCAiK3RoaXMubmFtZSksdGhpcy5pc1NtYXJ0UG9pbnRlcj8ocj10aGlzLnJhd0NvbnN0cnVjdG9yKCksbnVsbCE9PWUmJmUucHVzaCh0aGlzLnJhd0Rlc3RydWN0b3Iscikscik6MDt0LiQkfHxxZSgnQ2Fubm90IHBhc3MgIicrQnQodCkrJyIgYXMgYSAnK3RoaXMubmFtZSksdC4kJC5wdHJ8fHFlKCJDYW5ub3QgcGFzcyBkZWxldGVkIG9iamVjdCBhcyBhIHBvaW50ZXIgb2YgdHlwZSAiK3RoaXMubmFtZSksIXRoaXMuaXNDb25zdCYmdC4kJC5wdHJUeXBlLmlzQ29uc3QmJnFlKCJDYW5ub3QgY29udmVydCBhcmd1bWVudCBvZiB0eXBlICIrKHQuJCQuc21hcnRQdHJUeXBlP3QuJCQuc21hcnRQdHJUeXBlLm5hbWU6dC4kJC5wdHJUeXBlLm5hbWUpKyIgdG8gcGFyYW1ldGVyIHR5cGUgIit0aGlzLm5hbWUpO3ZhciBuPXQuJCQucHRyVHlwZS5yZWdpc3RlcmVkQ2xhc3M7aWYocj1jdCh0LiQkLnB0cixuLHRoaXMucmVnaXN0ZXJlZENsYXNzKSx0aGlzLmlzU21hcnRQb2ludGVyKXN3aXRjaCh2b2lkIDA9PT10LiQkLnNtYXJ0UHRyJiZxZSgiUGFzc2luZyByYXcgcG9pbnRlciB0byBzbWFydCBwb2ludGVyIGlzIGlsbGVnYWwiKSx0aGlzLnNoYXJpbmdQb2xpY3kpe2Nhc2UgMDp0LiQkLnNtYXJ0UHRyVHlwZT09PXRoaXM/cj10LiQkLnNtYXJ0UHRyOnFlKCJDYW5ub3QgY29udmVydCBhcmd1bWVudCBvZiB0eXBlICIrKHQuJCQuc21hcnRQdHJUeXBlP3QuJCQuc21hcnRQdHJUeXBlLm5hbWU6dC4kJC5wdHJUeXBlLm5hbWUpKyIgdG8gcGFyYW1ldGVyIHR5cGUgIit0aGlzLm5hbWUpO2JyZWFrO2Nhc2UgMTpyPXQuJCQuc21hcnRQdHI7YnJlYWs7Y2FzZSAyOmlmKHQuJCQuc21hcnRQdHJUeXBlPT09dGhpcylyPXQuJCQuc21hcnRQdHI7ZWxzZXt2YXIgbz10LmNsb25lKCk7cj10aGlzLnJhd1NoYXJlKHIsSXQoKGZ1bmN0aW9uKCl7by5kZWxldGUoKX0pKSksbnVsbCE9PWUmJmUucHVzaCh0aGlzLnJhd0Rlc3RydWN0b3Iscil9YnJlYWs7ZGVmYXVsdDpxZSgiVW5zdXBwb3J0aW5nIHNoYXJpbmcgcG9saWN5Iil9cmV0dXJuIHJ9ZnVuY3Rpb24gZHQoZSx0KXtpZihudWxsPT09dClyZXR1cm4gdGhpcy5pc1JlZmVyZW5jZSYmcWUoIm51bGwgaXMgbm90IGEgdmFsaWQgIit0aGlzLm5hbWUpLDA7dC4kJHx8cWUoJ0Nhbm5vdCBwYXNzICInK0J0KHQpKyciIGFzIGEgJyt0aGlzLm5hbWUpLHQuJCQucHRyfHxxZSgiQ2Fubm90IHBhc3MgZGVsZXRlZCBvYmplY3QgYXMgYSBwb2ludGVyIG9mIHR5cGUgIit0aGlzLm5hbWUpLHQuJCQucHRyVHlwZS5pc0NvbnN0JiZxZSgiQ2Fubm90IGNvbnZlcnQgYXJndW1lbnQgb2YgdHlwZSAiK3QuJCQucHRyVHlwZS5uYW1lKyIgdG8gcGFyYW1ldGVyIHR5cGUgIit0aGlzLm5hbWUpO3ZhciByPXQuJCQucHRyVHlwZS5yZWdpc3RlcmVkQ2xhc3M7cmV0dXJuIGN0KHQuJCQucHRyLHIsdGhpcy5yZWdpc3RlcmVkQ2xhc3MpfWZ1bmN0aW9uIGh0KGUpe3JldHVybiB0aGlzLnJhd0dldFBvaW50ZWUmJihlPXRoaXMucmF3R2V0UG9pbnRlZShlKSksZX1mdW5jdGlvbiBwdChlKXt0aGlzLnJhd0Rlc3RydWN0b3ImJnRoaXMucmF3RGVzdHJ1Y3RvcihlKX1mdW5jdGlvbiBtdChlKXtudWxsIT09ZSYmZS5kZWxldGUoKX1mdW5jdGlvbiB5dChlLHQscil7aWYodD09PXIpcmV0dXJuIGU7aWYodm9pZCAwPT09ci5iYXNlQ2xhc3MpcmV0dXJuIG51bGw7dmFyIG49eXQoZSx0LHIuYmFzZUNsYXNzKTtyZXR1cm4gbnVsbD09PW4/bnVsbDpyLmRvd25jYXN0KG4pfWZ1bmN0aW9uIEV0KCl7cmV0dXJuIE9iamVjdC5rZXlzKHd0KS5sZW5ndGh9ZnVuY3Rpb24gdnQoKXt2YXIgZT1bXTtmb3IodmFyIHQgaW4gd3Qpd3QuaGFzT3duUHJvcGVydHkodCkmJmUucHVzaCh3dFt0XSk7cmV0dXJuIGV9ZnVuY3Rpb24gZ3QoZSl7dHQ9ZSxydC5sZW5ndGgmJnR0JiZ0dChudCl9dmFyIHd0PXt9O2Z1bmN0aW9uIF90KGUsdCl7cmV0dXJuIHQ9ZnVuY3Rpb24oZSx0KXtmb3Iodm9pZCAwPT09dCYmcWUoInB0ciBzaG91bGQgbm90IGJlIHVuZGVmaW5lZCIpO2UuYmFzZUNsYXNzOyl0PWUudXBjYXN0KHQpLGU9ZS5iYXNlQ2xhc3M7cmV0dXJuIHR9KGUsdCksd3RbdF19ZnVuY3Rpb24gYnQoZSx0KXtyZXR1cm4gdC5wdHJUeXBlJiZ0LnB0cnx8JGUoIm1ha2VDbGFzc0hhbmRsZSByZXF1aXJlcyBwdHIgYW5kIHB0clR5cGUiKSwhIXQuc21hcnRQdHJUeXBlIT0hIXQuc21hcnRQdHImJiRlKCJCb3RoIHNtYXJ0UHRyVHlwZSBhbmQgc21hcnRQdHIgbXVzdCBiZSBzcGVjaWZpZWQiKSx0LmNvdW50PXt2YWx1ZToxfSxPYmplY3QuY3JlYXRlKGUseyQkOnt2YWx1ZTp0fX0pfWZ1bmN0aW9uIEF0KGUpe3ZhciB0PXRoaXMuZ2V0UG9pbnRlZShlKTtpZighdClyZXR1cm4gdGhpcy5kZXN0cnVjdG9yKGUpLG51bGw7dmFyIHI9X3QodGhpcy5yZWdpc3RlcmVkQ2xhc3MsdCk7aWYodm9pZCAwIT09cil7aWYoMD09PXIuJCQuY291bnQudmFsdWUpcmV0dXJuIHIuJCQucHRyPXQsci4kJC5zbWFydFB0cj1lLHIuY2xvbmUoKTt2YXIgbj1yLmNsb25lKCk7cmV0dXJuIHRoaXMuZGVzdHJ1Y3RvcihlKSxufWZ1bmN0aW9uIG8oKXtyZXR1cm4gdGhpcy5pc1NtYXJ0UG9pbnRlcj9idCh0aGlzLnJlZ2lzdGVyZWRDbGFzcy5pbnN0YW5jZVByb3RvdHlwZSx7cHRyVHlwZTp0aGlzLnBvaW50ZWVUeXBlLHB0cjp0LHNtYXJ0UHRyVHlwZTp0aGlzLHNtYXJ0UHRyOmV9KTpidCh0aGlzLnJlZ2lzdGVyZWRDbGFzcy5pbnN0YW5jZVByb3RvdHlwZSx7cHRyVHlwZTp0aGlzLHB0cjplfSl9dmFyIGksYT10aGlzLnJlZ2lzdGVyZWRDbGFzcy5nZXRBY3R1YWxUeXBlKHQpLHM9YXRbYV07aWYoIXMpcmV0dXJuIG8uY2FsbCh0aGlzKTtpPXRoaXMuaXNDb25zdD9zLmNvbnN0UG9pbnRlclR5cGU6cy5wb2ludGVyVHlwZTt2YXIgdT15dCh0LHRoaXMucmVnaXN0ZXJlZENsYXNzLGkucmVnaXN0ZXJlZENsYXNzKTtyZXR1cm4gbnVsbD09PXU/by5jYWxsKHRoaXMpOnRoaXMuaXNTbWFydFBvaW50ZXI/YnQoaS5yZWdpc3RlcmVkQ2xhc3MuaW5zdGFuY2VQcm90b3R5cGUse3B0clR5cGU6aSxwdHI6dSxzbWFydFB0clR5cGU6dGhpcyxzbWFydFB0cjplfSk6YnQoaS5yZWdpc3RlcmVkQ2xhc3MuaW5zdGFuY2VQcm90b3R5cGUse3B0clR5cGU6aSxwdHI6dX0pfWZ1bmN0aW9uIFR0KGUsdCxyLG4sbyxpLGEscyx1LGMsbCl7dGhpcy5uYW1lPWUsdGhpcy5yZWdpc3RlcmVkQ2xhc3M9dCx0aGlzLmlzUmVmZXJlbmNlPXIsdGhpcy5pc0NvbnN0PW4sdGhpcy5pc1NtYXJ0UG9pbnRlcj1vLHRoaXMucG9pbnRlZVR5cGU9aSx0aGlzLnNoYXJpbmdQb2xpY3k9YSx0aGlzLnJhd0dldFBvaW50ZWU9cyx0aGlzLnJhd0NvbnN0cnVjdG9yPXUsdGhpcy5yYXdTaGFyZT1jLHRoaXMucmF3RGVzdHJ1Y3Rvcj1sLG98fHZvaWQgMCE9PXQuYmFzZUNsYXNzP3RoaXMudG9XaXJlVHlwZT1mdDpuPyh0aGlzLnRvV2lyZVR5cGU9bHQsdGhpcy5kZXN0cnVjdG9yRnVuY3Rpb249bnVsbCk6KHRoaXMudG9XaXJlVHlwZT1kdCx0aGlzLmRlc3RydWN0b3JGdW5jdGlvbj1udWxsKX1mdW5jdGlvbiBTdChlLHQpe3ZhciByO2lmKGU9SGUoZSksdm9pZCAwIT09YVsiRlVOQ1RJT05fVEFCTEVfIitlXSlyPWFbIkZVTkNUSU9OX1RBQkxFXyIrZV1bdF07ZWxzZSBpZigidW5kZWZpbmVkIiE9dHlwZW9mIEZVTkNUSU9OX1RBQkxFKXI9RlVOQ1RJT05fVEFCTEVbdF07ZWxzZXt2YXIgbj1hLmFzbVsiZHluQ2FsbF8iK2VdO3ZvaWQgMD09PW4mJnZvaWQgMD09PShuPWEuYXNtWyJkeW5DYWxsXyIrZS5yZXBsYWNlKC9mL2csImQiKV0pJiZxZSgiTm8gZHluQ2FsbCBpbnZva2VyIGZvciBzaWduYXR1cmU6ICIrZSkscj1mdW5jdGlvbihyKXtmb3IodmFyIG49W10sbz0xO288ZS5sZW5ndGg7KytvKW4ucHVzaCgiYSIrbyk7dmFyIGk9InJldHVybiBmdW5jdGlvbiBkeW5DYWxsXyIrZSsiXyIrdCsiKCIrbi5qb2luKCIsICIpKyIpIHtcbiI7cmV0dXJuIGkrPSIgICAgcmV0dXJuIGR5bkNhbGwocmF3RnVuY3Rpb24iKyhuLmxlbmd0aD8iLCAiOiIiKStuLmpvaW4oIiwgIikrIik7XG4iLGkrPSJ9O1xuIixuZXcgRnVuY3Rpb24oImR5bkNhbGwiLCJyYXdGdW5jdGlvbiIsaSkocix0KX0obil9cmV0dXJuImZ1bmN0aW9uIiE9dHlwZW9mIHImJnFlKCJ1bmtub3duIGZ1bmN0aW9uIHBvaW50ZXIgd2l0aCBzaWduYXR1cmUgIitlKyI6ICIrdCkscn12YXIga3Q9dm9pZCAwO2Z1bmN0aW9uIFB0KGUpe3ZhciB0PWVyKGUpLHI9SGUodCk7cmV0dXJuIHJyKHQpLHJ9ZnVuY3Rpb24gRHQoZSx0KXt2YXIgcj1bXSxuPXt9O3Rocm93IHQuZm9yRWFjaCgoZnVuY3Rpb24gZSh0KXtuW3RdfHxCZVt0XXx8KExlW3RdP0xlW3RdLmZvckVhY2goZSk6KHIucHVzaCh0KSxuW3RdPSEwKSl9KSksbmV3IGt0KGUrIjogIityLm1hcChQdCkuam9pbihbIiwgIl0pKX1mdW5jdGlvbiBPdChlLHQpe2Zvcih2YXIgcj1bXSxuPTA7bjxlO24rKylyLnB1c2goSVsodD4+Mikrbl0pO3JldHVybiByfWZ1bmN0aW9uIFJ0KGUsdCxyLG4sbyl7dmFyIGk9dC5sZW5ndGg7aTwyJiZxZSgiYXJnVHlwZXMgYXJyYXkgc2l6ZSBtaXNtYXRjaCEgTXVzdCBhdCBsZWFzdCBnZXQgcmV0dXJuIHZhbHVlIGFuZCAndGhpcycgdHlwZXMhIik7Zm9yKHZhciBhPW51bGwhPT10WzFdJiZudWxsIT09cixzPSExLHU9MTt1PHQubGVuZ3RoOysrdSlpZihudWxsIT09dFt1XSYmdm9pZCAwPT09dFt1XS5kZXN0cnVjdG9yRnVuY3Rpb24pe3M9ITA7YnJlYWt9dmFyIGM9InZvaWQiIT09dFswXS5uYW1lLGw9IiIsZj0iIjtmb3IodT0wO3U8aS0yOysrdSlsKz0oMCE9PXU/IiwgIjoiIikrImFyZyIrdSxmKz0oMCE9PXU/IiwgIjoiIikrImFyZyIrdSsiV2lyZWQiO3ZhciBkPSJyZXR1cm4gZnVuY3Rpb24gIit4ZShlKSsiKCIrbCsiKSB7XG5pZiAoYXJndW1lbnRzLmxlbmd0aCAhPT0gIisoaS0yKSsiKSB7XG50aHJvd0JpbmRpbmdFcnJvcignZnVuY3Rpb24gIitlKyIgY2FsbGVkIHdpdGggJyArIGFyZ3VtZW50cy5sZW5ndGggKyAnIGFyZ3VtZW50cywgZXhwZWN0ZWQgIisoaS0yKSsiIGFyZ3MhJyk7XG59XG4iO3MmJihkKz0idmFyIGRlc3RydWN0b3JzID0gW107XG4iKTt2YXIgaD1zPyJkZXN0cnVjdG9ycyI6Im51bGwiLHA9WyJ0aHJvd0JpbmRpbmdFcnJvciIsImludm9rZXIiLCJmbiIsInJ1bkRlc3RydWN0b3JzIiwicmV0VHlwZSIsImNsYXNzUGFyYW0iXSxtPVtxZSxuLG8sRmUsdFswXSx0WzFdXTtmb3IoYSYmKGQrPSJ2YXIgdGhpc1dpcmVkID0gY2xhc3NQYXJhbS50b1dpcmVUeXBlKCIraCsiLCB0aGlzKTtcbiIpLHU9MDt1PGktMjsrK3UpZCs9InZhciBhcmciK3UrIldpcmVkID0gYXJnVHlwZSIrdSsiLnRvV2lyZVR5cGUoIitoKyIsIGFyZyIrdSsiKTsgLy8gIit0W3UrMl0ubmFtZSsiXG4iLHAucHVzaCgiYXJnVHlwZSIrdSksbS5wdXNoKHRbdSsyXSk7aWYoYSYmKGY9InRoaXNXaXJlZCIrKGYubGVuZ3RoPjA/IiwgIjoiIikrZiksZCs9KGM/InZhciBydiA9ICI6IiIpKyJpbnZva2VyKGZuIisoZi5sZW5ndGg+MD8iLCAiOiIiKStmKyIpO1xuIixzKWQrPSJydW5EZXN0cnVjdG9ycyhkZXN0cnVjdG9ycyk7XG4iO2Vsc2UgZm9yKHU9YT8xOjI7dTx0Lmxlbmd0aDsrK3Upe3ZhciB5PTE9PT11PyJ0aGlzV2lyZWQiOiJhcmciKyh1LTIpKyJXaXJlZCI7bnVsbCE9PXRbdV0uZGVzdHJ1Y3RvckZ1bmN0aW9uJiYoZCs9eSsiX2R0b3IoIit5KyIpOyAvLyAiK3RbdV0ubmFtZSsiXG4iLHAucHVzaCh5KyJfZHRvciIpLG0ucHVzaCh0W3VdLmRlc3RydWN0b3JGdW5jdGlvbikpfXJldHVybiBjJiYoZCs9InZhciByZXQgPSByZXRUeXBlLmZyb21XaXJlVHlwZShydik7XG5yZXR1cm4gcmV0O1xuIiksZCs9In1cbiIscC5wdXNoKGQpLGZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgRnVuY3Rpb24pKXRocm93IG5ldyBUeXBlRXJyb3IoIm5ld18gY2FsbGVkIHdpdGggY29uc3RydWN0b3IgdHlwZSAiK3R5cGVvZiBlKyIgd2hpY2ggaXMgbm90IGEgZnVuY3Rpb24iKTt2YXIgcj1qZShlLm5hbWV8fCJ1bmtub3duRnVuY3Rpb25OYW1lIiwoZnVuY3Rpb24oKXt9KSk7ci5wcm90b3R5cGU9ZS5wcm90b3R5cGU7dmFyIG49bmV3IHIsbz1lLmFwcGx5KG4sdCk7cmV0dXJuIG8gaW5zdGFuY2VvZiBPYmplY3Q/bzpufShGdW5jdGlvbixwKS5hcHBseShudWxsLG0pfXZhciBDdD1bXSxOdD1be30se3ZhbHVlOnZvaWQgMH0se3ZhbHVlOm51bGx9LHt2YWx1ZTohMH0se3ZhbHVlOiExfV07ZnVuY3Rpb24gRnQoKXtmb3IodmFyIGU9MCx0PTU7dDxOdC5sZW5ndGg7Kyt0KXZvaWQgMCE9PU50W3RdJiYrK2U7cmV0dXJuIGV9ZnVuY3Rpb24gTXQoKXtmb3IodmFyIGU9NTtlPE50Lmxlbmd0aDsrK2UpaWYodm9pZCAwIT09TnRbZV0pcmV0dXJuIE50W2VdO3JldHVybiBudWxsfWZ1bmN0aW9uIEl0KGUpe3N3aXRjaChlKXtjYXNlIHZvaWQgMDpyZXR1cm4gMTtjYXNlIG51bGw6cmV0dXJuIDI7Y2FzZSEwOnJldHVybiAzO2Nhc2UhMTpyZXR1cm4gNDtkZWZhdWx0OnZhciB0PUN0Lmxlbmd0aD9DdC5wb3AoKTpOdC5sZW5ndGg7cmV0dXJuIE50W3RdPXtyZWZjb3VudDoxLHZhbHVlOmV9LHR9fWZ1bmN0aW9uIEJ0KGUpe2lmKG51bGw9PT1lKXJldHVybiJudWxsIjt2YXIgdD10eXBlb2YgZTtyZXR1cm4ib2JqZWN0Ij09PXR8fCJhcnJheSI9PT10fHwiZnVuY3Rpb24iPT09dD9lLnRvU3RyaW5nKCk6IiIrZX1mdW5jdGlvbiBMdChlLHQpe3N3aXRjaCh0KXtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmZyb21XaXJlVHlwZShMW2U+PjJdKX07Y2FzZSAzOnJldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5mcm9tV2lyZVR5cGUoeFtlPj4zXSl9O2RlZmF1bHQ6dGhyb3cgbmV3IFR5cGVFcnJvcigiVW5rbm93biBmbG9hdCB0eXBlOiAiK2UpfX1mdW5jdGlvbiB4dChlLHQscil7c3dpdGNoKHQpe2Nhc2UgMDpyZXR1cm4gcj9mdW5jdGlvbihlKXtyZXR1cm4gQ1tlXX06ZnVuY3Rpb24oZSl7cmV0dXJuIE5bZV19O2Nhc2UgMTpyZXR1cm4gcj9mdW5jdGlvbihlKXtyZXR1cm4gRltlPj4xXX06ZnVuY3Rpb24oZSl7cmV0dXJuIE1bZT4+MV19O2Nhc2UgMjpyZXR1cm4gcj9mdW5jdGlvbihlKXtyZXR1cm4gSVtlPj4yXX06ZnVuY3Rpb24oZSl7cmV0dXJuIEJbZT4+Ml19O2RlZmF1bHQ6dGhyb3cgbmV3IFR5cGVFcnJvcigiVW5rbm93biBpbnRlZ2VyIHR5cGU6ICIrZSl9fXZhciBqdD1qKz0xNixVdD17fSx6dD1qKz0xNjtqKz00OCx3KHF0KCJHTVQiKSwiaTgiLDIpO3ZhciAkdD1qLFd0PWorPTE2LFl0PWorPTE2O2Z1bmN0aW9uIFZ0KCl7aWYoIVZ0LmNhbGxlZCl7VnQuY2FsbGVkPSEwLElbWXQ+PjJdPTYwKihuZXcgRGF0ZSkuZ2V0VGltZXpvbmVPZmZzZXQoKTt2YXIgZT1uZXcgRGF0ZSgyZTMsMCwxKSx0PW5ldyBEYXRlKDJlMyw2LDEpO0lbV3Q+PjJdPU51bWJlcihlLmdldFRpbWV6b25lT2Zmc2V0KCkhPXQuZ2V0VGltZXpvbmVPZmZzZXQoKSk7dmFyIHI9YShlKSxuPWEodCksbz13KHF0KHIpLCJpOCIsMCksaT13KHF0KG4pLCJpOCIsMCk7dC5nZXRUaW1lem9uZU9mZnNldCgpPGUuZ2V0VGltZXpvbmVPZmZzZXQoKT8oSVskdD4+Ml09byxJWyR0KzQ+PjJdPWkpOihJWyR0Pj4yXT1pLElbJHQrND4+Ml09byl9ZnVuY3Rpb24gYShlKXt2YXIgdD1lLnRvVGltZVN0cmluZygpLm1hdGNoKC9cKChbQS1aYS16IF0rKVwpJC8pO3JldHVybiB0P3RbMV06IkdNVCJ9fWorPTE2O3ZhciBIdD17fSxHdD0xO2Z1bmN0aW9uIHF0KGUsdCxyKXt2YXIgbj1yPjA/cjpQKGUpKzEsbz1uZXcgQXJyYXkobiksaT1TKGUsbywwLG8ubGVuZ3RoKTtyZXR1cm4gdCYmKG8ubGVuZ3RoPWkpLG99T2Uuc3RhdGljSW5pdCgpLHRlLnVuc2hpZnQoKGZ1bmN0aW9uKCl7YS5ub0ZTSW5pdHx8T2UuaW5pdC5pbml0aWFsaXplZHx8T2UuaW5pdCgpfSkpLHJlLnB1c2goKGZ1bmN0aW9uKCl7T2UuaWdub3JlUGVybWlzc2lvbnM9ITF9KSksbmUucHVzaCgoZnVuY3Rpb24oKXtPZS5xdWl0KCl9KSksdGUudW5zaGlmdCgoZnVuY3Rpb24oKXtUZS5pbml0KCl9KSksbmUucHVzaCgoZnVuY3Rpb24oKXtUZS5zaHV0ZG93bigpfSkpLHplPWEuSW50ZXJuYWxFcnJvcj1VZShFcnJvciwiSW50ZXJuYWxFcnJvciIpLGZ1bmN0aW9uKCl7Zm9yKHZhciBlPW5ldyBBcnJheSgyNTYpLHQ9MDt0PDI1NjsrK3QpZVt0XT1TdHJpbmcuZnJvbUNoYXJDb2RlKHQpO1ZlPWV9KCksR2U9YS5CaW5kaW5nRXJyb3I9VWUoRXJyb3IsIkJpbmRpbmdFcnJvciIpLGl0LnByb3RvdHlwZS5pc0FsaWFzT2Y9S2UsaXQucHJvdG90eXBlLmNsb25lPVplLGl0LnByb3RvdHlwZS5kZWxldGU9UWUsaXQucHJvdG90eXBlLmlzRGVsZXRlZD1ldCxpdC5wcm90b3R5cGUuZGVsZXRlTGF0ZXI9b3QsVHQucHJvdG90eXBlLmdldFBvaW50ZWU9aHQsVHQucHJvdG90eXBlLmRlc3RydWN0b3I9cHQsVHQucHJvdG90eXBlLmFyZ1BhY2tBZHZhbmNlPTgsVHQucHJvdG90eXBlLnJlYWRWYWx1ZUZyb21Qb2ludGVyPU1lLFR0LnByb3RvdHlwZS5kZWxldGVPYmplY3Q9bXQsVHQucHJvdG90eXBlLmZyb21XaXJlVHlwZT1BdCxhLmdldEluaGVyaXRlZEluc3RhbmNlQ291bnQ9RXQsYS5nZXRMaXZlSW5oZXJpdGVkSW5zdGFuY2VzPXZ0LGEuZmx1c2hQZW5kaW5nRGVsZXRlcz1udCxhLnNldERlbGF5RnVuY3Rpb249Z3Qsa3Q9YS5VbmJvdW5kVHlwZUVycm9yPVVlKEVycm9yLCJVbmJvdW5kVHlwZUVycm9yIiksYS5jb3VudF9lbXZhbF9oYW5kbGVzPUZ0LGEuZ2V0X2ZpcnN0X2VtdmFsPU10LGZ1bmN0aW9uIGUodCl7dmFyIHIsbjtlLmNhbGxlZD8obj1JW2p0Pj4yXSxyPUlbbj4+Ml0pOihlLmNhbGxlZD0hMCxVdC5VU0VSPVV0LkxPR05BTUU9IndlYl91c2VyIixVdC5QQVRIPSIvIixVdC5QV0Q9Ii8iLFV0LkhPTUU9Ii9ob21lL3dlYl91c2VyIixVdC5MQU5HPSJDLlVURi04IixVdC5fPWEudGhpc1Byb2dyYW0scj1oKDEwMjQpLG49aCgyNTYpLElbbj4+Ml09cixJW2p0Pj4yXT1uKTt2YXIgbz1bXSxpPTA7Zm9yKHZhciBzIGluIHQpaWYoInN0cmluZyI9PXR5cGVvZiB0W3NdKXt2YXIgdT1zKyI9Iit0W3NdO28ucHVzaCh1KSxpKz11Lmxlbmd0aH1pZihpPjEwMjQpdGhyb3cgbmV3IEVycm9yKCJFbnZpcm9ubWVudCBzaXplIGV4Y2VlZGVkIFRPVEFMX0VOVl9TSVpFISIpO2Zvcih2YXIgYz0wO2M8by5sZW5ndGg7YysrKWFlKHU9b1tjXSxyKSxJW24rNCpjPj4yXT1yLHIrPXUubGVuZ3RoKzE7SVtuKzQqby5sZW5ndGg+PjJdPTB9KFV0KSxZPWgoNCksej0kPW0oaiksVz1tKHorSiksSVtZPj4yXT1XLFU9ITAsYS53YXNtVGFibGVTaXplPTMxNixhLndhc21NYXhUYWJsZVNpemU9MzE2LGEuYXNtR2xvYmFsQXJnPXt9LGEuYXNtTGlicmFyeUFyZz17YWJvcnQ6dXIsZW5sYXJnZU1lbW9yeTpLLGdldFRvdGFsTWVtb3J5OmZ1bmN0aW9uKCl7cmV0dXJuIFp9LGFib3J0T25DYW5ub3RHcm93TWVtb3J5OmZ1bmN0aW9uKCl7dXIoIkNhbm5vdCBlbmxhcmdlIG1lbW9yeSBhcnJheXMuIEVpdGhlciAoMSkgY29tcGlsZSB3aXRoICAtcyBUT1RBTF9NRU1PUlk9WCAgd2l0aCBYIGhpZ2hlciB0aGFuIHRoZSBjdXJyZW50IHZhbHVlICIrWisiLCAoMikgY29tcGlsZSB3aXRoICAtcyBBTExPV19NRU1PUllfR1JPV1RIPTEgIHdoaWNoIGFsbG93cyBpbmNyZWFzaW5nIHRoZSBzaXplIGF0IHJ1bnRpbWUsIG9yICgzKSBpZiB5b3Ugd2FudCBtYWxsb2MgdG8gcmV0dXJuIE5VTEwgKDApIGluc3RlYWQgb2YgdGhpcyBhYm9ydCwgY29tcGlsZSB3aXRoICAtcyBBQk9SVElOR19NQUxMT0M9MCAiKX0saW52b2tlX2k6ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBhLmR5bkNhbGxfaShlKX1jYXRjaChlKXtpZigibnVtYmVyIiE9dHlwZW9mIGUmJiJsb25nam1wIiE9PWUpdGhyb3cgZTthLnNldFRocmV3KDEsMCl9fSxpbnZva2VfaWk6ZnVuY3Rpb24oZSx0KXt0cnl7cmV0dXJuIGEuZHluQ2FsbF9paShlLHQpfWNhdGNoKGUpe2lmKCJudW1iZXIiIT10eXBlb2YgZSYmImxvbmdqbXAiIT09ZSl0aHJvdyBlO2Euc2V0VGhyZXcoMSwwKX19LGludm9rZV9paWk6ZnVuY3Rpb24oZSx0LHIpe3RyeXtyZXR1cm4gYS5keW5DYWxsX2lpaShlLHQscil9Y2F0Y2goZSl7aWYoIm51bWJlciIhPXR5cGVvZiBlJiYibG9uZ2ptcCIhPT1lKXRocm93IGU7YS5zZXRUaHJldygxLDApfX0saW52b2tlX2lpaWk6ZnVuY3Rpb24oZSx0LHIsbil7dHJ5e3JldHVybiBhLmR5bkNhbGxfaWlpaShlLHQscixuKX1jYXRjaChlKXtpZigibnVtYmVyIiE9dHlwZW9mIGUmJiJsb25nam1wIiE9PWUpdGhyb3cgZTthLnNldFRocmV3KDEsMCl9fSxpbnZva2VfaWlpaWk6ZnVuY3Rpb24oZSx0LHIsbixvKXt0cnl7cmV0dXJuIGEuZHluQ2FsbF9paWlpaShlLHQscixuLG8pfWNhdGNoKGUpe2lmKCJudW1iZXIiIT10eXBlb2YgZSYmImxvbmdqbXAiIT09ZSl0aHJvdyBlO2Euc2V0VGhyZXcoMSwwKX19LGludm9rZV9paWlpaWlpOmZ1bmN0aW9uKGUsdCxyLG4sbyxpLHMpe3RyeXtyZXR1cm4gYS5keW5DYWxsX2lpaWlpaWkoZSx0LHIsbixvLGkscyl9Y2F0Y2goZSl7aWYoIm51bWJlciIhPXR5cGVvZiBlJiYibG9uZ2ptcCIhPT1lKXRocm93IGU7YS5zZXRUaHJldygxLDApfX0saW52b2tlX2lpaWlpaWlpaWk6ZnVuY3Rpb24oZSx0LHIsbixvLGkscyx1LGMsbCl7dHJ5e3JldHVybiBhLmR5bkNhbGxfaWlpaWlpaWlpaShlLHQscixuLG8saSxzLHUsYyxsKX1jYXRjaChlKXtpZigibnVtYmVyIiE9dHlwZW9mIGUmJiJsb25nam1wIiE9PWUpdGhyb3cgZTthLnNldFRocmV3KDEsMCl9fSxpbnZva2VfaWlpaWlpamlpOmZ1bmN0aW9uKGUsdCxyLG4sbyxpLHMsdSxjLGwpe3RyeXtyZXR1cm4gYS5keW5DYWxsX2lpaWlpaWppaShlLHQscixuLG8saSxzLHUsYyxsKX1jYXRjaChlKXtpZigibnVtYmVyIiE9dHlwZW9mIGUmJiJsb25nam1wIiE9PWUpdGhyb3cgZTthLnNldFRocmV3KDEsMCl9fSxpbnZva2VfaWpqOmZ1bmN0aW9uKGUsdCxyLG4sbyl7dHJ5e3JldHVybiBhLmR5bkNhbGxfaWpqKGUsdCxyLG4sbyl9Y2F0Y2goZSl7aWYoIm51bWJlciIhPXR5cGVvZiBlJiYibG9uZ2ptcCIhPT1lKXRocm93IGU7YS5zZXRUaHJldygxLDApfX0saW52b2tlX2ppOmZ1bmN0aW9uKGUsdCl7dHJ5e3JldHVybiBhLmR5bkNhbGxfamkoZSx0KX1jYXRjaChlKXtpZigibnVtYmVyIiE9dHlwZW9mIGUmJiJsb25nam1wIiE9PWUpdGhyb3cgZTthLnNldFRocmV3KDEsMCl9fSxpbnZva2VfdjpmdW5jdGlvbihlKXt0cnl7YS5keW5DYWxsX3YoZSl9Y2F0Y2goZSl7aWYoIm51bWJlciIhPXR5cGVvZiBlJiYibG9uZ2ptcCIhPT1lKXRocm93IGU7YS5zZXRUaHJldygxLDApfX0saW52b2tlX3ZpOmZ1bmN0aW9uKGUsdCl7dHJ5e2EuZHluQ2FsbF92aShlLHQpfWNhdGNoKGUpe2lmKCJudW1iZXIiIT10eXBlb2YgZSYmImxvbmdqbXAiIT09ZSl0aHJvdyBlO2Euc2V0VGhyZXcoMSwwKX19LGludm9rZV92aWk6ZnVuY3Rpb24oZSx0LHIpe3RyeXthLmR5bkNhbGxfdmlpKGUsdCxyKX1jYXRjaChlKXtpZigibnVtYmVyIiE9dHlwZW9mIGUmJiJsb25nam1wIiE9PWUpdGhyb3cgZTthLnNldFRocmV3KDEsMCl9fSxpbnZva2VfdmlpaTpmdW5jdGlvbihlLHQscixuKXt0cnl7YS5keW5DYWxsX3ZpaWkoZSx0LHIsbil9Y2F0Y2goZSl7aWYoIm51bWJlciIhPXR5cGVvZiBlJiYibG9uZ2ptcCIhPT1lKXRocm93IGU7YS5zZXRUaHJldygxLDApfX0saW52b2tlX3ZpaWlpOmZ1bmN0aW9uKGUsdCxyLG4sbyl7dHJ5e2EuZHluQ2FsbF92aWlpaShlLHQscixuLG8pfWNhdGNoKGUpe2lmKCJudW1iZXIiIT10eXBlb2YgZSYmImxvbmdqbXAiIT09ZSl0aHJvdyBlO2Euc2V0VGhyZXcoMSwwKX19LGludm9rZV92aWlpaWk6ZnVuY3Rpb24oZSx0LHIsbixvLGkpe3RyeXthLmR5bkNhbGxfdmlpaWlpKGUsdCxyLG4sbyxpKX1jYXRjaChlKXtpZigibnVtYmVyIiE9dHlwZW9mIGUmJiJsb25nam1wIiE9PWUpdGhyb3cgZTthLnNldFRocmV3KDEsMCl9fSxpbnZva2VfdmlpaWlpaTpmdW5jdGlvbihlLHQscixuLG8saSxzKXt0cnl7YS5keW5DYWxsX3ZpaWlpaWkoZSx0LHIsbixvLGkscyl9Y2F0Y2goZSl7aWYoIm51bWJlciIhPXR5cGVvZiBlJiYibG9uZ2ptcCIhPT1lKXRocm93IGU7YS5zZXRUaHJldygxLDApfX0saW52b2tlX3ZpaWlpaWlpaWk6ZnVuY3Rpb24oZSx0LHIsbixvLGkscyx1LGMsbCl7dHJ5e2EuZHluQ2FsbF92aWlpaWlpaWlpKGUsdCxyLG4sbyxpLHMsdSxjLGwpfWNhdGNoKGUpe2lmKCJudW1iZXIiIT10eXBlb2YgZSYmImxvbmdqbXAiIT09ZSl0aHJvdyBlO2Euc2V0VGhyZXcoMSwwKX19LGludm9rZV92aWlpaWlpaWlpaTpmdW5jdGlvbihlLHQscixuLG8saSxzLHUsYyxsLGYpe3RyeXthLmR5bkNhbGxfdmlpaWlpaWlpaWkoZSx0LHIsbixvLGkscyx1LGMsbCxmKX1jYXRjaChlKXtpZigibnVtYmVyIiE9dHlwZW9mIGUmJiJsb25nam1wIiE9PWUpdGhyb3cgZTthLnNldFRocmV3KDEsMCl9fSxpbnZva2VfdmlqOmZ1bmN0aW9uKGUsdCxyLG4pe3RyeXthLmR5bkNhbGxfdmlqKGUsdCxyLG4pfWNhdGNoKGUpe2lmKCJudW1iZXIiIT10eXBlb2YgZSYmImxvbmdqbXAiIT09ZSl0aHJvdyBlO2Euc2V0VGhyZXcoMSwwKX19LGludm9rZV92aWppOmZ1bmN0aW9uKGUsdCxyLG4sbyl7dHJ5e2EuZHluQ2FsbF92aWppKGUsdCxyLG4sbyl9Y2F0Y2goZSl7aWYoIm51bWJlciIhPXR5cGVvZiBlJiYibG9uZ2ptcCIhPT1lKXRocm93IGU7YS5zZXRUaHJldygxLDApfX0sX19fY3hhX2FsbG9jYXRlX2V4Y2VwdGlvbjpmdW5jdGlvbihlKXtyZXR1cm4gbnIoZSl9LF9fX2N4YV9iZWdpbl9jYXRjaDpmdW5jdGlvbihlKXt2YXIgdD1FZS5pbmZvc1tlXTtyZXR1cm4gdCYmIXQuY2F1Z2h0JiYodC5jYXVnaHQ9ITApLHQmJih0LnJldGhyb3duPSExKSxFZS5jYXVnaHQucHVzaChlKSxFZS5hZGRSZWYoRWUuZGVBZGp1c3QoZSkpLGV9LF9fX2N4YV9lbmRfY2F0Y2g6ZnVuY3Rpb24oKXthLnNldFRocmV3KDApO3ZhciBlPUVlLmNhdWdodC5wb3AoKTtlJiYoRWUuZGVjUmVmKEVlLmRlQWRqdXN0KGUpKSxFZS5sYXN0PTApfSxfX19jeGFfZmluZF9tYXRjaGluZ19jYXRjaF8yOmZ1bmN0aW9uKCl7cmV0dXJuIGdlLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sX19fY3hhX2ZpbmRfbWF0Y2hpbmdfY2F0Y2hfMzpmdW5jdGlvbigpe3JldHVybiBnZS5hcHBseShudWxsLGFyZ3VtZW50cyl9LF9fX2N4YV9maW5kX21hdGNoaW5nX2NhdGNoXzQ6ZnVuY3Rpb24oKXtyZXR1cm4gZ2UuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxfX19jeGFfZnJlZV9leGNlcHRpb246dmUsX19fY3hhX3Rocm93OmZ1bmN0aW9uKGUsdCxyKXt0aHJvdyBFZS5pbmZvc1tlXT17cHRyOmUsYWRqdXN0ZWQ6ZSx0eXBlOnQsZGVzdHJ1Y3RvcjpyLHJlZmNvdW50OjAsY2F1Z2h0OiExLHJldGhyb3duOiExfSxFZS5sYXN0PWUsZX0sX19fbG9jazpmdW5jdGlvbigpe30sX19fbWFwX2ZpbGU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gX2Uod2UuRVBFUk0pLC0xfSxfX19yZXN1bWVFeGNlcHRpb246ZnVuY3Rpb24oZSl7dGhyb3cgRWUubGFzdHx8KEVlLmxhc3Q9ZSksZX0sX19fc2V0RXJyTm86X2UsX19fc3lzY2FsbDE0MDpmdW5jdGlvbihlLHQpe1JlLnZhcmFyZ3M9dDt0cnl7dmFyIHI9UmUuZ2V0U3RyZWFtRnJvbUZEKCksbj0oUmUuZ2V0KCksUmUuZ2V0KCkpLG89UmUuZ2V0KCksaT1SZS5nZXQoKSxhPW47cmV0dXJuIE9lLmxsc2VlayhyLGEsaSksSVtvPj4yXT1yLnBvc2l0aW9uLHIuZ2V0ZGVudHMmJjA9PT1hJiYwPT09aSYmKHIuZ2V0ZGVudHM9bnVsbCksMH1jYXRjaChlKXtyZXR1cm4gdm9pZCAwIT09T2UmJmUgaW5zdGFuY2VvZiBPZS5FcnJub0Vycm9yfHx1cihlKSwtZS5lcnJub319LF9fX3N5c2NhbGwxNDU6ZnVuY3Rpb24oZSx0KXtSZS52YXJhcmdzPXQ7dHJ5e3ZhciByPVJlLmdldFN0cmVhbUZyb21GRCgpLG49UmUuZ2V0KCksbz1SZS5nZXQoKTtyZXR1cm4gUmUuZG9SZWFkdihyLG4sbyl9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgMCE9PU9lJiZlIGluc3RhbmNlb2YgT2UuRXJybm9FcnJvcnx8dXIoZSksLWUuZXJybm99fSxfX19zeXNjYWxsMTQ2OmZ1bmN0aW9uKGUsdCl7UmUudmFyYXJncz10O3RyeXt2YXIgcj1SZS5nZXRTdHJlYW1Gcm9tRkQoKSxuPVJlLmdldCgpLG89UmUuZ2V0KCk7cmV0dXJuIFJlLmRvV3JpdGV2KHIsbixvKX1jYXRjaChlKXtyZXR1cm4gdm9pZCAwIT09T2UmJmUgaW5zdGFuY2VvZiBPZS5FcnJub0Vycm9yfHx1cihlKSwtZS5lcnJub319LF9fX3N5c2NhbGwxODM6ZnVuY3Rpb24oZSx0KXtSZS52YXJhcmdzPXQ7dHJ5e3ZhciByPVJlLmdldCgpLG49UmUuZ2V0KCk7aWYoMD09PW4pcmV0dXJuLXdlLkVJTlZBTDt2YXIgbz1PZS5jd2QoKTtyZXR1cm4gbjxQKG8pKzE/LXdlLkVSQU5HRTooayhvLHIsbikscil9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgMCE9PU9lJiZlIGluc3RhbmNlb2YgT2UuRXJybm9FcnJvcnx8dXIoZSksLWUuZXJybm99fSxfX19zeXNjYWxsMTk4OmZ1bmN0aW9uKGUsdCl7UmUudmFyYXJncz10O3RyeXt2YXIgcj1SZS5nZXRTdHIoKSxuPVJlLmdldCgpLG89UmUuZ2V0KCk7cmV0dXJuIE9lLmNob3duKHIsbixvKSwwfWNhdGNoKGUpe3JldHVybiB2b2lkIDAhPT1PZSYmZSBpbnN0YW5jZW9mIE9lLkVycm5vRXJyb3J8fHVyKGUpLC1lLmVycm5vfX0sX19fc3lzY2FsbDIwOmZ1bmN0aW9uKGUsdCl7UmUudmFyYXJncz10O3RyeXtyZXR1cm4gQ2V9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgMCE9PU9lJiZlIGluc3RhbmNlb2YgT2UuRXJybm9FcnJvcnx8dXIoZSksLWUuZXJybm99fSxfX19zeXNjYWxsNjpmdW5jdGlvbihlLHQpe1JlLnZhcmFyZ3M9dDt0cnl7dmFyIHI9UmUuZ2V0U3RyZWFtRnJvbUZEKCk7cmV0dXJuIE9lLmNsb3NlKHIpLDB9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgMCE9PU9lJiZlIGluc3RhbmNlb2YgT2UuRXJybm9FcnJvcnx8dXIoZSksLWUuZXJybm99fSxfX19zeXNjYWxsNjA6ZnVuY3Rpb24oZSx0KXtSZS52YXJhcmdzPXQ7dHJ5e3ZhciByPVJlLmdldCgpLG49UmUudW1hc2s7cmV0dXJuIFJlLnVtYXNrPXIsbn1jYXRjaChlKXtyZXR1cm4gdm9pZCAwIT09T2UmJmUgaW5zdGFuY2VvZiBPZS5FcnJub0Vycm9yfHx1cihlKSwtZS5lcnJub319LF9fX3N5c2NhbGw4MzpmdW5jdGlvbihlLHQpe1JlLnZhcmFyZ3M9dDt0cnl7dmFyIHI9UmUuZ2V0U3RyKCksbj1SZS5nZXRTdHIoKTtyZXR1cm4gT2Uuc3ltbGluayhyLG4pLDB9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgMCE9PU9lJiZlIGluc3RhbmNlb2YgT2UuRXJybm9FcnJvcnx8dXIoZSksLWUuZXJybm99fSxfX19zeXNjYWxsOTE6ZnVuY3Rpb24oZSx0KXtSZS52YXJhcmdzPXQ7dHJ5e3ZhciByPVJlLmdldCgpLG49UmUuZ2V0KCksbz1SZS5tYXBwaW5nc1tyXTtpZighbylyZXR1cm4gMDtpZihuPT09by5sZW4pe3ZhciBpPU9lLmdldFN0cmVhbShvLmZkKTtSZS5kb01zeW5jKHIsaSxuLG8uZmxhZ3MpLE9lLm11bm1hcChpKSxSZS5tYXBwaW5nc1tyXT1udWxsLG8uYWxsb2NhdGVkJiZycihvLm1hbGxvYyl9cmV0dXJuIDB9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgMCE9PU9lJiZlIGluc3RhbmNlb2YgT2UuRXJybm9FcnJvcnx8dXIoZSksLWUuZXJybm99fSxfX191bmxvY2s6ZnVuY3Rpb24oKXt9LF9fZW1iaW5kX2ZpbmFsaXplX3ZhbHVlX29iamVjdDpmdW5jdGlvbihlKXt2YXIgdD1OZVtlXTtkZWxldGUgTmVbZV07dmFyIHI9dC5yYXdDb25zdHJ1Y3RvcixuPXQucmF3RGVzdHJ1Y3RvcixvPXQuZmllbGRzO1dlKFtlXSxvLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0dGVyUmV0dXJuVHlwZX0pKS5jb25jYXQoby5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnNldHRlckFyZ3VtZW50VHlwZX0pKSksKGZ1bmN0aW9uKGUpe3ZhciBpPXt9O3JldHVybiBvLmZvckVhY2goKGZ1bmN0aW9uKHQscil7dmFyIG49dC5maWVsZE5hbWUsYT1lW3JdLHM9dC5nZXR0ZXIsdT10LmdldHRlckNvbnRleHQsYz1lW3Irby5sZW5ndGhdLGw9dC5zZXR0ZXIsZj10LnNldHRlckNvbnRleHQ7aVtuXT17cmVhZDpmdW5jdGlvbihlKXtyZXR1cm4gYS5mcm9tV2lyZVR5cGUocyh1LGUpKX0sd3JpdGU6ZnVuY3Rpb24oZSx0KXt2YXIgcj1bXTtsKGYsZSxjLnRvV2lyZVR5cGUocix0KSksRmUocil9fX0pKSxbe25hbWU6dC5uYW1lLGZyb21XaXJlVHlwZTpmdW5jdGlvbihlKXt2YXIgdD17fTtmb3IodmFyIHIgaW4gaSl0W3JdPWlbcl0ucmVhZChlKTtyZXR1cm4gbihlKSx0fSx0b1dpcmVUeXBlOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBvIGluIGkpaWYoIShvIGluIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIk1pc3NpbmcgZmllbGQiKTt2YXIgYT1yKCk7Zm9yKG8gaW4gaSlpW29dLndyaXRlKGEsdFtvXSk7cmV0dXJuIG51bGwhPT1lJiZlLnB1c2gobixhKSxhfSxhcmdQYWNrQWR2YW5jZTo4LHJlYWRWYWx1ZUZyb21Qb2ludGVyOk1lLGRlc3RydWN0b3JGdW5jdGlvbjpufV19KSl9LF9fZW1iaW5kX3JlZ2lzdGVyX2Jvb2w6ZnVuY3Rpb24oZSx0LHIsbixvKXt2YXIgaT1ZZShyKTtYZShlLHtuYW1lOnQ9SGUodCksZnJvbVdpcmVUeXBlOmZ1bmN0aW9uKGUpe3JldHVybiEhZX0sdG9XaXJlVHlwZTpmdW5jdGlvbihlLHQpe3JldHVybiB0P246b30sYXJnUGFja0FkdmFuY2U6OCxyZWFkVmFsdWVGcm9tUG9pbnRlcjpmdW5jdGlvbihlKXt2YXIgbjtpZigxPT09ciluPUM7ZWxzZSBpZigyPT09ciluPUY7ZWxzZXtpZig0IT09cil0aHJvdyBuZXcgVHlwZUVycm9yKCJVbmtub3duIGJvb2xlYW4gdHlwZSBzaXplOiAiK3QpO249SX1yZXR1cm4gdGhpcy5mcm9tV2lyZVR5cGUobltlPj5pXSl9LGRlc3RydWN0b3JGdW5jdGlvbjpudWxsfSl9LF9fZW1iaW5kX3JlZ2lzdGVyX2NsYXNzOmZ1bmN0aW9uKGUsdCxyLG4sbyxpLHMsdSxjLGwsZixkLGgpe2Y9SGUoZiksaT1TdChvLGkpLHUmJih1PVN0KHMsdSkpLGwmJihsPVN0KGMsbCkpLGg9U3QoZCxoKTt2YXIgcD14ZShmKTshZnVuY3Rpb24oZSx0LHIpe2EuaGFzT3duUHJvcGVydHkoZSk/KCh2b2lkIDA9PT1yfHx2b2lkIDAhPT1hW2VdLm92ZXJsb2FkVGFibGUmJnZvaWQgMCE9PWFbZV0ub3ZlcmxvYWRUYWJsZVtyXSkmJnFlKCJDYW5ub3QgcmVnaXN0ZXIgcHVibGljIG5hbWUgJyIrZSsiJyB0d2ljZSIpLHN0KGEsZSxlKSxhLmhhc093blByb3BlcnR5KHIpJiZxZSgiQ2Fubm90IHJlZ2lzdGVyIG11bHRpcGxlIG92ZXJsb2FkcyBvZiBhIGZ1bmN0aW9uIHdpdGggdGhlIHNhbWUgbnVtYmVyIG9mIGFyZ3VtZW50cyAoIityKyIpISIpLGFbZV0ub3ZlcmxvYWRUYWJsZVtyXT10KTooYVtlXT10LHZvaWQgMCE9PXImJihhW2VdLm51bUFyZ3VtZW50cz1yKSl9KHAsKGZ1bmN0aW9uKCl7RHQoIkNhbm5vdCBjb25zdHJ1Y3QgIitmKyIgZHVlIHRvIHVuYm91bmQgdHlwZXMiLFtuXSl9KSksV2UoW2UsdCxyXSxuP1tuXTpbXSwoZnVuY3Rpb24odCl7dmFyIHIsbzt0PXRbMF0sbz1uPyhyPXQucmVnaXN0ZXJlZENsYXNzKS5pbnN0YW5jZVByb3RvdHlwZTppdC5wcm90b3R5cGU7dmFyIHM9amUocCwoZnVuY3Rpb24oKXtpZihPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykhPT1jKXRocm93IG5ldyBHZSgiVXNlICduZXcnIHRvIGNvbnN0cnVjdCAiK2YpO2lmKHZvaWQgMD09PWQuY29uc3RydWN0b3JfYm9keSl0aHJvdyBuZXcgR2UoZisiIGhhcyBubyBhY2Nlc3NpYmxlIGNvbnN0cnVjdG9yIik7dmFyIGU9ZC5jb25zdHJ1Y3Rvcl9ib2R5W2FyZ3VtZW50cy5sZW5ndGhdO2lmKHZvaWQgMD09PWUpdGhyb3cgbmV3IEdlKCJUcmllZCB0byBpbnZva2UgY3RvciBvZiAiK2YrIiB3aXRoIGludmFsaWQgbnVtYmVyIG9mIHBhcmFtZXRlcnMgKCIrYXJndW1lbnRzLmxlbmd0aCsiKSAtIGV4cGVjdGVkICgiK09iamVjdC5rZXlzKGQuY29uc3RydWN0b3JfYm9keSkudG9TdHJpbmcoKSsiKSBwYXJhbWV0ZXJzIGluc3RlYWQhIik7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSkpLGM9T2JqZWN0LmNyZWF0ZShvLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6c319KTtzLnByb3RvdHlwZT1jO3ZhciBkPW5ldyB1dChmLHMsYyxoLHIsaSx1LGwpLG09bmV3IFR0KGYsZCwhMCwhMSwhMSkseT1uZXcgVHQoZisiKiIsZCwhMSwhMSwhMSksRT1uZXcgVHQoZisiIGNvbnN0KiIsZCwhMSwhMCwhMSk7cmV0dXJuIGF0W2VdPXtwb2ludGVyVHlwZTp5LGNvbnN0UG9pbnRlclR5cGU6RX0sZnVuY3Rpb24oZSx0LHIpe2EuaGFzT3duUHJvcGVydHkoZSl8fCRlKCJSZXBsYWNpbmcgbm9uZXhpc3RhbnQgcHVibGljIHN5bWJvbCIpLHZvaWQgMCE9PWFbZV0ub3ZlcmxvYWRUYWJsZSYmdm9pZCAwIT09cj9hW2VdLm92ZXJsb2FkVGFibGVbcl09dDooYVtlXT10LGFbZV0uYXJnQ291bnQ9cil9KHAscyksW20seSxFXX0pKX0sX19lbWJpbmRfcmVnaXN0ZXJfY2xhc3NfY29uc3RydWN0b3I6ZnVuY3Rpb24oZSx0LHIsbixvLGkpe3ZhciBhPU90KHQscik7bz1TdChuLG8pLFdlKFtdLFtlXSwoZnVuY3Rpb24oZSl7dmFyIHI9ImNvbnN0cnVjdG9yICIrKGU9ZVswXSkubmFtZTtpZih2b2lkIDA9PT1lLnJlZ2lzdGVyZWRDbGFzcy5jb25zdHJ1Y3Rvcl9ib2R5JiYoZS5yZWdpc3RlcmVkQ2xhc3MuY29uc3RydWN0b3JfYm9keT1bXSksdm9pZCAwIT09ZS5yZWdpc3RlcmVkQ2xhc3MuY29uc3RydWN0b3JfYm9keVt0LTFdKXRocm93IG5ldyBHZSgiQ2Fubm90IHJlZ2lzdGVyIG11bHRpcGxlIGNvbnN0cnVjdG9ycyB3aXRoIGlkZW50aWNhbCBudW1iZXIgb2YgcGFyYW1ldGVycyAoIisodC0xKSsiKSBmb3IgY2xhc3MgJyIrZS5uYW1lKyInISBPdmVybG9hZCByZXNvbHV0aW9uIGlzIGN1cnJlbnRseSBvbmx5IHBlcmZvcm1lZCB1c2luZyB0aGUgcGFyYW1ldGVyIGNvdW50LCBub3QgYWN0dWFsIHR5cGUgaW5mbyEiKTtyZXR1cm4gZS5yZWdpc3RlcmVkQ2xhc3MuY29uc3RydWN0b3JfYm9keVt0LTFdPWZ1bmN0aW9uKCl7RHQoIkNhbm5vdCBjb25zdHJ1Y3QgIitlLm5hbWUrIiBkdWUgdG8gdW5ib3VuZCB0eXBlcyIsYSl9LFdlKFtdLGEsKGZ1bmN0aW9uKG4pe3JldHVybiBlLnJlZ2lzdGVyZWRDbGFzcy5jb25zdHJ1Y3Rvcl9ib2R5W3QtMV09ZnVuY3Rpb24oKXthcmd1bWVudHMubGVuZ3RoIT09dC0xJiZxZShyKyIgY2FsbGVkIHdpdGggIithcmd1bWVudHMubGVuZ3RoKyIgYXJndW1lbnRzLCBleHBlY3RlZCAiKyh0LTEpKTt2YXIgZT1bXSxhPW5ldyBBcnJheSh0KTthWzBdPWk7Zm9yKHZhciBzPTE7czx0OysrcylhW3NdPW5bc10udG9XaXJlVHlwZShlLGFyZ3VtZW50c1tzLTFdKTt2YXIgdT1vLmFwcGx5KG51bGwsYSk7cmV0dXJuIEZlKGUpLG5bMF0uZnJvbVdpcmVUeXBlKHUpfSxbXX0pKSxbXX0pKX0sX19lbWJpbmRfcmVnaXN0ZXJfY2xhc3NfZnVuY3Rpb246ZnVuY3Rpb24oZSx0LHIsbixvLGksYSxzKXt2YXIgdT1PdChyLG4pO3Q9SGUodCksaT1TdChvLGkpLFdlKFtdLFtlXSwoZnVuY3Rpb24oZSl7dmFyIG49KGU9ZVswXSkubmFtZSsiLiIrdDtmdW5jdGlvbiBvKCl7RHQoIkNhbm5vdCBjYWxsICIrbisiIGR1ZSB0byB1bmJvdW5kIHR5cGVzIix1KX1zJiZlLnJlZ2lzdGVyZWRDbGFzcy5wdXJlVmlydHVhbEZ1bmN0aW9ucy5wdXNoKHQpO3ZhciBjPWUucmVnaXN0ZXJlZENsYXNzLmluc3RhbmNlUHJvdG90eXBlLGw9Y1t0XTtyZXR1cm4gdm9pZCAwPT09bHx8dm9pZCAwPT09bC5vdmVybG9hZFRhYmxlJiZsLmNsYXNzTmFtZSE9PWUubmFtZSYmbC5hcmdDb3VudD09PXItMj8oby5hcmdDb3VudD1yLTIsby5jbGFzc05hbWU9ZS5uYW1lLGNbdF09byk6KHN0KGMsdCxuKSxjW3RdLm92ZXJsb2FkVGFibGVbci0yXT1vKSxXZShbXSx1LChmdW5jdGlvbihvKXt2YXIgcz1SdChuLG8sZSxpLGEpO3JldHVybiB2b2lkIDA9PT1jW3RdLm92ZXJsb2FkVGFibGU/KHMuYXJnQ291bnQ9ci0yLGNbdF09cyk6Y1t0XS5vdmVybG9hZFRhYmxlW3ItMl09cyxbXX0pKSxbXX0pKX0sX19lbWJpbmRfcmVnaXN0ZXJfZW12YWw6ZnVuY3Rpb24oZSx0KXtYZShlLHtuYW1lOnQ9SGUodCksZnJvbVdpcmVUeXBlOmZ1bmN0aW9uKGUpe3ZhciB0PU50W2VdLnZhbHVlO3JldHVybiBmdW5jdGlvbihlKXtlPjQmJjA9PS0tTnRbZV0ucmVmY291bnQmJihOdFtlXT12b2lkIDAsQ3QucHVzaChlKSl9KGUpLHR9LHRvV2lyZVR5cGU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gSXQodCl9LGFyZ1BhY2tBZHZhbmNlOjgscmVhZFZhbHVlRnJvbVBvaW50ZXI6TWUsZGVzdHJ1Y3RvckZ1bmN0aW9uOm51bGx9KX0sX19lbWJpbmRfcmVnaXN0ZXJfZmxvYXQ6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPVllKHIpO1hlKGUse25hbWU6dD1IZSh0KSxmcm9tV2lyZVR5cGU6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LHRvV2lyZVR5cGU6ZnVuY3Rpb24oZSx0KXtpZigibnVtYmVyIiE9dHlwZW9mIHQmJiJib29sZWFuIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnZlcnQgIicrQnQodCkrJyIgdG8gJyt0aGlzLm5hbWUpO3JldHVybiB0fSxhcmdQYWNrQWR2YW5jZTo4LHJlYWRWYWx1ZUZyb21Qb2ludGVyOkx0KHQsbiksZGVzdHJ1Y3RvckZ1bmN0aW9uOm51bGx9KX0sX19lbWJpbmRfcmVnaXN0ZXJfaW50ZWdlcjpmdW5jdGlvbihlLHQscixuLG8pe3Q9SGUodCksLTE9PT1vJiYobz00Mjk0OTY3Mjk1KTt2YXIgaT1ZZShyKSxhPWZ1bmN0aW9uKGUpe3JldHVybiBlfTtpZigwPT09bil7dmFyIHM9MzItOCpyO2E9ZnVuY3Rpb24oZSl7cmV0dXJuIGU8PHM+Pj5zfX12YXIgdT0tMSE9dC5pbmRleE9mKCJ1bnNpZ25lZCIpO1hlKGUse25hbWU6dCxmcm9tV2lyZVR5cGU6YSx0b1dpcmVUeXBlOmZ1bmN0aW9uKGUscil7aWYoIm51bWJlciIhPXR5cGVvZiByJiYiYm9vbGVhbiIhPXR5cGVvZiByKXRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0ICInK0J0KHIpKyciIHRvICcrdGhpcy5uYW1lKTtpZihyPG58fHI+byl0aHJvdyBuZXcgVHlwZUVycm9yKCdQYXNzaW5nIGEgbnVtYmVyICInK0J0KHIpKyciIGZyb20gSlMgc2lkZSB0byBDL0MrKyBzaWRlIHRvIGFuIGFyZ3VtZW50IG9mIHR5cGUgIicrdCsnIiwgd2hpY2ggaXMgb3V0c2lkZSB0aGUgdmFsaWQgcmFuZ2UgWycrbisiLCAiK28rIl0hIik7cmV0dXJuIHU/cj4+PjA6MHxyfSxhcmdQYWNrQWR2YW5jZTo4LHJlYWRWYWx1ZUZyb21Qb2ludGVyOnh0KHQsaSwwIT09biksZGVzdHJ1Y3RvckZ1bmN0aW9uOm51bGx9KX0sX19lbWJpbmRfcmVnaXN0ZXJfbWVtb3J5X3ZpZXc6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPVtJbnQ4QXJyYXksVWludDhBcnJheSxJbnQxNkFycmF5LFVpbnQxNkFycmF5LEludDMyQXJyYXksVWludDMyQXJyYXksRmxvYXQzMkFycmF5LEZsb2F0NjRBcnJheV1bdF07ZnVuY3Rpb24gbyhlKXt2YXIgdD1CLHI9dFtlPj49Ml0sbz10W2UrMV07cmV0dXJuIG5ldyBuKHQuYnVmZmVyLG8scil9WGUoZSx7bmFtZTpyPUhlKHIpLGZyb21XaXJlVHlwZTpvLGFyZ1BhY2tBZHZhbmNlOjgscmVhZFZhbHVlRnJvbVBvaW50ZXI6b30se2lnbm9yZUR1cGxpY2F0ZVJlZ2lzdHJhdGlvbnM6ITB9KX0sX19lbWJpbmRfcmVnaXN0ZXJfc3RkX3N0cmluZzpmdW5jdGlvbihlLHQpe1hlKGUse25hbWU6dD1IZSh0KSxmcm9tV2lyZVR5cGU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PUJbZT4+Ml0scj1uZXcgQXJyYXkodCksbj0wO248dDsrK24pcltuXT1TdHJpbmcuZnJvbUNoYXJDb2RlKE5bZSs0K25dKTtyZXR1cm4gcnIoZSksci5qb2luKCIiKX0sdG9XaXJlVHlwZTpmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIoZSx0KXtyZXR1cm4gZVt0XX12YXIgbjt0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXImJih0PW5ldyBVaW50OEFycmF5KHQpKSx0IGluc3RhbmNlb2YgVWludDhBcnJheXx8dCBpbnN0YW5jZW9mIFVpbnQ4Q2xhbXBlZEFycmF5fHx0IGluc3RhbmNlb2YgSW50OEFycmF5P249cjoic3RyaW5nIj09dHlwZW9mIHQ/bj1mdW5jdGlvbihlLHQpe3JldHVybiBlLmNoYXJDb2RlQXQodCl9OnFlKCJDYW5ub3QgcGFzcyBub24tc3RyaW5nIHRvIHN0ZDo6c3RyaW5nIik7dmFyIG89dC5sZW5ndGgsaT1ucig0K28pO0JbaT4+Ml09bztmb3IodmFyIGE9MDthPG87KythKXt2YXIgcz1uKHQsYSk7cz4yNTUmJihycihpKSxxZSgiU3RyaW5nIGhhcyBVVEYtMTYgY29kZSB1bml0cyB0aGF0IGRvIG5vdCBmaXQgaW4gOCBiaXRzIikpLE5baSs0K2FdPXN9cmV0dXJuIG51bGwhPT1lJiZlLnB1c2gocnIsaSksaX0sYXJnUGFja0FkdmFuY2U6OCxyZWFkVmFsdWVGcm9tUG9pbnRlcjpNZSxkZXN0cnVjdG9yRnVuY3Rpb246ZnVuY3Rpb24oZSl7cnIoZSl9fSl9LF9fZW1iaW5kX3JlZ2lzdGVyX3N0ZF93c3RyaW5nOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbixvO3I9SGUociksMj09PXQ/KG49ZnVuY3Rpb24oKXtyZXR1cm4gTX0sbz0xKTo0PT09dCYmKG49ZnVuY3Rpb24oKXtyZXR1cm4gQn0sbz0yKSxYZShlLHtuYW1lOnIsZnJvbVdpcmVUeXBlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1uKCkscj1CW2U+PjJdLGk9bmV3IEFycmF5KHIpLGE9ZSs0Pj5vLHM9MDtzPHI7KytzKWlbc109U3RyaW5nLmZyb21DaGFyQ29kZSh0W2Erc10pO3JldHVybiBycihlKSxpLmpvaW4oIiIpfSx0b1dpcmVUeXBlOmZ1bmN0aW9uKGUscil7dmFyIGk9bigpLGE9ci5sZW5ndGgscz1ucig0K2EqdCk7QltzPj4yXT1hO2Zvcih2YXIgdT1zKzQ+Pm8sYz0wO2M8YTsrK2MpaVt1K2NdPXIuY2hhckNvZGVBdChjKTtyZXR1cm4gbnVsbCE9PWUmJmUucHVzaChycixzKSxzfSxhcmdQYWNrQWR2YW5jZTo4LHJlYWRWYWx1ZUZyb21Qb2ludGVyOk1lLGRlc3RydWN0b3JGdW5jdGlvbjpmdW5jdGlvbihlKXtycihlKX19KX0sX19lbWJpbmRfcmVnaXN0ZXJfdmFsdWVfb2JqZWN0OmZ1bmN0aW9uKGUsdCxyLG4sbyxpKXtOZVtlXT17bmFtZTpIZSh0KSxyYXdDb25zdHJ1Y3RvcjpTdChyLG4pLHJhd0Rlc3RydWN0b3I6U3QobyxpKSxmaWVsZHM6W119fSxfX2VtYmluZF9yZWdpc3Rlcl92YWx1ZV9vYmplY3RfZmllbGQ6ZnVuY3Rpb24oZSx0LHIsbixvLGksYSxzLHUsYyl7TmVbZV0uZmllbGRzLnB1c2goe2ZpZWxkTmFtZTpIZSh0KSxnZXR0ZXJSZXR1cm5UeXBlOnIsZ2V0dGVyOlN0KG4sbyksZ2V0dGVyQ29udGV4dDppLHNldHRlckFyZ3VtZW50VHlwZTphLHNldHRlcjpTdChzLHUpLHNldHRlckNvbnRleHQ6Y30pfSxfX2VtYmluZF9yZWdpc3Rlcl92b2lkOmZ1bmN0aW9uKGUsdCl7WGUoZSx7aXNWb2lkOiEwLG5hbWU6dD1IZSh0KSxhcmdQYWNrQWR2YW5jZTowLGZyb21XaXJlVHlwZTpmdW5jdGlvbigpe30sdG9XaXJlVHlwZTpmdW5jdGlvbihlLHQpe319KX0sX2Fib3J0OmZ1bmN0aW9uKCl7YS5hYm9ydCgpfSxfZW1zY3JpcHRlbl9tZW1jcHlfYmlnOmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gTi5zZXQoTi5zdWJhcnJheSh0LHQrciksZSksZX0sX2dldGVudjpmdW5jdGlvbiBlKHQpe3JldHVybiAwPT09dD8wOih0PV8odCksVXQuaGFzT3duUHJvcGVydHkodCk/KGUucmV0JiZycihlLnJldCksZS5yZXQ9KHI9VXRbdF0sbj1QKHIpKzEsKG89bnIobikpJiZTKHIsQyxvLG4pLG8pKTowKTt2YXIgcixuLG99LF9nZXRncm5hbTpmdW5jdGlvbigpe2EucHJpbnRFcnIoIm1pc3NpbmcgZnVuY3Rpb246IGdldGdybmFtIiksdXIoLTEpfSxfZ2V0cHduYW06ZnVuY3Rpb24oKXt0aHJvdyJnZXRwd25hbTogVE9ETyJ9LF9qc0Nsb3NlOmZ1bmN0aW9uKCl7cmV0dXJuIHUuY2xvc2UuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxfanNDcmVhdGU6ZnVuY3Rpb24oZSl7cmV0dXJuIHUuY3JlYXRlLmNhbGwobnVsbCxEKGUpKX0sX2pzT3BlbjpmdW5jdGlvbihlKXtyZXR1cm4gdS5vcGVuLmNhbGwobnVsbCxEKGUpKX0sX2pzUmVhZDpmdW5jdGlvbigpe3JldHVybiB1LnJlYWQuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxfanNTZWVrOmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdS5zZWVrLmNhbGwobnVsbCxlLHQsVChyKSl9LF9qc1RlbGw6ZnVuY3Rpb24oKXtyZXR1cm4gdS50ZWxsLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sX2pzV3JpdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdS53cml0ZS5hcHBseShudWxsLGFyZ3VtZW50cyl9LF9sbHZtX2VoX3R5cGVpZF9mb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LF9sb2NhbHRpbWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7VnQoKTt2YXIgcj1uZXcgRGF0ZSgxZTMqSVtlPj4yXSk7SVt0Pj4yXT1yLmdldFNlY29uZHMoKSxJW3QrND4+Ml09ci5nZXRNaW51dGVzKCksSVt0Kzg+PjJdPXIuZ2V0SG91cnMoKSxJW3QrMTI+PjJdPXIuZ2V0RGF0ZSgpLElbdCsxNj4+Ml09ci5nZXRNb250aCgpLElbdCsyMD4+Ml09ci5nZXRGdWxsWWVhcigpLTE5MDAsSVt0KzI0Pj4yXT1yLmdldERheSgpO3ZhciBuPW5ldyBEYXRlKHIuZ2V0RnVsbFllYXIoKSwwLDEpLG89KHIuZ2V0VGltZSgpLW4uZ2V0VGltZSgpKS84NjRlNXwwO0lbdCsyOD4+Ml09byxJW3QrMzY+PjJdPS02MCpyLmdldFRpbWV6b25lT2Zmc2V0KCk7dmFyIGk9bmV3IERhdGUoMmUzLDYsMSkuZ2V0VGltZXpvbmVPZmZzZXQoKSxhPW4uZ2V0VGltZXpvbmVPZmZzZXQoKSxzPTB8KGkhPWEmJnIuZ2V0VGltZXpvbmVPZmZzZXQoKT09TWF0aC5taW4oYSxpKSk7SVt0KzMyPj4yXT1zO3ZhciB1PUlbJHQrKHM/NDowKT4+Ml07cmV0dXJuIElbdCs0MD4+Ml09dSx0fShlLHp0KX0sX21rdGltZTpmdW5jdGlvbihlKXtWdCgpO3ZhciB0PW5ldyBEYXRlKElbZSsyMD4+Ml0rMTkwMCxJW2UrMTY+PjJdLElbZSsxMj4+Ml0sSVtlKzg+PjJdLElbZSs0Pj4yXSxJW2U+PjJdLDApLHI9SVtlKzMyPj4yXSxuPXQuZ2V0VGltZXpvbmVPZmZzZXQoKSxvPW5ldyBEYXRlKHQuZ2V0RnVsbFllYXIoKSwwLDEpLGk9bmV3IERhdGUoMmUzLDYsMSkuZ2V0VGltZXpvbmVPZmZzZXQoKSxhPW8uZ2V0VGltZXpvbmVPZmZzZXQoKSxzPU1hdGgubWluKGEsaSk7aWYocjwwKUlbZSszMj4+Ml09TnVtYmVyKGkhPWEmJnM9PW4pO2Vsc2UgaWYocj4wIT0ocz09bikpe3ZhciB1PU1hdGgubWF4KGEsaSksYz1yPjA/czp1O3Quc2V0VGltZSh0LmdldFRpbWUoKSs2ZTQqKGMtbikpfUlbZSsyND4+Ml09dC5nZXREYXkoKTt2YXIgbD0odC5nZXRUaW1lKCktby5nZXRUaW1lKCkpLzg2NGU1fDA7cmV0dXJuIElbZSsyOD4+Ml09bCx0LmdldFRpbWUoKS8xZTN8MH0sX3B0aHJlYWRfZ2V0c3BlY2lmaWM6ZnVuY3Rpb24oZSl7cmV0dXJuIEh0W2VdfHwwfSxfcHRocmVhZF9rZXlfY3JlYXRlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIDA9PWU/d2UuRUlOVkFMOihJW2U+PjJdPUd0LEh0W0d0XT0wLEd0KyssMCl9LF9wdGhyZWFkX29uY2U6ZnVuY3Rpb24gZSh0LHIpe2Uuc2Vlbnx8KGUuc2Vlbj17fSksdCBpbiBlLnNlZW58fChhLmR5bkNhbGxfdihyKSxlLnNlZW5bdF09MSl9LF9wdGhyZWFkX3NldHNwZWNpZmljOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUgaW4gSHQ/KEh0W2VdPXQsMCk6d2UuRUlOVkFMfSxfdGltZTpmdW5jdGlvbihlKXt2YXIgdD1EYXRlLm5vdygpLzFlM3wwO3JldHVybiBlJiYoSVtlPj4yXT10KSx0fSxEWU5BTUlDVE9QX1BUUjpZLFNUQUNLVE9QOiR9O3ZhciBYdD1hLmFzbShhLmFzbUdsb2JhbEFyZyxhLmFzbUxpYnJhcnlBcmcsUik7YS5hc209WHQ7dmFyIEt0PWEuX19HTE9CQUxfX3N1Yl9JX2JpbmRfY3BwPWZ1bmN0aW9uKCl7cmV0dXJuIGEuYXNtLl9fR0xPQkFMX19zdWJfSV9iaW5kX2NwcC5hcHBseShudWxsLGFyZ3VtZW50cyl9LEp0PWEuX19HTE9CQUxfX3N1Yl9JX2JyaWRnZV9jcHA9ZnVuY3Rpb24oKXtyZXR1cm4gYS5hc20uX19HTE9CQUxfX3N1Yl9JX2JyaWRnZV9jcHAuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxadD1hLl9fR0xPQkFMX19zdWJfSV9jcmNfY3BwPWZ1bmN0aW9uKCl7cmV0dXJuIGEuYXNtLl9fR0xPQkFMX19zdWJfSV9jcmNfY3BwLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sUXQ9YS5fX0dMT0JBTF9fc3ViX0lfZ2xvYmFsX2NwcD1mdW5jdGlvbigpe3JldHVybiBhLmFzbS5fX0dMT0JBTF9fc3ViX0lfZ2xvYmFsX2NwcC5hcHBseShudWxsLGFyZ3VtZW50cyl9O2EuX19fY3hhX2Nhbl9jYXRjaD1mdW5jdGlvbigpe3JldHVybiBhLmFzbS5fX19jeGFfY2FuX2NhdGNoLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sYS5fX19jeGFfaXNfcG9pbnRlcl90eXBlPWZ1bmN0aW9uKCl7cmV0dXJuIGEuYXNtLl9fX2N4YV9pc19wb2ludGVyX3R5cGUuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxhLl9fX2Vycm5vX2xvY2F0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIGEuYXNtLl9fX2Vycm5vX2xvY2F0aW9uLmFwcGx5KG51bGwsYXJndW1lbnRzKX07dmFyIGVyPWEuX19fZ2V0VHlwZU5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gYS5hc20uX19fZ2V0VHlwZU5hbWUuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx0cj1hLl9lbXNjcmlwdGVuX3JlcGxhY2VfbWVtb3J5PWZ1bmN0aW9uKCl7cmV0dXJuIGEuYXNtLl9lbXNjcmlwdGVuX3JlcGxhY2VfbWVtb3J5LmFwcGx5KG51bGwsYXJndW1lbnRzKX0scnI9YS5fZnJlZT1mdW5jdGlvbigpe3JldHVybiBhLmFzbS5fZnJlZS5hcHBseShudWxsLGFyZ3VtZW50cyl9LG5yPWEuX21hbGxvYz1mdW5jdGlvbigpe3JldHVybiBhLmFzbS5fbWFsbG9jLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sb3I9YS5zZXRUZW1wUmV0MD1mdW5jdGlvbigpe3JldHVybiBhLmFzbS5zZXRUZW1wUmV0MC5hcHBseShudWxsLGFyZ3VtZW50cyl9O2Euc2V0VGhyZXc9ZnVuY3Rpb24oKXtyZXR1cm4gYS5hc20uc2V0VGhyZXcuYXBwbHkobnVsbCxhcmd1bWVudHMpfTt2YXIgaXI9YS5zdGFja0FsbG9jPWZ1bmN0aW9uKCl7cmV0dXJuIGEuYXNtLnN0YWNrQWxsb2MuYXBwbHkobnVsbCxhcmd1bWVudHMpfTtmdW5jdGlvbiBhcihlKXt0aGlzLm5hbWU9IkV4aXRTdGF0dXMiLHRoaXMubWVzc2FnZT0iUHJvZ3JhbSB0ZXJtaW5hdGVkIHdpdGggZXhpdCgiK2UrIikiLHRoaXMuc3RhdHVzPWV9ZnVuY3Rpb24gc3IoZSl7ZnVuY3Rpb24gdCgpe2EuY2FsbGVkUnVufHwoYS5jYWxsZWRSdW49ITAsRXx8KGllfHwoaWU9ITAsUSh0ZSkpLFEocmUpLGEub25SdW50aW1lSW5pdGlhbGl6ZWQmJmEub25SdW50aW1lSW5pdGlhbGl6ZWQoKSxmdW5jdGlvbigpe2lmKGEucG9zdFJ1bilmb3IoImZ1bmN0aW9uIj09dHlwZW9mIGEucG9zdFJ1biYmKGEucG9zdFJ1bj1bYS5wb3N0UnVuXSk7YS5wb3N0UnVuLmxlbmd0aDspZT1hLnBvc3RSdW4uc2hpZnQoKSxvZS51bnNoaWZ0KGUpO3ZhciBlO1Eob2UpfSgpKSl9ZmU+MHx8KGZ1bmN0aW9uKCl7aWYoYS5wcmVSdW4pZm9yKCJmdW5jdGlvbiI9PXR5cGVvZiBhLnByZVJ1biYmKGEucHJlUnVuPVthLnByZVJ1bl0pO2EucHJlUnVuLmxlbmd0aDspZT1hLnByZVJ1bi5zaGlmdCgpLGVlLnVuc2hpZnQoZSk7dmFyIGU7UShlZSl9KCksZmU+MHx8YS5jYWxsZWRSdW58fChhLnNldFN0YXR1cz8oYS5zZXRTdGF0dXMoIlJ1bm5pbmcuLi4iKSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7YS5zZXRTdGF0dXMoIiIpfSksMSksdCgpfSksMSkpOnQoKSkpfWZ1bmN0aW9uIHVyKGUpe3Rocm93IGEub25BYm9ydCYmYS5vbkFib3J0KGUpLHZvaWQgMCE9PWU/KGEucHJpbnQoZSksYS5wcmludEVycihlKSxlPUpTT04uc3RyaW5naWZ5KGUpKTplPSIiLEU9ITAsImFib3J0KCIrZSsiKS4gQnVpbGQgd2l0aCAtcyBBU1NFUlRJT05TPTEgZm9yIG1vcmUgaW5mby4ifWlmKGEuZHluQ2FsbF9kaWk9ZnVuY3Rpb24oKXtyZXR1cm4gYS5hc20uZHluQ2FsbF9kaWkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxhLmR5bkNhbGxfaT1mdW5jdGlvbigpe3JldHVybiBhLmFzbS5keW5DYWxsX2kuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxhLmR5bkNhbGxfaWk9ZnVuY3Rpb24oKXtyZXR1cm4gYS5hc20uZHluQ2FsbF9paS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGEuZHluQ2FsbF9paWk9ZnVuY3Rpb24oKXtyZXR1cm4gYS5hc20uZHluQ2FsbF9paWkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxhLmR5bkNhbGxfaWlpaT1mdW5jdGlvbigpe3JldHVybiBhLmFzbS5keW5DYWxsX2lpaWkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxhLmR5bkNhbGxfaWlpaWk9ZnVuY3Rpb24oKXtyZXR1cm4gYS5hc20uZHluQ2FsbF9paWlpaS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGEuZHluQ2FsbF9paWlpaWk9ZnVuY3Rpb24oKXtyZXR1cm4gYS5hc20uZHluQ2FsbF9paWlpaWkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxhLmR5bkNhbGxfaWlpaWlpaT1mdW5jdGlvbigpe3JldHVybiBhLmFzbS5keW5DYWxsX2lpaWlpaWkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxhLmR5bkNhbGxfaWlpaWlpaWlpaT1mdW5jdGlvbigpe3JldHVybiBhLmFzbS5keW5DYWxsX2lpaWlpaWlpaWkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxhLmR5bkNhbGxfaWlpaWlpamlpPWZ1bmN0aW9uKCl7cmV0dXJuIGEuYXNtLmR5bkNhbGxfaWlpaWlpamlpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sYS5keW5DYWxsX2lqaj1mdW5jdGlvbigpe3JldHVybiBhLmFzbS5keW5DYWxsX2lqai5hcHBseShudWxsLGFyZ3VtZW50cyl9LGEuZHluQ2FsbF9qaT1mdW5jdGlvbigpe3JldHVybiBhLmFzbS5keW5DYWxsX2ppLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sYS5keW5DYWxsX3Y9ZnVuY3Rpb24oKXtyZXR1cm4gYS5hc20uZHluQ2FsbF92LmFwcGx5KG51bGwsYXJndW1lbnRzKX0sYS5keW5DYWxsX3ZpPWZ1bmN0aW9uKCl7cmV0dXJuIGEuYXNtLmR5bkNhbGxfdmkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxhLmR5bkNhbGxfdmlpPWZ1bmN0aW9uKCl7cmV0dXJuIGEuYXNtLmR5bkNhbGxfdmlpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sYS5keW5DYWxsX3ZpaWQ9ZnVuY3Rpb24oKXtyZXR1cm4gYS5hc20uZHluQ2FsbF92aWlkLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sYS5keW5DYWxsX3ZpaWk9ZnVuY3Rpb24oKXtyZXR1cm4gYS5hc20uZHluQ2FsbF92aWlpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sYS5keW5DYWxsX3ZpaWlpPWZ1bmN0aW9uKCl7cmV0dXJuIGEuYXNtLmR5bkNhbGxfdmlpaWkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxhLmR5bkNhbGxfdmlpaWlpPWZ1bmN0aW9uKCl7cmV0dXJuIGEuYXNtLmR5bkNhbGxfdmlpaWlpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sYS5keW5DYWxsX3ZpaWlpaWk9ZnVuY3Rpb24oKXtyZXR1cm4gYS5hc20uZHluQ2FsbF92aWlpaWlpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sYS5keW5DYWxsX3ZpaWlpaWlpaWk9ZnVuY3Rpb24oKXtyZXR1cm4gYS5hc20uZHluQ2FsbF92aWlpaWlpaWlpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sYS5keW5DYWxsX3ZpaWlpaWlpaWlpPWZ1bmN0aW9uKCl7cmV0dXJuIGEuYXNtLmR5bkNhbGxfdmlpaWlpaWlpaWkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxhLmR5bkNhbGxfdmlqPWZ1bmN0aW9uKCl7cmV0dXJuIGEuYXNtLmR5bkNhbGxfdmlqLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sYS5keW5DYWxsX3Zpamk9ZnVuY3Rpb24oKXtyZXR1cm4gYS5hc20uZHluQ2FsbF92aWppLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sYS5hc209WHQsYXIucHJvdG90eXBlPW5ldyBFcnJvcixhci5wcm90b3R5cGUuY29uc3RydWN0b3I9YXIsZGU9ZnVuY3Rpb24gZSgpe2EuY2FsbGVkUnVufHxzcigpLGEuY2FsbGVkUnVufHwoZGU9ZSl9LGEucnVuPXNyLGEuZXhpdD1mdW5jdGlvbihlLHQpe3QmJmEubm9FeGl0UnVudGltZSYmMD09PWV8fChhLm5vRXhpdFJ1bnRpbWV8fChFPSEwLCQ9dm9pZCAwLFEobmUpLGEub25FeGl0JiZhLm9uRXhpdChlKSksZCYmcHJvY2Vzcy5leGl0KGUpLGEucXVpdChlLG5ldyBhcihlKSkpfSxhLmFib3J0PXVyLGEucHJlSW5pdClmb3IoImZ1bmN0aW9uIj09dHlwZW9mIGEucHJlSW5pdCYmKGEucHJlSW5pdD1bYS5wcmVJbml0XSk7YS5wcmVJbml0Lmxlbmd0aD4wOylhLnByZUluaXQucG9wKCkoKTtyZXR1cm4gYS5ub0V4aXRSdW50aW1lPSEwLHNyKCksdH07ZnVuY3Rpb24gcyh7cmVzb3VyY2VJZDplLHVybDp0fSl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihlLHIpe2lmKCFuKXRocm93IG5ldyBFcnJvcigidW5wYWNrQnJpZGdlIG5vdCBkZXRlY3RlZCIpO2lmKCFvKXRocm93IG5ldyBFcnJvcigidW5wYWNrIG5vdCBkZXRlY3RlZCIpOyhmdW5jdGlvbihlKXtyZXR1cm4gZmV0Y2gobmV3IFJlcXVlc3QoZSkpLnRoZW4oKGU9PntpZihlLm9rKXJldHVybiBlLmFycmF5QnVmZmVyKCk7dGhyb3cgbmV3IEVycm9yKCI0MDQgRXJyb3I6IEZpbGUgbm90IGZvdW5kLiIpfSkpLnRoZW4oKGU9Pm4uY3JlYXRlRXh0cmFjdG9yRnJvbURhdGEoZSkpKX0pKHQpLnRoZW4oKHQ9PntlKHQuZXh0cmFjdEFsbCgpKX0pLChlPT57cihlKX0pKX0pKX1mdW5jdGlvbiB1KGUsdCl7Y29uc3RbcixuXT10O2lmKCJGQUlMIj09ci5zdGF0ZSl7Y29uc3QgdD17dHlwZToiRVJST1IiLHJlYXNvbjpyLnJlYXNvbixtc2c6ci5tc2cscmVzb3VyY2VJZDplLmRhdGEucmVzb3VyY2VJZCx1cmw6ZS5kYXRhLnVybH07cmV0dXJuIHZvaWQgc2VsZi5wb3N0TWVzc2FnZSh0KX1jb25zdCBvPXt0eXBlOiJGSU5JU0hFRCIscmVzb3VyY2VJZDplLmRhdGEucmVzb3VyY2VJZCxlbnRyaWVzOnt9fSxpPVtdO2lmKG4mJm4uZmlsZXMpZm9yKGNvbnN0IGUgb2Ygbi5maWxlcylvLmVudHJpZXNbZS5maWxlSGVhZGVyLm5hbWVdPWUuZXh0cmFjdFsxXSxpLnB1c2goZS5leHRyYWN0WzFdLmJ1ZmZlcik7c2VsZi5wb3N0TWVzc2FnZShvLGkpfW9ubWVzc2FnZT1mdW5jdGlvbihlKXtpZigiaW5pdCI9PWUuZGF0YS50eXBlKW89YShlLmRhdGEud2FzbVVybCksby5vblJ1bnRpbWVJbml0aWFsaXplZD0oKT0+cG9zdE1lc3NhZ2Uoe3R5cGU6IldBU01fTE9BREVEIn0pO2Vsc2UgaWYoImZldGNoIj09ZS5kYXRhLnR5cGUpcyhlLmRhdGEpLnRoZW4oKHQ9Pnt1KGUsdCl9KSwodD0+e2NvbnN0IHI9e3R5cGU6IkVSUk9SIixyZXNvdXJjZUlkOmUuZGF0YS5yZXNvdXJjZUlkLHVybDplLmRhdGEudXJsfTtzZWxmLnBvc3RNZXNzYWdlKHIpfSkpO2Vsc2UgaWYoInVucGFjayI9PWUuZGF0YS50eXBlKXtjb25zdHtidWZmZXI6dH09ZS5kYXRhO2lmKCFuKXRocm93IG5ldyBFcnJvcigidW5wYWNrQnJpZGdlIG5vdCBkZXRlY3RlZCIpO2lmKCFvKXRocm93IG5ldyBFcnJvcigidW5wYWNrIG5vdCBkZXRlY3RlZCIpO2NvbnN0IHI9bi5jcmVhdGVFeHRyYWN0b3JGcm9tRGF0YSh0KS5leHRyYWN0QWxsKCk7dShlLHIpfX19KG89e3BhdGg6bixleHBvcnRzOnt9LHJlcXVpcmU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gcihudWxsPT10JiZvLnBhdGgpfX0sby5leHBvcnRzKSxvLmV4cG9ydHMpKX0oKTsKCg==",X=null,V=!1,c?d(G,X,V):function(Z,l,b){var d;return function(c){return d=d||m(Z,l,b),new Worker(d,c)}}(G,X,V));let y=window.navigator.hardwareConcurrency;y||(y=Z.isMobileDevice?4:6),y--;const u=new class{constructor(){this.__callbacks={},this.__workers=[],this.__nextWorker=0}init(Z){this.resourceLoader=Z,this.wasmUrl=this.resourceLoader.baseUrl+"public-resources/unpack.wasm"}getType(){return"archive"}__getWorker(){return this.__nextWorker=(this.__nextWorker+1)%y,null==this.__workers[this.__nextWorker]&&(this.__workers[this.__nextWorker]=(()=>new Promise((Z=>{const l=new W;l.postMessage({type:"init",wasmUrl:this.wasmUrl}),l.onmessage=b=>{if("WASM_LOADED"===b.data.type)Z(l);else if("FINISHED"===b.data.type)this.__onFinishedReceiveFileData(b.data);else if("ERROR"===b.data.type){const Z=b.data;console.error(`Unable to load Resource: ${Z.resourceId}`)}}})))()),this.__workers[this.__nextWorker]}__terminateWorkers(){for(const Z of this.__workers)Z.terminate();this.__workers=[]}loadFile(Z){this.resourceLoader.incrementWorkload(1);return new Promise(((l,b)=>{Z in this.__callbacks||(this.__callbacks[Z]=[]),this.__callbacks[Z].push(l),fetch(Z).then((l=>{if(this.resourceLoader.incrementWorkDone(1),function(Z){return!!Z.ok&&Z}(l))return l.arrayBuffer();b(new Error(`loadArchive: ${l.status} - ${l.statusText} : ${Z}`))})).then((b=>{const d=Z;d in this.__callbacks||(this.__callbacks[d]=[]),this.__callbacks[d].push(l),this.__getWorker().then((Z=>{Z.postMessage({type:"unpack",resourceId:d,buffer:b})}))}))}),(()=>{}))}__onFinishedReceiveFileData(Z){const l=Z.resourceId,b=this.__callbacks[l];if(b){for(const l of b)l(Z.entries);delete this.__callbacks[l]}}};window.zeaEngine.resourceLoader.registerPlugin(u);const i=new class{init(Z){this.resourceLoader=Z}getType(){return"json"}loadFile(Z){this.resourceLoader.incrementWorkload(1);return new Promise(((l,b)=>{fetch(Z).then((d=>{this.resourceLoader.incrementWorkDone(1),!function(Z){return!!Z.ok&&Z}(d)?b(`loadJSON: ${d.status} - ${d.statusText} : ${Z}`):l(d.json())}))}),(()=>{}))}};window.zeaEngine.resourceLoader.registerPlugin(i);const I=new class{init(Z){this.resourceLoader=Z}getType(){return"text"}loadFile(Z){this.resourceLoader.incrementWorkload(1);return new Promise(((l,b)=>{fetch(Z).then((d=>{this.resourceLoader.incrementWorkDone(1),!function(Z){return!!Z.ok&&Z}(d)?b(`loadText: ${d.status} - ${d.statusText} : ${Z}`):l(d.text())}))}),(()=>{}))}};window.zeaEngine.resourceLoader.registerPlugin(I);const p=new class{init(Z){this.resourceLoader=Z}getType(){return"binary"}loadFile(Z){this.resourceLoader.incrementWorkload(1);return new Promise(((l,b)=>{fetch(Z).then((d=>{this.resourceLoader.incrementWorkDone(1),!function(Z){return!!Z.ok&&Z}(d)?b(`loadBinary: ${d.status} - ${d.statusText} : ${Z}`):l(d.arrayBuffer())}))}),(()=>{}))}};window.zeaEngine.resourceLoader.registerPlugin(p)}));
//# sourceMappingURL=plugins.umd.js.map
